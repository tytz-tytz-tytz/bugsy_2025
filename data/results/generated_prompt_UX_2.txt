Ты — инженер по тестированию пользовательских интерфейсов.

Твоя задача:
Протестировать настройки условий запуска рассылок в интерфейсе с точки зрения логики и корректности работы элементов UI.

Цель тестирования: 
Проверить frontend-логику интерфейса, включая:
- отображение данных;
- реакцию на действия пользователя (клики, ввод, переключения);
- валидацию форм;
- поведение при ошибках (некорректные данные, проблемы с сервером);
- взаимодействие с backend (отправка и получение данных);
- сохранение и восстановление состояния компонентов.

Что протестировать: 
Сконцентрируйся на элементах управления, связанных с задачей:
- выпадающие списки;
- чекбоксы;
- поля ввода;
- переключатели;
- логика зависимости между ними.

Требования к тест-кейсам:
- Покрытие с использованием классов эквивалентности;
- Включи позитивные, негативные и граничные случаи;
- Общее количество тестов: около 20.

Формат описания теста:
1. Название теста
2. Предусловия
3. Действия
4. Ожидаемый результат

О продукте:
Marketer — интерфейс Maxbot для настройки и запуска клиентских рассылок через мессенджеры и SMS. Интерфейс включает инструменты автоматизации (например, генерация событий, фильтрация по аудитории, настройка сценариев).

Контекст:
Ниже приведены фрагменты документации, описывающие поведение интерфейса. Используй их при генерации тестовых сценариев:

Фрагмент 1: 38 клиентов). Это позволит начать одну или несколько других рассылок. Текущая рассылка при этом не будет остановлена, ее сценарий продолжит выполняться. Рисунок 56 — Выбор действия «Сгенерировать событие Например, есть рассылка, предлагающая клиенту воспользоваться промокодом (см. Рисунок 57). Если клиент нажимает на кнопку, то во втором блоке рассылки генерируется событие «Создание промокода для клиента». Примечание: Событие, используемое в сценарии рассылки, должно быть предварительно создано. Подробнее об этом см. в разделе Использование событий. Рисунок 57 — Рассылка, в сценарии которой генерируется событие для клиента В аргументах события, генерируемого для клиента, нужно задать требуемые значения. В нашем случае нужно задать значения для 3-х аргументов (см. Рисунок 58): • промокод — строка;

Фрагмент 2: 39 • размер скидки (%) — число; • действует до — строка. Рисунок 58 — Событие «Создание промокода для клиента» и его аргументы Пример ввода значений аргументов события показан на рисунке 59. При указании строковых значений необходимо использовать символ кавычек (“); числовые значения и даты задаются без кавычек. Значение аргумента также может быть пустым (не задано). При этом могут быть заданы как статические значения аргументов (в примере выше), так и динамические — макросы, уникальные для каждого клиента. Переключатель под названием события определяет, для кого будет сгенерировано событие: • только для текущего клиента или • для множества клиентов (для рассылок с фиксированной аудиторией).

Фрагмент 3: 58 Таблица 2 — Состояние диалога во время начала рассылки по ключевым словам Состояние диалога closed bot waiting active Может ли начаться рассылка по ключевым словам? * * - При использовании ключевого слова обращение к оператору будет отклонено. Клиент будет уведомлен об этом и перемещен в канал bot. После этого начнется рассылка по ключевым словам. Чтобы рассылка больше не начиналась для клиентов, нужно либо задать дату с временем окончания рассылки, либо вручную остановить рассылку или перевести ее в пассивный режим. Начинать при выставлении тега В этом случае рассылка стартует для тех клиентов, которые после ее запуска получили один из заданных тегов. Если тег уже был выставлен ранее, то рассылка не стартует. Если после запуска рассылки тег был выставлен дважды, т. е. сначала выставлен, потом удален, а затем снова выставлен, то рассылка может прийти клиенту дважды. Может — потому что есть другая опция, регулирующая это поведение, об этом далее в подразделе Расширенные настройки. Чтобы прекратить запуск рассылок для клиентов, которые получают заданные теги, нужно остановить рассылку или перевести ее в пассивный режим, либо задать дату с временем окончания рассылки. Начинать при возникновении события В этом случае сценарий рассылки будет запущен для тех клиентов, для которых после запуска рассылки сгенерировано внешнее событие. Например, CRM компании может сгенерировать событие «Клиент совершил покупку». Информация об этом событии вместе с дополнительными аргументами может быть передана в консоль маркетолога, и для клиента может быть запущена специальная рассылка. Подробнее об этом описано в разделе Использование событий. Чтобы прекратить запуск рассылок для клиентов, для которых генерируются события, нужно остановить рассылку или перевести ее в пассивный режим, либо задать дату с временем окончания рассылки.. Начинать при возникновении события для заданной аудитории В этом случае рассылка стартует при возникновении события, но не для заданного в событии клиента, а для указанной в настройках рассылки целевой аудитории.

Фрагмент 4: 57 Рисунок 82 — Настройка рассылки, которая начинается по ключевым словам При проверке совпадения ключевых слов есть ряд важных особенностей: • Регистр букв не учитывается. Например, если в настройках рассылки будет указано слово «ХочуСкидку», а клиент пришлет «хочускидку», то рассылка начнется; • Пробельные символы до и после слова/фразы не учитываются. Например, если в настройках рассылки будет указано слово «ХочуСкидку», а клиент пришлет «  ХочуСкидку   », то рассылка начнется; • Проверяется совпадение всего сообщения целиком. Например, если в настройках рассылки будет указано слово «ХочуСкидку», а клиент пришлет «ХочуСкидку, пожалуйста», то рассылка не начнется; • Минимальная длина ключевого слова – один символ. Например, можно использовать смайлик –   . Есть ограничение, что для каждого ключевого слова может быть запущена (в активном режиме) только одна рассылка. То есть запуск двух рассылок с одним ключевым словом невозможен. Ограничений на существование рассылок в пассивном и других режимах, настроенных на начало по одному ключевому слову, нет. Еще одним условием начала рассылки по ключевым словам, является состояние диалога, в котором клиент отправляет ключевое слово. Если клиент использует ключевое слово в переписке с оператором (состояние диалога active7) или ботом (состояние диалога bot), то рассылка не начнется. Если ключевое слово будет использовано при ожидании в канале (состояния диалога waiting), то рассылка начнется, но клиент будет уведомлен о том, что ожидание в канале прервано и он вернулся к боту. Ниже представлена Таблица 2, описывающая поведение бота при использовании ключевых слов в разных состояниях диалога.

Фрагмент 5: 16 Рисунок 17 — Расположение кнопок запуска / остановки в списке рассылок Рядом со строкой поиска рассылки по названию справа размещена иконка фильтра . При ее нажатии можно отфильтровать рассылки в каталоге по типу рассылки (информационная и целевая) и по состоянию рассылки (не запускалась, включена в активном режиме, в пассивном и выключена) см. Рисунок 18. Рисунок 18 - Фильтры, применяемые в каталоге рассылок Настройка сценария рассылки Конструктор позволяет задать сценарий рассылки, который будет выполняться для каждого клиента из аудитории рассылки. Сценарий рассылки состоит из: • события Start; • блоков действий; • связей между блоками действий. При создании рассылки в конструкторе автоматически создается событие Start, которое является начальной точкой выполнения сценария рассылки. Также в редакторе отображается кнопка «Добавить блок», при помощи которой в рассылку добавляются блоки действий. События и блоки действий соединяются при помощи мыши, образуя связи. В простейшем случае сценарий рассылки представляет собой событие Start, связанное с одним блоком действий (см. Рисунок 19).

Фрагмент 6: 78 Рисунок 104 — Ввод параметров SMS-провайдера 3. Нажать на кнопку «Создать». Примечание: При создании SMS-провайдеров «СМС услуги» и «SMS.ru» есть ряд особенностей, которые описаны в Приложении В и в Приложении Г соответственно. Добавление SMS-провайдера в рассылку После создания SMS-провайдер может быть добавлен в любую рассылку. Это позволит добавить в рассылку SMS-блок и отправлять SMS клиентам, которые еще не подключились к мессенджерам. Для этого необходимо открыть рассылку, перейти в раздел «Условия начала рассылки» и открыть подраздел «Расширенные настройки» (см. Рисунок 105). Примечание: Есть возможность принудительной отправки SMS, даже если клиент уже подключился с использованием мессенджера и подтвердил номер телефона в мессенджере. Для этого

Фрагмент 7: 44 Рисунок 66 — Добавления блока «SMS-сообщения» Примечание: По умолчанию после создания рассылки добавление блока «SMS-сообщения» недоступно. Для разблокирования этой возможности необходимо сначала выбрать SMS- провайдера, см. подробнее в разделах Регистрация SMS-провайдера и Добавление SMS-провайдера в рассылку. Блок «Форма» При необходимости проведения опроса клиентов можно добавить в рассылку блок «Форма» (см. Рисунок 67). Блок позволяет при помощи конструктора задать порядок проведения опроса, а также форматы вопросов и ответов. Подробнее о возможностях данного блока и особенностях его применения в рассылках см. в разделе Опрос клиентов с помощью форм. Рисунок 67 — Добавления блока «Форма» Связи между блоками действий Связь между событием и блоком означает безусловное выполнение действий блока сразу или через заданный промежуток времени после возникновения события. Таким образом, связь всегда исходит из событий и заканчивается в блоке действий. В один блок действий могут приходить несколько связей.

Фрагмент 8: 18 Рисунок 20 — Ввод текстового сообщения для отправки При нажатии на id сообщения (на представленном рисунке это «916») будет открыто окно редактирования, которое удобно использовать для ввода больших текстов рассылок. 2. Медиа-контент — изображения, видео, аудио и документы, которые могут быть добавлены к сообщению. Поддерживаются наиболее распространенные форматы (см. таблицу 1). Таблица 1 — Рекомендуемые форматы файлов и их поддержка в мессенджерах Тип Форматы Возможность загрузки файлов Viber ВКонтакте Telegram Facebook* Instagram1* Изображение

Фрагмент 9: но задается без кавычек и скобок telegram, vkontakte, facebook*, viber failback_to_sms Логический признак: отправлять ли SMS клиенту, если он еще не подтвердил номер телефона ни в одном из мессенджеров. Аналогично формату JSON. false или true

Фрагмент 10: 79 в файле аудитории (см. раздел Определение аудитории) нужно задать поле messengers_order пустым и выставить failback_to_sms = True. Рисунок 105 — Выбор SMS-провайдера для рассылок Использование SMS-блока в конструкторе После выбора SMS-провайдера в конструкторе рассылки появляется возможность добавить SMS-блок: при нажатии на кнопку «Добавить блок» появляется меню выбора из блоков (см. Рисунок 106). Рисунок 106 — Доступен новый тип блока «SMS-сообщения» SMS-блок добавляется в сценарий так же, как и обычный блок, кроме того, что связь нельзя «снять», а таймаут — изменить (см. Рисунок 107). При запуске рассылки клиенты будут получать либо сообщения в мессенджер (как в обычной рассылке), либо только SMS-блок. Получить и то, и другое клиенты рассылки при запуске не могут. Выбор между SMS или сообщением в мессенджер происходит на основе флага failback_to_sms, задаваемого для каждого клиента отдельно (см. подробнее в разделе Определение аудитории).
