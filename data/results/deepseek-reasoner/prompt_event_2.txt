Ты — инженер по тестированию пользовательских интерфейсов.

Работа ведётся в рамках интерфейса Marketer, где события используются как триггеры для запуска рассылок.

Твоя задача: 
Напиши набор тест-кейсов, проверяющих корректность редактирования существующего пользовательского события в интерфейсе Marketer.
Сформируй набор тест-кейсов, достаточный для полного покрытия следующих аспектов редактирования пользовательских событий:
- Условия, при которых редактирование разрешено / запрещено;
- Разные типы аргументов (строковые, числовые, булевы и т.д.);
- Макросы, использующие аргументы;
- Позитивные, негативные и граничные сценарии;
- Ошибки сохранения, отсутствие соединения с сервером, пустые поля;
- Поведение при наличии активных рассылок;
- UI-функции: переключатели, валидация, реакции на ошибки;
- Ограничения, реализованные на уровне интерфейса:
  - заблокированные (disabled) кнопки при недопустимом состоянии;
  - выпадающие списки для выбора из ограниченного набора значений;
  - невозможность ручного ввода в поля, где ввод запрещён (например, readonly);
  - запрет ввода недопустимых символов, значений вне допустимого диапазона;
  - скрытые/неактивные элементы управления, если редактирование запрещено.
Количество тестов не ограничено, важно максимальное покрытие.

Цель тестирования:
Проверить frontend-логику интерфейса, включая:
- отображение данных;
- реакцию на действия пользователя (клики, ввод, переключения);
- валидацию данных;
- поведение при ошибках (некорректные данные, проблемы с сервером);
- взаимодействие с backend (отправка и получение данных);
- блокировку недопустимых операций.

Что протестировать: 
Сконцентрируйся на элементах управления и логике событий:
- изменение названия события;
- изменение идентификатора события;
- добавление/удаление аргументов;
- валидация типов и названий аргументов;
- ограничения при редактировании событий, связанных с активными рассылками;
- поведение при удалении аргументов, используемых в макросах;
- реакции интерфейса на попытки нарушить ограничения;
- поведение при редактировании событий, участвующих в запущенных рассылках.

Требования к тест-кейсам:
- Используй разнообразные элементы интерфейса, классы эквивалентности, позитивные, негативные и граничные случаи;
- Не включай тесты, связанные с визуальной стилизацией, адаптивностью, кроссбраузерностью и мультиязычностью;
- Включи тесты с граничными значениями, множественным выбором, конфликтами, валидацией, удалением блоков после связывания, отменой настроек, некорректными параметрами и пустыми полями.

Формат описания теста:
1. Тест № <N>: Название теста
2. Предусловия
3. Действия
4. Ожидаемый результат

Примеры тестовых кейсов на основе фрагментов документации:
---
Фрагмент документации: Редактирование и удаление аргументов события ограничено созданными в рассылке макросами. Если аргумент события не используется в рассылке, то его можно удалять и изменять. Если используется, то доступно только изменение названия аргумента.
Тест №1: Попытка удалить событие, связанное с рассылкой
Предусловия: Создано пользовательское событие, на которое настроена как минимум одна рассылка.
Действия:
1. Перейти в раздел «События».
2. Выбрать нужное событие.
3. Нажать кнопку «Удалить».
Ожидаемый результат: Появляется сообщение об ошибке с указанием номеров рассылок, в которых используется событие, удаление невозможно.

Фрагмент документации: Редактирование и удаление аргументов события ограничено созданными в рассылке макросами. Если аргумент события не используется в рассылке, то его можно удалять и изменять. Если используется, то доступно только изменение названия аргумента.
Тест №2: Разрешённое редактирование аргументов события, связанного с рассылкой
Предусловия: Событие с аргументами является стартом для рассылки, аргументы события не используются в рассылке.
Действия:
1. Перейти в редактирование события.
2. Изменить название одного из аргументов.
3. Изменить идентификатор одного из аргументов.
4. Изменить тип одного аргументов
Ожидаемый результат: Изменения сохраняются успешно. Данные обновляются.

Фрагмент документации: Редактирование и удаление аргументов события ограничено созданными в рассылке макросами. Если аргумент события не используется в рассылке, то его можно удалять и изменять. Если используется, то доступно только изменение названия аргумента.
Тест №3: Удаление аргумента, который не используется в рассылке
Предусловия: Существует рассылка, со стартом по событию, которое содержит аргумент service_type. Аргумент service_type не используется в рассылке.
Действия:
1. Перейти в редактирование события.
2. Удалить аргумент service_type.
3. Сохранить изменения.
Ожидаемый результат: Удаление проходит успешно. Аргумент исчезает из схемы события.

Фрагмент документации: Редактирование и удаление аргументов события ограничено созданными в рассылке макросами. Если аргумент события не используется в рассылке, то его можно удалять и изменять. Если используется, то доступно только изменение названия аргумента.
Тест №4: Попытка удалить аргумент, используемый в сообщении рассылки.
Предусловия: Существует рассылка, со стартом по событию, которое содержит phone_number. Аргумент phone_number используется в тексте сообщения рассылки через макрос {{phone_number}}.
Действия:
1. Перейти в редактирование события.
2. Нажать "Удалить аргумент phone_number".
3. Подтвердить удаление.
Ожидаемый результат: Появляется сообщение об ошибке, указывающем на то, что макрос используется в рассылке и его удаление невозможно. Удаление блокируется.
---

О продукте:
Marketer — интерфейс Maxbot для настройки и запуска клиентских рассылок через мессенджеры и SMS. Интерфейс включает инструменты автоматизации (например, генерация событий, фильтрация по аудитории, настройка сценариев).

Контекст для модели:
---
Ниже приведены фрагменты документации, описывающие поведение интерфейса в контексте событий. Используй их при генерации тестовых сценариев:

События могут являться триггером к началу рассылки для клиента. Это удобно для решения некоторых маркетинговых задач. Например, можно создать событие «Клиент воспользовался услугой» и генерировать его при оплате клиентом услуги. Получив информацию о событии, бот может запустить одну или несколько рассылок этому клиенту: контроль качества через несколько дней, повторное предложение услуги со скидкой через месяц и т. д.
События делятся на два типа:
1. Системные:
• Добавление нового клиента;
• Подтверждение номера телефона.
2. Пользовательские.

Пользовательские события
Пользовательские события могут генерироваться из другой рассылки или с помощью специального вызова API.
Пользовательские события можно создавать и удалять из интерфейса консоли маркетолога.

При создании события задается его идентификатор, имя и аргументы. Идентификатор события используется при генерации события. Имя используется для отображения события в интерфейсе, например, при выборе события в условиях запуска рассылки.
Аргументы позволяют передавать дополнительную информацию при генерации события.
При создании пользовательских событий в них может быть добавлено произвольное число аргументов. Например, для события «Клиент воспользовался услугой» можно добавить аргументы «Дата оказания услуги» и «Мастер, который оказывал услугу». Эти аргументы можно будет использовать в текстах сообщений, кнопках рассылки и других текстовых полях аналогично макросам. Таким образом, можно создавать персонифицированные для каждого клиента рассылки.

Редактирование событий
После создания пользовательского события маркетолог может произвольно редактировать все доступные поля и удалить его.
Если хотя бы одна рассылка настроена на старт по данному событию, то его удаление запрещено, редактирование названия и идентификатора рассылки разрешено. Редактирование и удаление аргументов события ограничено созданными в рассылке макросами. Если аргумент события не используется в рассылке, то его можно удалять и изменять. Если используется, то доступно только изменение названия аргумента.
Если хотя бы одна из рассылок, настроенных на старт по данному событию, запущена, то редактирование всех полей события и его аргументов запрещено.

Тестирование рассылок, запускаемых по событию
В интерфейсе консоли маркетолога предусмотрена возможность генерации событий в целях тестирования.
Для этого можно нажать кнопку «Сгенерировать событие» в разделе «События» напротив выбранного события или на странице самого события.
После генерации события с использованием интерфейса Marketer в области «Список launch_result_ids» отображаются специальные ссылки, позволяющие перейти к отладке рассылки.
При переходе по ссылке отображается интерфейс отладки, в котором применен фильтр по выбранному идентификатору запуска (launch_result_id).
Для передачи информации о запросе разработчикам компании, например, для интеграции с CRM, удобно использовать кнопки копирования запроса в формате curl.

При генерации событий при помощи интерфейса консоли маркетолога система не даст ввести значения аргументов, не соответствующие их типу. При генерации событий при помощи API-вызовов также выполняется проверка соответствия типов аргументов. Например, при вызове события с некорректным значением аргумента vip:
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer Contoso_:eyJoXfDsaJkKrsGFH..." -d '{ "customer_messenger_id": 13561, "event_name": "numeric_code_for_client", "arguments": { "code": 133442, "discount": 15, "vip": "no" } }' "https://mailing-factory.dev.maxbot.ai/v1/event"
сервер вернет ответ с HTTP-статусом 409:
HTTP/2 409 { "detail": "Argument type error(boolean): no", "key": "argument_type" }

Использование макросов
Макросы позволяют персонифицировать рассылки для клиентов. Например, можно создать рассылку, в тексте которой используются два макроса:
• customer_name — имя и отчество клиента;
• customer_discount — персональная скидка.
Далее можно использовать файл аудитории, в котором заданы значения для используемых макросов.
Каждому клиенту из аудитории рассылки можно задать свои значения, таким образом, сделав рассылку уникальной для каждого клиента.

Поля, в которых можно использовать макросы
Макросы можно использовать почти во всех текстовых полях конструктора рассылок:
• Тексты сообщений;
• Заголовки кнопок;
• URL для кнопок-ссылок;
• URL для медиа-контента;
• Сообщения при переводе в канал;
• Большинство полей настроек вызова внешней системы (кроме названий заголовков запроса и названий параметров запроса);
• Аргументы события при генерации событий;
• Все текстовые поля SMS-блока и настройки вызова внешней системы в SMS-блоке
• Многие текстовые поля других действий9.

Если рассылка начинается при возникновении события, то в рассылку можно добавлять только макросы, названия которых совпадают с именами аргументов события, по которому стартует рассылка. При попытке использовать другой макрос возникнет ошибка. При попытке удалить аргумент события, который используется в рассылке, возникнет ошибка. При попытке сменить событие, по которому запускается рассылка, требуется чтобы у нового события были все аргументы, которые используются в рассылке.

Определение значений макросов для клиентов
Для рассылок, начинающихся по событию, значения макросов передаются в аргументах события. Например, если рассылка началась по событию «Создание промокода для клиента», то в теле рассылки могут быть использованы макросы {{code}}, {{discount}} и {{valid_thru}}.
---