**Тест №5: Редактирование системного события**  
**Предусловия**: Переход в раздел редактирования системного события (напр. "Подтверждение номера телефона").  
**Действия**:  
1. Попытаться изменить название события.  
2. Попытаться добавить новый аргумент.  
**Ожидаемый результат**: Все поля заблокированы для редактирования, интерфейс отображает предупреждение "Системные события нельзя изменять".

---

**Тест №6: Изменение типа аргумента с нарушением валидации**  
**Предусловия**: Событие с аргументом типа "число" (напр. discount: 15).  
**Действия**:  
1. Изменить тип аргумента на "boolean".  
2. Ввести значение "15" для этого аргумента.  
3. Сохранить изменения.  
**Ожидаемый результат**: Появление ошибки "Несоответствие типа: ожидается boolean". Сохранение блокируется.

---

**Тест №7: Редактирование события с активной рассылкой**  
**Предусловия**: Событие привязано к запущенной рассылке.  
**Действия**:  
1. Попытаться изменить идентификатор события.  
2. Попытаться добавить новый аргумент.  
**Ожидаемый результат**: Все поля редактирования заблокированы. Отображается сообщение "Редактирование запрещено: рассылка #X активна".

---

**Тест №8: Граничный случай - максимальное количество аргументов**  
**Предусловия**: Ограничение системы: 50 аргументов на событие.  
**Действия**:  
1. Добавить 50-й аргумент.  
2. Попытаться добавить 51-й аргумент.  
**Ожидаемый результат**: Кнопка "Добавить аргумент" становится неактивной после 50 элементов.

---

**Тест №9: Использование зарезервированных символов в идентификаторе**  
**Действия**:  
1. В поле "Идентификатор события" ввести "event@2024".  
2. Попытаться сохранить изменения.  
**Ожидаемый результат**: Валидация предотвращает сохранение с ошибкой "Идентификатор может содержать только буквы, цифры и подчеркивания".

---

**Тест №10: Удаление события с неактивными рассылками**  
**Предусловия**: Событие привязано к 2 остановленным рассылкам.  
**Действия**:  
1. Нажать "Удалить событие".  
2. Подтвердить действие.  
**Ожидаемый результат**: Событие удаляется успешно. Рассылки автоматически отвязываются.

---

**Тест №11: Восстановление соединения при сохранении**  
**Предусловия**: Потеря сети во время редактирования события.  
**Действия**:  
1. Внести изменения в название события.  
2. Нажать "Сохранить" при отключенном интернете.  
3. Восстановить соединение.  
4. Повторить попытку сохранения.  
**Ожидаемый результат**: Автоматическая повторная отправка данных после восстановления связи. Изменения применяются.

---

**Тест №12: Конфликт имен аргументов**  
**Действия**:  
1. Добавить два аргумента с именем "phone".  
2. Попытаться сохранить событие.  
**Ожидаемый результат**: Ошибка валидации "Имена аргументов должны быть уникальны" с подсветкой дублирующихся полей.

---

**Тест №13: Изменение типа неиспользуемого аргумента**  
**Предусловия**: Аргумент "service_date" (тип string) не используется в рассылках.  
**Действия**:  
1. Изменить тип на "datetime".  
2. Сохранить изменения.  
**Ожидаемый результат**: Успешное сохранение. В генераторе событий для этого аргумента появляется выбор даты.

---

**Тест №14: Попытка удалить обязательное поле**  
**Предусловия**: Создание нового события без названия.  
**Действия**:  
1. Оставить поле "Название" пустым.  
2. Попытаться сохранить событие.  
**Ожидаемый результат**: Поле подсвечивается красным с текстом "Обязательное поле". Сохранение блокируется.

---

**Тест №15: Каскадное обновление макросов**  
**Предусловия**: Аргумент "discount" используется в 3 рассылках.  
**Действия**:  
1. Изменить имя аргумента на "client_discount".  
2. Сохранить изменения.  
**Ожидаемый результат**: Во всех связанных рассылках макросы {{discount}} автоматически заменяются на {{client_discount}}.