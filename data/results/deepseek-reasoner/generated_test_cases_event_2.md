### Тест №1: Редактирование названия события с активной не запущенной рассылкой  
**Предусловия**:  
- Событие привязано к рассылке в статусе "Черновик"  
- Все аргументы события не используются в макросах рассылки  

**Действия**:  
1. Открыть форму редактирования события  
2. Изменить название события на "Новое название события"  
3. Сохранить изменения  

**Ожидаемый результат**:  
- Новое название отображается в списке событий  
- Статус связанной рассылки не изменен  

---

### Тест №2: Попытка изменения идентификатора события с активной рассылкой  
**Предусловия**:  
- Событие используется в рассылке статуса "Запланирована"  

**Действия**:  
1. Открыть форму редактирования события  
2. Попытаться изменить значение поля "Идентификатор события"  
3. Попытаться сохранить изменения  

**Ожидаемый результат**:  
- Поле "Идентификатор события" доступно для редактирования  
- При сохранении появляется ошибка "Изменение идентификатора запрещено для событий с активными рассылками"  

---

### Тест №3: Добавление аргумента с различными типами данных  
**Предусловия**:  
- Событие без привязанных рассылок  

**Действия**:  
1. Добавить новый аргумент:  
   a. Имя: "Тип услуги", тип: string  
   b. Имя: "Количество", тип: integer  
   c. Имя: "VIP-статус", тип: boolean  
2. Сохранить изменения  

**Ожидаемый результат**:  
- Все аргументы отображаются в схеме события  
- Типы данных соответствуют выбранным значениям  

---

### Тест №4: Граничные значения для строкового аргумента  
**Предусловия**:  
- Событие с аргументом типа string  

**Действия**:  
1. Ввести значение длиной 255 символов  
2. Ввести значение длиной 256 символов  
3. Попытаться сохранить  

**Ожидаемый результат**:  
- Успешное сохранение при 255 символов  
- Ошибка валидации при 256 символов  

---

### Тест №5: Редактирование аргумента, используемого в макросе  
**Предусловия**:  
- Аргумент "discount" используется в тексте рассылки через {{discount}}  

**Действия**:  
1. Попытаться изменить тип аргумента с integer на string  
2. Попытаться удалить аргумент  
3. Изменить имя аргумента на "скидка"  

**Ожидаемый результат**:  
- Поле типа аргумента заблокировано  
- Кнопка удаления неактивна  
- Переименование выполняется успешно  

---

### Тест №6: Сохранение с некорректными значениями аргументов  
**Предусловия**:  
- Событие с аргументом типа boolean  

**Действия**:  
1. Ввести значение "да" вместо true/false  
2. Попытаться сохранить  

**Ожидаемый результат**:  
- Поле подсвечивается красным  
- Сообщение об ошибке "Недопустимое значение для логического типа"  

---

### Тест №7: Поведение при потере соединения  
**Предусловия**:  
- Открыта форма редактирования события  

**Действия**:  
1. Отключить сетевое соединение  
2. Попытаться сохранить изменения  

**Ожидаемый результат**:  
- Отображается сообщение "Ошибка соединения с сервером"  
- Кнопка "Сохранить" временно заблокирована  

---

### Тест №8: Редактирование события с запущенной рассылкой  
**Предусловия**:  
- Рассылка в статусе "В процессе"  

**Действия**:  
1. Попытаться изменить любое поле события  
2. Проверить статус элементов управления  

**Ожидаемый результат**:  
- Все поля формы в состоянии readonly  
- Кнопка "Сохранить" отсутствует  

---

### Тест №9: Конфликт имен аргументов  
**Предусловия**:  
- Событие с аргументом "client_id"  

**Действия**:  
1. Добавить новый аргумент с именем "client_id"  
2. Попытаться сохранить  

**Ожидаемый результат**:  
- Ошибка "Аргумент с таким именем уже существует"  
- Поле нового аргумента подсвечено  

---

### Тест №10: Валидация обязательных полей  
**Предусловия**:  
- Новое событие без имени  

**Действия**:  
1. Оставить поле "Название события" пустым  
2. Попытаться сохранить  

**Ожидаемый результат**:  
- Поле названия подсвечено красным  
- Сообщение "Поле обязательно для заполнения"  

---

### Тест №11: Использование зарезервированных идентификаторов  
**Предусловия**:  
- Попытка создать событие с идентификатором "system_event"  

**Действия**:  
1. Ввести идентификатор "system_event"  
2. Попытаться сохранить  

**Ожидаемый результат**:  
- Ошибка "Идентификатор содержит зарезервированное слово"  
- Кнопка сохранения заблокирована  

---

### Тест №12: Каскадное удаление связанных данных  
**Предусловия**:  
- Событие с аргументом, используемым в 3 рассылках  

**Действия**:  
1. Удалить аргумент (при разрешенных условиях)  
2. Проверить связанные рассылки  

**Ожидаемый результат**:  
- Во всех связанных рассылках макросы с удаленным аргументом помечены как невалидные  

---

### Тест №13: Редактирование после остановки рассылки  
**Предусловия**:  
- Рассылка в статусе "Завершена"  

**Действия**:  
1. Изменить тип аргумента  
2. Удалить неиспользуемый аргумент  

**Ожидаемый результат**:  
- Изменения сохраняются успешно  
- Статус завершенной рассылки не изменен  

---

### Тест №14: Ввод специальных символов в названии  
**Предусловия**:  
- Новое событие без ограничений  

**Действия**:  
1. Ввести название: "Событие №1!@#$%^&*()"  
2. Сохранить  

**Ожидаемый результат**:  
- Успешное сохранение  
- Спецсимволы отображаются корректно  

---

### Тест №15: Одновременное редактирование несколькими пользователями  
**Предусловия**:  
- Две сессии одного пользователя  

**Действия**:  
1. В первой сессии начать редактирование  
2. Во второй сессии попытаться сохранить изменения  

**Ожидаемый результат**:  
- Во второй сессии отображается предупреждение "Данные были изменены другим пользователем"  
- Обновление формы требуется  

---

### Тест №16: Восстановление после ошибки валидации  
**Предусловия**:  
- Попытка сохранить невалидные данные  

**Действия**:  
1. Ввести некорректное значение  
2. Получить ошибку  
3. Исправить значение  
4. Повторно сохранить  

**Ожидаемый результат**:  
- После исправления данные сохраняются  
- Сообщения об ошибках исчезают  

---

### Тест №17: Проверка ограничений для числовых аргументов  
**Предусловия**:  
- Аргумент типа integer с диапазоном 1-100  

**Действия**:  
1. Ввести значение 0  
2. Ввести значение 101  
3. Ввести значение 50  

**Ожидаемый результат**:  
- Ошибки для 0 и 101  
- Успешное сохранение для 50  

---

### Тест №18: Массовое добавление аргументов  
**Предусловия**:  
- Событие без аргументов  

**Действия**:  
1. Добавить 50 новых аргументов  
2. Сохранить  

**Ожидаемый результат**:  
- Все аргументы отображаются в списке  
- Производительность интерфейса не снижена  

---

### Тест №19: Отмена изменений  
**Предусловия**:  
- Открыта форма редактирования  

**Действия**:  
1. Внести изменения  
2. Нажать "Отмена"  

**Ожидаемый результат**:  
- Форма закрывается без сохранения  
- Исходные данные остаются неизменными  

---

### Тест №20: Проверка зависимых полей  
**Предусловия**:  
- Аргумент типа "дата"  

**Действия**:  
1. Выбрать тип "дата"  
2. Проверить доступные форматы  

**Ожидаемый результат**:  
- Отображается выбор формата (DD/MM/YYYY, MM/DD/YYYY и т.д.)  
- Валидация соответствует выбранному формату  

--- 

Этот набор тестов обеспечивает комплексное покрытие функциональности редактирования событий, учитывая все указанные требования. Каждый сценарий проверяет конкретный аспект взаимодействия пользователя с интерфейсом и его реакцию на различные условия.