**Тест №1: Редактирование названия события, связанного с неактивной рассылкой**  
**Предусловия**: Событие используется в рассылке в состоянии "Не запущена".  
**Действия**:  
1. Открыть редактирование события.  
2. Изменить название события на валидное значение.  
**Ожидаемый результат**: Название успешно изменено, изменения отображаются в интерфейсе.  

---

**Тест №2: Попытка изменить идентификатор события, используемого в активной рассылке**  
**Предусловия**: Событие является триггером для рассылки в состоянии "Включена в активном режиме".  
**Действия**:  
1. Открыть редактирование события.  
2. Попытаться изменить поле "Идентификатор события".  
**Ожидаемый результат**: Поле "Идентификатор события" заблокировано (readonly/disabled).  

---

**Тест №3: Добавление аргумента с недопустимым типом для существующего макроса**  
**Предусловия**: Событие содержит аргумент типа string, используемый в макросе рассылки.  
**Действия**:  
1. В режиме редактирования события изменить тип аргумента на decimal.  
2. Попытаться сохранить изменения.  
**Ожидаемый результат**: Появляется ошибка "Невозможно изменить тип аргумента, используемого в макросе".  

---

**Тест №4: Ввод некорректного значения для аргумента типа decimal**  
**Предусловия**: Событие содержит аргумент типа decimal.  
**Действия**:  
1. В тестовой генерации события ввести в поле аргумента значение "12.3a".  
**Ожидаемый результат**: Поле подсвечивается красным, кнопка генерации заблокирована.  

---

**Тест №5: Удаление аргумента, не связанного с макросами**  
**Предусловия**: Событие содержит аргумент, не используемый ни в одной рассылке.  
**Действия**:  
1. В режиме редактирования нажать "Удалить аргумент".  
**Ожидаемый результат**: Аргумент удален из списка, изменения применены.  

---

**Тест №6: Попытка ввода спецсимволов в идентификатор аргумента**  
**Предусловия**: Редактирование нового аргумента события.  
**Действия**:  
1. В поле "Идентификатор аргумента" ввести "user@name".  
**Ожидаемый результат**: Ввод блокируется, поле показывает ошибку "Допустимы только латинские буквы и нижние подчеркивания".  

---

**Тест №7: Редактирование события при потере соединения**  
**Предусловия**: Сеть отключена.  
**Действия**:  
1. Изменить название события.  
2. Попытаться выйти из режима редактирования.  
**Ожидаемый результат**: Появляется сообщение "Ошибка соединения", изменения не сохранены.  

---

**Тест №8: Изменение типа аргумента с categorical на boolean**  
**Предусловия**: Аргумент типа categorical не используется в макросах.  
**Действия**:  
1. Изменить тип аргумента через выпадающий список.  
2. Добавить допустимые значения для boolean.  
**Ожидаемый результат**: Тип аргумента изменен, в генерации события отображается чекбокс.  

---

**Тест №9: Граничное значение для аргумента типа decimal**  
**Предусловия**: Аргумент типа decimal с ограничением >=0.  
**Действия**:  
1. В тестовой генерации ввести значение "-1".  
**Ожидаемый результат**: Валидация не пройдена, поле подсвечено.  

---

**Тест №10: Редактирование названия аргумента, используемого в макросе**  
**Предусловия**: Аргумент связан с макросом активной рассылки.  
**Действия**:  
1. Изменить название аргумента на валидное значение.  
**Ожидаемый результат**: Название изменено, макросы в рассылках автоматически обновлены.  

---

**Тест №11: Попытка добавить аргумент с существующим идентификатором**  
**Предусловия**: Событие содержит аргумент с ID "discount".  
**Действия**:  
1. Добавить новый аргумент с ID "discount".  
**Ожидаемый результат**: Ошибка "Идентификатор должен быть уникальным".  

---

**Тест №12: Автоматическое обновление макросов при переименовании аргумента**  
**Предусловия**: Аргумент "code" используется в тексте рассылки как {{code}}.  
**Действия**:  
1. Изменить идентификатор аргумента на "promo_code".  
**Ожидаемый результат**: Все макросы {{code}} в связанных рассылках автоматически заменены на {{promo_code}}.  

---

**Тест №13: Блокировка интерфейса при одновременном редактировании**  
**Предусловия**: Событие открыто на редактирование в двух вкладках браузера.  
**Действия**:  
1. Внести изменения в первой вкладке.  
2. Попытаться сохранить изменения во второй вкладке.  
**Ожидаемый результат**: Во второй вкладке появляется сообщение "Объект был изменен другим пользователем".  

---

**Тест №14: Валидация обязательных полей при редактировании**  
**Предусловия**: Поле "Идентификатор события" очищено.  
**Действия**:  
1. Оставить поле пустым.  
2. Попытаться выйти из режима редактирования.  
**Ожидаемый результат**: Поле подсвечено красным, сообщение "Поле обязательно для заполнения".  

---

**Тест №15: Поведение при отмене изменений через навигацию**  
**Предусловия**: Внесены несохраненные изменения в название события.  
**Действия**:  
1. Нажать кнопку "Назад" в браузере.  
**Ожидаемый результат**: Появляется диалог подтверждения "Изменения не сохранены. Продолжить?".  

---

**Тест №16: Редактирование аргумента типа date**  
**Предусловия**: Аргумент типа date в событии.  
**Действия**:  
1. В тестовой генерации выбрать дату через календарь.  
2. Вручную ввести невалидную дату "32.13.2023".  
**Ожидаемый результат**: При ручном вводе некорректного значения поле показывает ошибку формата.  

---

**Тест №17: Блокировка удаления события с активными макросами**  
**Предусловия**: Событие содержит аргумент, используемый в макросе рассылки "Не запущена".  
**Действия**:  
1. Попытаться удалить аргумент.  
**Ожидаемый результат**: Кнопка удаления заблокирована, ховер-подсказка "Аргумент используется в рассылке #456".  

---

**Тест №18: Изменение порядка аргументов в списке**  
**Предусловия**: Событие содержит 3 аргумента.  
**Действия**:  
1. Перетащить аргумент №2 на позицию №1.  
**Ожидаемый результат**: Порядок аргументов сохранен, изменения отражены в интерфейсе.  

---

**Тест №19: Максимальная длина идентификатора события**  
**Предусловия**: Поле "Идентификатор события" имеет ограничение 64 символа.  
**Действия**:  
1. Ввести строку из 65 символов.  
**Ожидаемый результат**: Ввод обрезается до 64 символов, появляется счетчик "64/64".  

---

**Тест №20: Редактирование события с аргументом типа categorical**  
**Предусловия**: Аргумент типа categorical с допустимыми значениями ["gold", "silver"].  
**Действия**:  
1. Добавить новое значение "bronze".  
2. Удалить значение "silver".  
**Ожидаемый результат**: В выпадающем списке генерации события отображаются ["gold", "bronze"].