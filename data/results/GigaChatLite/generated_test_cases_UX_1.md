### Тест-кейсы для проверки условий запуска рассылок

#### 1. **Тест на корректность работы фильтров в каталоге рассылок**

**Название теста:** Проверка корректности работы фильтров в каталоге рассылок

**Предусловия:**
- Пользователь находится в каталоге рассылок.
- Активны все фильтры (тип рассылки и статус рассылки).

**Действия:**
1. Выбрать фильтр "Информационные" в списке типов рассылок.
2. Убедиться, что в списке остались только информационные рассылки.
3. Отметить фильтр "Включены".
4. Убедиться, что в списке остались только активные рассылки.
5. Отметить фильтр "Выключены".
6. Убедиться, что в списке остались только выключенные рассылки.
7. Отметить фильтр "Пассивные".
8. Убедиться, что в списке остались только пассивные рассылки.

**Ожидаемый результат:**
Фильтры должны работать корректно, показывая только соответствующие рассылки.

---

#### 2. **Тест на корректность работы состояния диалога при запуске рассылки по ключевым словам**

**Название теста:** Проверка корректности работы состояния диалога при запуске рассылки по ключевым словам

**Предусловия:**
- Пользователь находится в каталоге рассылок.
- В списке рассылок есть рассылка, которая должна запускаться по ключевым словам.

**Действия:**
1. Открыть рассылку, которая запускается по ключевым словам.
2. Запустить рассылку по ключевым словам.
3. Проверить, чтобы клиент получил сообщение, и состояние диалога было "waiting".
4. Проверить, что клиент не получает сообщение, если он находится в состоянии "active" или "bot".

**Ожидаемый результат:**
Рассылка должна запускаться только тогда, когда клиент находится в состоянии "waiting", и не должна запускаться, если клиент находится в другом состоянии диалога.

---

#### 3. **Тест на корректность работы SMS-блока в рассылке**

**Название теста:** Проверка корректности работы SMS-блока в рассылке

**Предусловия:**
- Создана рассылка с SMS-блоком.
- SMS-провайдер добавлен в рассылку.

**Действия:**
1. Запустить рассылку.
2. Проверить, что часть клиентов получила SMS, а часть — сообщение в мессенджере.
3. Проверить, что клиенты, которые не подтвердили свой номер телефона ни в одном из мессенджеров, получили SMS.
4. Проверить, что клиенты, которые подтвердили номер телефона в мессенджере, не получили SMS.

**Ожидаемый результат:**
Клиенты, которые не подтвердили свой номер телефона ни в одном из мессенджеров, должны получить SMS. Клиенты, которые подтвердили номер телефона в мессенджере, должны получить сообщение в мессенджере.

---

#### 4. **Тест на корректность работы формы в рассылке**

**Название теста:** Проверка корректности работы формы в рассылке

**Предусловия:**
- Создана рассылка с формой.

**Действия:**
1. Запустить рассылку.
2. Проверить, что форма отображается корректно и пользователи могут заполнить её поля.
3. Проверить, что ответы пользователей сохраняются и доступны для анализа.

**Ожидаемый результат:**
Пользователи должны иметь возможность заполнять форму, и ответы должны сохраняться для последующего анализа.

---

#### 5. **Тест на корректность работы расширенных настроек в рассылке**

**Название теста:** Проверка корректности работы расширенных настроек в рассылке

**Предусловия:**
- Создана рассылка с расширенными настройками.

**Действия:**
1. Открыть рассылку и перейти в раздел "Расширенные настройки".
2. Установить необходимые параметры (например, указать SMS-провайдера).
3. Запустить рассылку.
4. Проверить, что рассылка работает корректно с учетом установленных расширенных настроек.

**Ожидаемый результат:**
Расширенные настройки должны работать корректно, влияя на работу рассылки согласно установленным параметрам.

---

### Дополнительные замечания

1. **Граничные условия:**
    - Проверить крайние случаи, например, отсутствие SMS-провайдера или неправильно заполненные данные в форме.
    - Убедиться, что минимальная длина ключевого слова составляет 1 символ.

2. **Негативные тесты:**
    - Проверить, что при отсутствии SMS-провайдера рассылка не включает SMS-блок.
    - Проверить, что при ошибке в формате данных формы рассылка не запускается.

Эти тесты помогут убедиться, что условия запуска рассылок работают корректно в различных ситуациях, связанных с фильтрацией, состоянием диалога, работой SMS-блока и формы.