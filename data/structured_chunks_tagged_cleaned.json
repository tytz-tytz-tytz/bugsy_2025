[
  {
    "section_id": "0_о_рассылках_maxbot",
    "section_title": "О рассылках Maxbot",
    "level": 0,
    "page_start": 6,
    "page_end": 8,
    "text": "О рассылках Maxbot\nОсновные понятия\nКонсоль маркетолога (Marketer) — это интерфейс пользователя Maxbot, отвечающего за\nпроведение  рассылок  для  клиентов  компании.  Консоль  маркетолога  включает  набор\nинструментов для автоматизации маркетинговых задач. Такими задачами могут являться,\nнапример,  создание  автоворонок  продаж  и  информирование  клиентов  об  акциях  и\nпредложениях.\nПри  помощи  консоли  маркетолога  можно  создать  рассылки,  позволяющие\nинформировать  клиентов  компании  с  помощью  мессенджеров  или  SMS-сообщений.\nМесто консоли маркетолога в функциональной структуре Maxbot показано на рисунке 1.\n6\nРисунок 1 — Функциональная структура Maxbot\n7\nКаждая рассылка в Maxbot имеет определенный сценарий ее выполнения, аудиторию и\nусловия запуска.\nСценарий рассылки — это набор действий, выполняемых для каждого клиента. Например,\nотправка ему сообщений и изображений через заданный промежуток времени. В консоли\nмаркетолога сценарии рассылок создаются при помощи визуального конструктора (см.\nРисунок 2).\nРисунок 2 — Пример разработки сценария рассылки в конструкторе\nАудитория рассылки  —  это  множество  клиентов,  для  которых  бот  запускает  сценарий\nрассылки. В некоторых случаях клиенты могут не получить рассылку. Например, если они\nотписались от рассылок или от бота в своем мессенджере.\nУсловия начала рассылки — это условия, при которых сценарий рассылки запускается\nдля каждого из клиентов в аудитории рассылки. Например, наступление определенного\nвремени,  установка  тега  для  клиента  или  возникновение  внешнего  события  (клиент\nпосетил сайт, оплатил заказ и т. д.).\nТипы рассылок\nВ Maxbot можно создавать рассылки двух типов:\n•  Информационные;\n•  Целевые.\nИнформационные рассылки\nИнформационные  рассылки  предназначены  для  немедленного  информирования\nклиентов  о  событиях  или  срочного  предоставления  важной  информации.  Они  не\nподразумевают реакцию клиента в мессенджере.\nПримеры информационных рассылок:\n•  сообщение о готовности заказа;\n•  отправка клиенту секретного кода.\nИнформационная  рассылка  приходит  клиенту  в  любом  состоянии,  независимо  от  того,\nобщается  ли  он  с  оператором  или  ботом.  Поэтому  информационные  рассылки  нужно\nиспользовать  только  для  быстрого  предоставления  важной  информации,  и  не\n8\nиспользовать  для  предложения  товаров,  услуг  и  других  сообщений,  требующих  ответа\nили реакции со стороны клиента, т. к. это будет неуместно в контексте возможной беседы\nклиента с оператором или ботом.\nЦелевые рассылки\nЦелевые  рассылки  предназначены  для  реализации  более  сложных  сценариев:\nавтоворонок продаж, предложения акций и т. п. Целевые рассылки выполняются только\nесли  диалог  с  клиентом  закрыт.  Если  в  момент  выполнения  рассылки  оказывается,  что\nдиалог с клиентом открыт, то выполнение рассылки откладывается до закрытия диалога.",
    "tags": [
      "консоль маркетолога",
      "маркетинговых задач",
      "могут являться",
      "автоворонок продаж",
      "консоли маркетолога",
      "каждая рассылка",
      "условия запуска",
      "сценарий рассылки",
      "это набор",
      "набор действий",
      "каждого клиента",
      "заданный промежуток",
      "промежуток времени",
      "сценарии рассылок",
      "сценария рассылки",
      "аудитория рассылки",
      "некоторых случаях",
      "случаях клиенты",
      "клиенты могут",
      "получить рассылку",
      "своем мессенджере",
      "условия начала",
      "начала рассылки",
      "которых сценарий",
      "рассылки запускается",
      "аудитории рассылки",
      "наступление определенного",
      "определенного времени",
      "клиент посетил",
      "посетил сайт",
      "оплатил заказ",
      "рассылки двух",
      "информационные рассылки",
      "рассылки информационные",
      "информирования клиентов",
      "подразумевают реакцию",
      "реакцию клиента",
      "информационных рассылок",
      "готовности заказа",
      "отправка клиенту",
      "клиенту секретного",
      "секретного кода",
      "нужно использовать",
      "стороны клиента",
      "контексте возможной",
      "возможной беседы",
      "беседы клиента",
      "целевые рассылки",
      "рассылки целевые",
      "предложения акций",
      "рассылки выполняются",
      "клиентом открыт",
      "выполнение рассылки",
      "рассылки откладывается",
      "закрытия диалога",
      "рассылки запуска"
    ]
  },
  {
    "section_id": "1_основные_понятия",
    "section_title": "Основные понятия",
    "level": 1,
    "page_start": 6,
    "page_end": 7,
    "text": "Основные понятия\nКонсоль маркетолога (Marketer) — это интерфейс пользователя Maxbot, отвечающего за\nпроведение  рассылок  для  клиентов  компании.  Консоль  маркетолога  включает  набор\nинструментов для автоматизации маркетинговых задач. Такими задачами могут являться,\nнапример,  создание  автоворонок  продаж  и  информирование  клиентов  об  акциях  и\nпредложениях.\nПри  помощи  консоли  маркетолога  можно  создать  рассылки,  позволяющие\nинформировать  клиентов  компании  с  помощью  мессенджеров  или  SMS-сообщений.\nМесто консоли маркетолога в функциональной структуре Maxbot показано на рисунке 1.\n6\nРисунок 1 — Функциональная структура Maxbot\n7\nКаждая рассылка в Maxbot имеет определенный сценарий ее выполнения, аудиторию и\nусловия запуска.\nСценарий рассылки — это набор действий, выполняемых для каждого клиента. Например,\nотправка ему сообщений и изображений через заданный промежуток времени. В консоли\nмаркетолога сценарии рассылок создаются при помощи визуального конструктора (см.\nРисунок 2).\nРисунок 2 — Пример разработки сценария рассылки в конструкторе\nАудитория рассылки  —  это  множество  клиентов,  для  которых  бот  запускает  сценарий\nрассылки. В некоторых случаях клиенты могут не получить рассылку. Например, если они\nотписались от рассылок или от бота в своем мессенджере.\nУсловия начала рассылки — это условия, при которых сценарий рассылки запускается\nдля каждого из клиентов в аудитории рассылки. Например, наступление определенного\nвремени,  установка  тега  для  клиента  или  возникновение  внешнего  события  (клиент\nпосетил сайт, оплатил заказ и т. д.).",
    "tags": [
      "консоль маркетолога",
      "маркетинговых задач",
      "могут являться",
      "консоли маркетолога",
      "каждая рассылка",
      "условия запуска",
      "сценарий рассылки",
      "это набор",
      "набор действий",
      "каждого клиента",
      "заданный промежуток",
      "промежуток времени",
      "сценарии рассылок",
      "сценария рассылки",
      "аудитория рассылки",
      "некоторых случаях",
      "случаях клиенты",
      "клиенты могут",
      "получить рассылку",
      "своем мессенджере",
      "условия начала",
      "начала рассылки",
      "которых сценарий",
      "рассылки запускается",
      "аудитории рассылки",
      "наступление определенного",
      "определенного времени",
      "клиент посетил",
      "посетил сайт",
      "оплатил заказ",
      "рассылки запуска"
    ]
  },
  {
    "section_id": "2_типы_рассылок",
    "section_title": "Типы рассылок",
    "level": 1,
    "page_start": 8,
    "page_end": 8,
    "text": "Типы рассылок\nВ Maxbot можно создавать рассылки двух типов:\n•  Информационные;\n•  Целевые.\nИнформационные рассылки\nИнформационные  рассылки  предназначены  для  немедленного  информирования\nклиентов  о  событиях  или  срочного  предоставления  важной  информации.  Они  не\nподразумевают реакцию клиента в мессенджере.\nПримеры информационных рассылок:\n•  сообщение о готовности заказа;\n•  отправка клиенту секретного кода.\nИнформационная  рассылка  приходит  клиенту  в  любом  состоянии,  независимо  от  того,\nобщается  ли  он  с  оператором  или  ботом.  Поэтому  информационные  рассылки  нужно\nиспользовать  только  для  быстрого  предоставления  важной  информации,  и  не\n8\nиспользовать  для  предложения  товаров,  услуг  и  других  сообщений,  требующих  ответа\nили реакции со стороны клиента, т. к. это будет неуместно в контексте возможной беседы\nклиента с оператором или ботом.\nЦелевые рассылки\nЦелевые  рассылки  предназначены  для  реализации  более  сложных  сценариев:\nавтоворонок продаж, предложения акций и т. п. Целевые рассылки выполняются только\nесли  диалог  с  клиентом  закрыт.  Если  в  момент  выполнения  рассылки  оказывается,  что\nдиалог с клиентом открыт, то выполнение рассылки откладывается до закрытия диалога.",
    "tags": [
      "автоворонок продаж",
      "рассылки двух",
      "информационные рассылки",
      "рассылки информационные",
      "информирования клиентов",
      "подразумевают реакцию",
      "реакцию клиента",
      "информационных рассылок",
      "готовности заказа",
      "отправка клиенту",
      "клиенту секретного",
      "секретного кода",
      "нужно использовать",
      "стороны клиента",
      "контексте возможной",
      "возможной беседы",
      "беседы клиента",
      "целевые рассылки",
      "рассылки целевые",
      "предложения акций",
      "рассылки выполняются",
      "клиентом открыт",
      "выполнение рассылки",
      "рассылки откладывается",
      "закрытия диалога"
    ]
  },
  {
    "section_id": "3_информационные_рассылки",
    "section_title": "Информационные рассылки",
    "level": 2,
    "page_start": 8,
    "page_end": 8,
    "text": "Информационные рассылки\nИнформационные  рассылки  предназначены  для  немедленного  информирования\nклиентов  о  событиях  или  срочного  предоставления  важной  информации.  Они  не\nподразумевают реакцию клиента в мессенджере.\nПримеры информационных рассылок:\n•  сообщение о готовности заказа;\n•  отправка клиенту секретного кода.\nИнформационная  рассылка  приходит  клиенту  в  любом  состоянии,  независимо  от  того,\nобщается  ли  он  с  оператором  или  ботом.  Поэтому  информационные  рассылки  нужно\nиспользовать  только  для  быстрого  предоставления  важной  информации,  и  не\n8\nиспользовать  для  предложения  товаров,  услуг  и  других  сообщений,  требующих  ответа\nили реакции со стороны клиента, т. к. это будет неуместно в контексте возможной беседы\nклиента с оператором или ботом.",
    "tags": [
      "информационные рассылки",
      "рассылки информационные",
      "информирования клиентов",
      "подразумевают реакцию",
      "реакцию клиента",
      "информационных рассылок",
      "готовности заказа",
      "отправка клиенту",
      "клиенту секретного",
      "секретного кода",
      "нужно использовать",
      "стороны клиента",
      "контексте возможной",
      "возможной беседы",
      "беседы клиента"
    ]
  },
  {
    "section_id": "4_целевые_рассылки",
    "section_title": "Целевые рассылки",
    "level": 2,
    "page_start": 9,
    "page_end": 9,
    "text": "Целевые рассылки\nЦелевые  рассылки  предназначены  для  реализации  более  сложных  сценариев:\nавтоворонок продаж, предложения акций и т. п. Целевые рассылки выполняются только\nесли  диалог  с  клиентом  закрыт.  Если  в  момент  выполнения  рассылки  оказывается,  что\nдиалог с клиентом открыт, то выполнение рассылки откладывается до закрытия диалога.",
    "tags": [
      "автоворонок продаж",
      "целевые рассылки",
      "рассылки целевые",
      "предложения акций",
      "рассылки выполняются",
      "клиентом открыт",
      "выполнение рассылки",
      "рассылки откладывается",
      "закрытия диалога"
    ]
  },
  {
    "section_id": "5_вход_в_консоль_маркетолога",
    "section_title": "Вход в консоль маркетолога",
    "level": 0,
    "page_start": 9,
    "page_end": 10,
    "text": "Вход в консоль маркетолога\nДля  работы  с  консолью  маркетолога  необходима  отдельная  учетная  запись.  Учетная\nзапись маркетолога создается администратором Maxbot в консоли управления.\nПримечание:\nВход в консоль маркетолога  также можно выполнить с использованием учетной записи\nадминистратора (administrator), которая создается по умолчанию. Пароль для доступа к\nконсоли оператора такой же, как и к консоли управления.\nДля входа в консоль маркетолога нужно:\n1.  Перейти в браузере по ссылке http://marketer.maxbot.ai/.\n2.  В открывшемся окне (см. Рисунок 3) ввести данные в форму авторизации:\n•  Компания — указать название компании;\n•  Логин — ввести логин учетной записи маркетолога;\n•  Пароль — ввести пароль учетной записи маркетолога.\nРисунок 3 — Окно авторизации консоли маркетолога\n9\n3.  Нажать на кнопку «Войти».\nПри первом входе будет запущен мастер настройки пользователя, где последовательно\nбудет предложено выбрать язык консоли маркетолога (см. Рисунок 4) и имя пользователя\n(см. Рисунок 5).\nРисунок 4 — Выбор языка консоли маркетолога\nРисунок 5 — Ввод имени\nПосле  выбора  языка  и  ввода  имени  необходимо  нажать  на  кнопку  «Закончить»  (см.\nРисунок 6).\nРисунок 6 — Все готово к использованию консоли маркетолога\nПримечание:\nВ дальнейшем и язык консоли, и имя пользователя можно будет изменить.\n10",
    "tags": [
      "консоль маркетолога",
      "консоли маркетолога",
      "консоли управления",
      "учетной записи",
      "открывшемся окне",
      "название компании",
      "логин учетной",
      "пароль учетной",
      "ввод имени",
      "маркетолога примечание"
    ]
  },
  {
    "section_id": "6_интерфейс_для_работы_с_рассылками",
    "section_title": "Интерфейс для работы с рассылками",
    "level": 0,
    "page_start": 11,
    "page_end": 15,
    "text": "Интерфейс для работы с рассылками\nВнешний вид интерфейса консоли маркетолога показан на рисунке 7.\nРисунок 7 — Интерфейс консоли управления после авторизации маркетолога\nВ левой части окна находится меню для навигации по разделам консоли маркетолога.\nПосле входа по умолчанию выбран раздел «Рассылки».\nДля  удобства  маркетолога  и  структурирования  созданных  рассылок  предусмотрена\nсистема  каталогов.  Изначально  для  рассылок  задан  только  один  каталог  «Все\nрассылки»,  но  при  помощи кнопки «+ Добавить каталог»  (отображается  внизу  слева  от\nсписка рассылок) можно сформировать требуемую структуру (см. Рисунок 8).\nРисунок 8 — Пример структуры каталогов для рассылок\n11\nНа  мобильной  версии  и  на  десктопах  при  небольшом  размере  окна  браузера  открыть\nкаталоги рассылок можно, нажав на кнопку слева от формы поиска (см. Рисунок 9).\nРисунок 9 — Отображение кнопки для просмотра структуры каталогов рассылок в мобильной\nверсии\nВ правом верхнем углу отображаются данные текущего авторизованного пользователя\n(маркетолога).  При  нажатии  на\nможно  раскрыть  контекстное  меню,  позволяющее\nперейти к настройкам, загрузить документацию, перейти к разделам помощи или выйти\nиз консоли маркетолога (см. Рисунок 10).\nРисунок 10 — Контекстное меню\n, при нажатии на которую\nТакже рядом с именем маркетолога отображается иконка\nможно выполнить переход в другие интерфейсы Maxbot — консоль оператора (Agent) или\nадминистратора (Studio), см. Рисунок 11.\n12\nРисунок 11— Меню для перехода в консоль оператора или администратора\nДля  создания  рассылки  используется  кнопка  «+Создать»,  которая  находится  в  правом\nверхнем углу раздела «Рассылки» (см. Рисунок 12).\nРисунок 12 — Переход к созданию рассылки\nПосле  нажатия  на  кнопку «+  Создать»  необходимо  ввести  название  рассылки,  выбрать\nтип — «информационная» или «целевая» (см. Рисунок 13).\nРисунок 13 — Ввод названия и выбор типа рассылки\nДалее будет открыт интерфейс создания рассылки, включающий (см. Рисунок 14):\n•  3 вкладки, каждая из которых отвечает за соответствующий этап настройки рассылки:\n•  «Конструктор  рассылки»  (открывается  по  умолчанию)  —  вкладка  для  настройки\nсценария рассылки;\n13\n•  «Условия  начала  рассылки»  —  вкладка  для  определения  условий  запуска\nрассылки  и  действующих  ограничений,  см.  подробнее  в  разделе  Настройка\nусловий начала рассылок;\n•  «Целевая  аудитория»  —  вкладка  для  подготовки  данных  для  рассылок  с\nфиксированной аудиторией, см. подробнее в разделе Определение аудитории.\n•  2 вкладки, отражающие результаты запуска рассылки:\n•  «Статистика» — вкладка для просмотра статистики по текущей рассылке;\n•  «Журнал» — вкладка для просмотра статусов отправки рассылки для клиентов, см.\nподробнее в разделе Просмотр журнала рассылок;\n•  Тип рассылки;\n•  Состояние рассылки;\n•  Кнопка для обновления сценария рассылки;\n•  Иконки для управления запуском и остановкой рассылки. Подробнее об управлении\nзапуском  рассылки  (состоянием  рассылки)  см.  в  разделе  Запуск,  перезапуск  и\nостановка рассылок.\nРисунок 14 — Интерфейс настройки рассылки (открыт конструктор рассылки)\nИконка  для\nсписке рассылок (см. Рисунок 15).\nуправления  запуском  и  остановом  рассылок  также  отображается  и  в\n14\nРисунок 15 — Расположение кнопок запуска / остановки в списке рассылок\nМеню, вызываемое при помощи иконки\n, позволяет (см. Рисунок 16):\n•  Посмотреть статистику;\n•  Посмотреть Журнал;\n•  Выгрузить данные;\n•  Сгенерировать событие;\n•  Переместить рассылку в нужный каталог;\n•  Клонировать (дублировать) рассылку;\n•  Удалить рассылку.\nРисунок 16 — Расположение кнопок меню в списке рассылок\nКолонка  с  названием  «Тип»  визуализирует  тип  указанной  рассылки  (см.  Рисунок  15).\nИнформационные рассылки обозначаются иконкой\n, а целевые –\n.\n15\nРисунок 17 — Расположение кнопок запуска / остановки в списке рассылок\n.\nРядом со строкой поиска рассылки по названию справа размещена иконка фильтра\nПри  ее  нажатии  можно  отфильтровать  рассылки  в  каталоге  по  типу  рассылки\n(информационная  и  целевая)  и  по  состоянию  рассылки  (не  запускалась,  включена  в\nактивном режиме, в пассивном и выключена) см. Рисунок 18.\nРисунок 18 - Фильтры, применяемые в каталоге рассылок",
    "tags": [
      "консоли маркетолога",
      "сценария рассылки",
      "информационные рассылки",
      "консоли управления",
      "интерфейса консоли",
      "помощи кнопки",
      "списка рассылок",
      "мобильной версии",
      "правом верхнем",
      "верхнем углу",
      "создания рассылки",
      "выбрать тип",
      "выбор типа",
      "настройки рассылки",
      "конструктор рассылки",
      "запуска рассылки",
      "настройка условий",
      "условий начала",
      "фиксированной аудиторией",
      "определение аудитории",
      "статусов отправки",
      "отправки рассылки",
      "журнала рассылок",
      "тип рассылки",
      "состояние рассылки",
      "списке рассылок",
      "расположение кнопок",
      "помощи иконки",
      "сгенерировать событие",
      "активном режиме"
    ]
  },
  {
    "section_id": "7_настройка_сценария_рассылки",
    "section_title": "Настройка сценария рассылки",
    "level": 0,
    "page_start": 16,
    "page_end": 47,
    "text": "Настройка сценария рассылки\nКонструктор  позволяет  задать  сценарий  рассылки,  который  будет  выполняться  для\nкаждого клиента из аудитории рассылки.\nСценарий рассылки состоит из:\n•  события Start;\n•  блоков действий;\n•  связей между блоками действий.\nПри создании рассылки в конструкторе автоматически создается событие Start, которое\nявляется  начальной  точкой  выполнения  сценария  рассылки.  Также  в  редакторе\nотображается  кнопка  «Добавить  блок»,  при  помощи  которой  в  рассылку  добавляются\nблоки  действий.  События  и  блоки  действий  соединяются  при  помощи  мыши,  образуя\nсвязи.\nВ простейшем случае сценарий рассылки представляет собой событие Start, связанное\nс одним блоком действий (см. Рисунок 19).\n16\nРисунок 19 — Создан сценарий простейшей рассылки\nСобытие Start\nСобытие  Start  происходит  при  запуске  рассылки.  После  возникновения  события  Start\nсразу  или  через  заданное  время  выполняются  связанные  с  ним  блоки  действий  (см.\nдалее).\nБлоки действий\nБлок может содержать одно или несколько действий следующих типов:\n1.  Отправка сообщения;\n2.  Отправка сообщения, содержащего конфиденциальные данные для клиента;\n3.  Перевод в канал;\n4.  Отмена отправки запланированных сообщений этой рассылки;\n5.  Отмена действия кнопок рассылки;\n6.  Вызов внешней системы;\n7.  Генерация события;\n8.  Генерация интента.\nОтправка сообщения\nСообщения могут содержать следующие элементы:\n1.  Текст  сообщения  —  текст,  который  будет  отправлен  клиенту  в  мессенджер.  Для\nввода текста используется поле стандартного блока действий (см. Рисунок 20);\n17\nРисунок 20 — Ввод текстового сообщения для отправки\nПри нажатии на id сообщения (на представленном рисунке это «916») будет открыто\nокно  редактирования,  которое  удобно  использовать  для  ввода  больших  текстов\nрассылок.\n2.  Медиа-контент  —  изображения,  видео,  аудио  и  документы,  которые  могут  быть\nдобавлены к сообщению. Поддерживаются наиболее распространенные форматы\n(см. таблицу 1).\nТаблица 1 — Рекомендуемые форматы файлов и их поддержка в мессенджерах\nТип\nФорматы\nВозможность загрузки файлов\nViber\nВКонтакте\nTelegram\nFacebook*\nInstagram1*\nJPG\nJPEG\nPNG\nMP4\nMP3\nPDF\nDOC(X)\nXLS(X)\nTXT\nИзображение\nВидео\nАудио\nДокумент\nВажно!\nДа\nДа\nДа\nДа\nНет\nНет\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nСписок  рекомендованных  форматов,  указанный  в  таблице\n1,  не  является\nисчерпывающим.  У  каждого  мессенджера  есть  свой  список,  который  со  временем\nможет  изменяться.  Кроме  того,  необходимо  учитывать,  что  мессенджеры  имеют  свои\nособенности отображения медиа-контента (например, Viber в некоторых случаях не\nпозволяет просматривать изображения в мессенджере).\n1  Отправка  возможна  для  всех  видов  контента.  При  этом,  для  всех  видов  контента,  кроме  изображений,\nотправляется только ссылка на него. Соответственно, клиент не сможет просматривать аудио, видео или\nдокумент  прямо  в  мессенджере  (для  этого  нужно  будет  воспользоваться  браузером  или  другим\nприложением.\n18\nВ  таблице  приведены  наиболее  универсальные форматы,  подходящие  для  отправки\nклиенту  в  большинство  мессенджеров.  Перед  запуском  рассылки  для  клиентов\nнеобходимо предварительно тестировать рассылки на всех мессенджерах.\nДополнительно  нужно  учитывать,  что  для  некоторых  мессенджеров  важно,  чтобы\nистинный  формат  файла  соответствовал  его  расширению  (т. е.  чтобы  изображение\nimage.png действительно имело содержимое, предусмотренное форматом PNG, а не,\nнапример, данные в формате JPEG).\nДля добавления медиа-контента необходимо в блоке действий нажать на кнопку\nв раскрывшемся меню выбрать пункт «Добавить медиа» (см. Рисунок 21).\nи\nРисунок 21 — Переход к добавлению медиа-контента\nЗатем нужно задать тип медиа-контента и ввести ссылку (URL) на него, либо загрузить\nс компьютера при помощи кнопки\n(см. Рисунок 22).\nРисунок 22 — Добавление медиа-контента\n3.  Медиа группа — изображения и видео, которые могут быть добавлены к сообщению\nгруппой.\nВ  отличии  от  предыдущего  пункта,  медиа  группа  позволяет  отправлять  клиенту\nзаранее не определенное количество изображений и видео. Это удобно, например,\nдля  информирования  клиентов  о  результате  проведенных  работ,  когда  одному\n19\nклиенту  нужно  отправить  10  фотографий,  а  другому  15.  С  помощью  медиа  групп  это\nможно сделать одной рассылкой2.\nВторое отличие от одиночных медиа состоит в том, что с медиа группа отправляются\nклиенту  одним  сообщением3,  тогда  как  одиночные  медиа  отправляются  каждое  в\nотдельном сообщении.\nВ  группах  могут  отправляться  только  изображения  и  видео,  документы  и  аудио\nотправляться не могут.\nДля  добавления  группы  необходимо  в  блоке  действий  нажать  на  кнопку\nраскрывшемся меню выбрать пункт «Добавить медиа группу» (см. Рисунок 23).\nи  в\nРисунок 23 — Добавление медиа группы\nВ  открывшемся  окне  можно  добавлять  и  редактировать  ссылки  на  файлы,  которые\nбудут отправляться вместе с указанным сообщением (Рисунок 24).\nРисунок 24 — Редактор медиа групп\n2  Для  реализации  этого  сценария  необходимо  использовать  макросы,  см.  в  разделе  «Использование\nмакросов»\n3  Возможности просмотра одиночных и групп медиа («карусель», предпросмотр в виде плиток и т.д.) зависят\nот мессенджера.\n20\nВ  поле  URL  можно  вставить  как  сам  URL  изображения,  так  и  макрос  (подробнее  о\nмакросах в разделе «Использование макросов»).\nДля  загрузки  файлов  с  устройства  используется  кнопка\n.  Для  клонирования\nэлементов  –\nпоявившемся списке выбрать тип: изображение, видео или макрос.\n.  Для  выбора  типа  файла  необходимо  нажать  на  иконку\nи  в\nЗагруженные элементы отображаются справа. В правой области элементы можно как\nудалять  при  наведении  мышки  и  нажатии  на  кнопку  корзины,  так  и  перемещать  –\nкликнув мышкой на элемент и перетянуть в нужное место см. Рисунок 25.\nВ  левой  области\nтакже  можно  перетаскивать  элементы  и  менять  их\nпоследовательность.  Для  этого  необходимо  кликнуть  мышкой  на  элемент\nперетащить его в нужное место.\nи\nРисунок 25 — Взаимодействие с элементами в правой панели\nВажно!\nМаксимальное количество элементов в медиа группе равно 50. К одному текстовому\nсообщению может быть присоединена только одна медиа группа.\nВо всех полях медиа группы можно использовать макросы.\nРассмотрим случай, когда рассылка с медиа группой будет отправляться клиентам\nпо событию.  Ссылки на изображения мы хотим задавать динамически, в аргументах\nсобытия,  чтобы  мы  могли  отправить  одному  клиенту  11  фотографий,  а  другому  20  из\nодной рассылки. Для этого необходимо:\n1.  Создать  событие,  у  которого  будет  30  аргументов  (это  будет  максимальное\nчисло изображений в медиа группе в этом примере) (Рисунок 26);\n21\nРисунок 26 — Создание события для отправки изображений в медиа группе\n2.  Создать рассылку и настроить ее на начало по этому событию;\n3.  В конструкторе рассылки в блок добавить медиа группу;\n4.  В  медиа  группу  добавить  то  же  самое  количество  URL,  что  и  в  аргументах\nсобытия (см. Рисунок 27);\nРисунок 27 — Использование макросов с изображениями\n5.  В поле URL ввести аргументы события в фигурных скобках, указав в каждом поле\nтолько один аргумент, тип файла оставить как изображение (см. Рисунок 27);\n6.  Сохранить медиа группу.\n22\nПосле этого необходимо сгенерировать событие и в аргументах события указать\nссылки на файлы для отправки клиенту в мессенджер см. Рисунок 28.\nРисунок 28 — Генерация события с аргументами\nЕсли рассылка должна отправлять не только изображения в медиа группе, но и видео,\nтогда в макросах нужно передавать еще и тип медиа. Для этого в аргументах события\nнеобходимо  создать  в  два  раза  больше  аргументов,  чтобы  для  каждого  URL\nпередавался еще и тип, например см. Рисунок 29:\nРисунок 29 — Создания аргументов события для медиа группы\nВ настройках медиа группы для каждого URL выбираем тип \"Макрос\" и задаем URL и\nего тип макросами, как показано на Рисунок 30.\n23\nРисунок 30 — Создания медиа группы с разными типами\nПосле этого необходимо сгенерировать событие и в аргументах события указать\nссылки на файлы и типы для отправки клиенту в мессенджер, например, см. Рисунок\n31.\nРисунок 31 — Генерация события для медиа группы с типами медиа\n4.  Кнопки-действия — это кнопки, позволяющие выполнять следующие действия:\n•  Вызвать другой блок действий;\n•  Добавить клиенту теги;\n•  Снять теги с клиента;\n•  Отписать клиента от рассылок (всех)4.\nДля добавления кнопки-действия необходимо в блоке действий нажать на кнопку\nи в раскрывшемся меню выбрать пункт «Добавить кнопку-действие» (см. Рисунок 32).\n4 Действие эквивалентно тому, что клиент напишет боту команды «стоп рассылки» или «stop subscriptions»,\nсм. раздел Отписка от рассылок.\n24\nРисунок 32 — Переход к добавлению кнопки-действия\nЗатем  нужно  задать  требуемые  параметры  кнопки  и  нажать  на  кнопку  «Сохранить»\n(см.  Рисунок  33).  Для  каждой  кнопки  можно  указать  теги,  которые  будут  назначены\nклиенту (сняты с клиента), подробнее об этом см. в подразделе Работа с тегами.\nРисунок 33 — Добавление кнопки-действия\nПримечание:\nДлина заголовка кнопки должна быть не более 20 символов.\nДействия  в  блоке,  связанном  с  кнопкой,  всегда  выполняются  сразу  после  нажатия\nкнопки.  (см.  Рисунок  34).  Блок,  вызываемый  кнопкой-действием,  может  содержать\nлюбое из действий, описанных в разделе Блоки действий.\n25\nРисунок 34 — Второй блок выполняется сразу при нажатии на кнопку\nНа  одну  кнопку  клиент  может  нажать  только  один  раз.  Повторные  нажатия  не\nобрабатываются.  Если  сценарий  рассылки  предусматривает  возврат  к  блоку,\nкоторый клиент уже получал, то на кнопку можно будет нажать еще раз (см.  Рисунок\n35). В этом примере при нажатии на кнопку «Назад» клиент получит первый блок еще\nраз и именно в нем можно будет еще раз нажать на кнопку «Подробнее».\nРисунок 35 — Пример возврата\nПри  добавлении  к  сообщению  более  двух  кнопок-действий  появляется  опция\n«Разрешить только одно нажатие» (см. Рисунок 36).\nЕсли  она  установлена,  то  клиент  может  нажать  только  на  одну  кнопку  в  этом\nсообщении.  После  первого  нажатия  аналогичные  нажатия  по  другим  кнопкам  не\nобрабатываются.  Если  опция  не  установлена,  то  на  каждую  кнопку  в  сообщении\nможно нажать один раз.\n26\nРисунок 36 — В блок добавлено две кнопки-действия\nВажно!\nОписанное выше относится только к кнопкам сообщения, а не блока. В один блок может\nбыть добавлено несколько сообщений, каждое из которых будет содержать по нескольку\nкнопок. В этом случае при включенной опции «Разрешить только одно нажатие» в каждом\nсообщении можно будет нажать по одной кнопке.\nВ некоторых мессенджерах текст сообщений с кнопками может обрезаться. Т.е. клиент\nувидит  не  весь  отправленный  ботом  текст,  а  только  первые  несколько  символов.\nПредупреждение об этом всплывет справа у окна с текстом см. Рисунок 37. Например, в\nмобильной  версии  Viber  будет  отображаться  только  первые  40  символов  сообщения  с\nкнопкой, а в десктопной версии – первые 10.\nРисунок 37 - Текст с кнопкой, который обрежется в некоторых мессенджерах\nЧтобы  обойти  эту  проблему  рекомендуем  добавлять  отдельное  сообщение  перед\nсообщением с кнопкой и задавать в нем основной текст, а в сообщении с кнопкой писать\nчто-то короткое см. Рисунок 38.\n27\nРисунок 38 - Добавлено отдельное сообщение\n5.  Кнопки-ссылки  —  кнопки,  позволяющие  клиенту  перейти  по  заданной  ссылке  из\nмессенджера.\nДля добавления кнопки-ссылки необходимо в блоке действий нажать на кнопку\nраскрывшемся меню выбрать пункт «Добавить кнопку-действие» (см. Рисунок 39).\nи в\nРисунок 39 — Переход к добавлению кнопки-ссылки\nЗатем необходимо задать название кнопки и ссылку для нее (см. Рисунок 40).\nРисунок 40 — Создание кнопки-ссылки\n28\nСсылка  клиенту  не  отображается.  Нажатия  на  кнопку-ссылку  не  могут  приводить  к\nзапуску  другого  блока  или  иным  действиям,  а  также  никак  не  учитываются  в\nстатистике.\nПримечание:\nКлиент  может  нажимать  на  ссылки  многократно,  описанные  выше  ограничения  по\nнажатиям на них не действуют.\nОтправка сообщения, содержащего конфиденциальные данные для клиента\nВ  общем случае  вся  переписка клиента  с  ботом доступна  оператору  Maxbot. Если  бот\n(например,  кодов\nиспользуется  для  отправки  конфиденциальной  информации\nподтверждения), то такую информацию необходимо скрывать от оператора.\nДля  отправки  конфиденциальной  информации  в  теле  блока  с сообщением  необходимо\nиспользовать  тег  <security>…</security>  (см  Рисунок  41).  Вставка  закрывающего  тега\nобязательна.\nРисунок 41 — Отправка конфиденциальной информации при помощи тега <security></security>\nДанные, заключенные в теге <security>, для оператора заменяются на ***. То, что увидят\nклиент и оператор при запуске такой рассылки, показано на рисунке ниже:\nРисунок 42 — Отображение содержимого тега <security> для клиента и для оператора\nНа  практике  использование  тега  <security>  будет  сопровождаться  использованием\nмакроса,  т. е.  конфиденциальная  информация  вряд  ли  будет  задаваться  в  рассылке\nстатически.  В  этом  случае  тег  <security>  нужно  использовать  следующим  образом  (см.\nРисунок 43), поместив внутрь макрос, который является аргументом события:\n29\nРисунок 43 — Использование значения макроса в качестве конфиденциальной информации\nПеревод в канал\nДействие перевода в канал выполняется сразу, если диалог у клиента закрыт или диалог\nсвободный5  или  иное  на  задано  в  настройках  действия  (см.  далее).  При  наличии\nоткрытого диалога перевод выполнен не будет, чтобы не помешать текущему общению\nклиента  с  оператором.  Перевод  будет  отложен  до  тех  пор,  пока  диалог  у  клиента  не\nбудет закрыт или не будут выполнены условия, заданные в настройках действия.\nДля добавления действия перевода в канал нужно нажать на кнопку\nи в раскрывшемся\nменю  выбрать  пункт  «Действие»,  после чего  выбрать  «Перевести  в  канал»  (см.  Рисунок\n44):\nРисунок 44 — Выбор действия\nЗатем в открывшемся окне (см. Рисунок 45) необходимо задать параметры для действия\nперевода в канал.\nВ окне доступны следующие настройки:\n•  Выберите канал — канал, в который необходимо перевести клиента;\n5 Свободный диалог — диалог, у которого канал Bot.\n30\n•  Текст  при  переводе  в  канал  —  сообщение,  которое  будет  отправлено  клиенту  при\nпереводе в канал (если оставить его пустым, то сообщение не будет отправляться);\n•  Текст  при  откладывании  перевода  в  канал  —  сообщение,  которое  будет  оправлено\nклиенту,  если  в  момент  выполнения  действия  у  него  есть  открытый  диалог  и  он  не\nсвободный (т. е. клиент обсуждает с оператором или ботом какой-то вопрос);\n•  Текст перед отложенным переводом в канал — сообщение, которое будет отправлено\nклиенту при переводе в канал, если он ранее был отложен;\n•  Переключатель условия перевода в канал:\n•  Перевести сразу (значение по умолчанию) — клиент будет переведен в канал без\n(кроме  наличия  открытого/свободного\nкаких-либо  дополнительных  условий\nдиалога);\n•  Перевести  после  получения  сообщения  от  клиента  —  клиент  будет  переведен\nтолько  после  получения  от  него  сообщения  и  в  соответствии  с  настройками,\nуказанными ниже;\nРисунок 45 — Настройка действия перевода в канал\n31\n•  Время ожидания сообщения — время, которое бот ожидает сообщения от клиента для\nперевода  его  в  канал.  Можно  установить  время  не  более  2  часов  (ограничение\nвведено,  чтобы  маркетолог  не  мог  надолго  «блокировать»  клиента:  поскольку  в\nмомент ожидания не могут выполняться другие рассылки, а также клиенту не смогут\nотправлять сообщения операторы);\n•  Если  клиент  не  ответил  за  заданное  время  —  действие,  которое  бот  выполнит,  не\nдождавшись сообщения от клиента в течение «времени ожидания сообщения»:\n•  «Ничего не делать» — бот не будет предпринимать каких-либо действий; клиент не\nбудет переведен в канал, рассылка при этом продолжится согласно сценарию;\n•  «Перевести  в  канал  безусловно»  —  клиент  будет  переведен  в  канал,  при  этом\nможно задать другой канал (отличный от исходно заданного);\n•  «Отправить сообщение» — клиенту будет отправлено сообщение, заданное в поле\nниже; клиент не будет переведен в канал.\nЕсли для рассылки ниже (см. Рисунок 46) задать безусловный перевод клиента в канал по\nфакту  нажатия  на  кнопку  «Оставить  отзыв»,  то  клиент  будет  переведен  сразу,  какого-\nлибо сообщения от него не требуется.\nРисунок 46 — Пример рассылки с переводом в канал\nВ  этом  случае  оператор  увидит  нового  клиента  в  списке  диалогов,  но  сообщение  от\nклиента будет отсутствовать (см. Рисунок 47).\nРисунок 47 — Клиент переведен в канал без сообщения\n32\nЕсли  же  в  настройках  перевода  в  канал  потребовать  ввод  сообщения  от  клиента  (см.\nРисунок 48), то новый диалог появится только после отправки клиентом сообщения.\nРисунок 48 — Ввод условия перевода клиента в канал только при наличии от него сообщения\nВ этом случае оператор уже сразу увидит текст сообщения и не будет тратить время на\nвыяснение причины и содержания обращения (см. Рисунок 49).\nРисунок 49 — Клиент переведен в канал после отправки им сообщения\nОтмена отправки запланированных сообщений\nЭто  действие  позволяет  маркетологу  остановить  рассылку  для  клиента  при\nвозникновении  некоторого  события.  Например,  при  нажатии  кнопки,  при  отправке\nфинального сообщения рассылки, при истечении определенного времени.\nДля  добавления  действия  нужно  нажать  на  кнопку\nи  в  раскрывшемся  меню  выбрать\nпункт «Действие», после чего выбрать «Отключить рассылку запланированных, но еще не\nотправленных сообщений» (см. Рисунок 50):\n33\nРисунок 50 — Выбор действия\nНа  рисунке  51  показан  пример  такого  сценария.  Если  клиент  нажмет  на  кнопку  «Не\nинтересуюсь  этим»,  робот  отправит  извинительное  сообщение  и  отключит  отправку\nзапланированных сообщений. В данном случае это правое нижнее сообщение, которое\nпредполагалось отправить через 5 дней.\nЕсли  клиент  в  течение  5  дней  не  нажмет  эту  кнопку,  то  он  получит  запланированное\nсообщение с информацией о продлении акции.\nРисунок 51 — Пример использования события отмены отправки запланированных сообщений\nВажно!\nДействие отмены отправки запланированных сообщений применяется ко всей рассылке\nдля текущего клиента, независимо от того, из какой ветви сценария оно было вызвано.\n34\nОтмена работы уже отправленных в рассылку кнопок\nЭто  действие  работает  аналогично  предыдущему,  только  отменяет  не  отправку\nсообщений, а работу кнопок в сообщениях. Вместе с предыдущим действием позволяет\nполностью деактивировать рассылку для клиентов, у которых они будут выполнены.\nи  в  раскрывшемся  меню  выбрать\nДля  добавления  действия  нужно  нажать  на  кнопку\nпункт «Действие», после чего выбрать «Отключить работу уже отправленных в рассылку\nкнопок» (см. Рисунок 52):\nРисунок 52 — Выбор действия\nВ следующем сценарии (см. Рисунок 53) при нажатии на кнопку «Не интересуюсь этим»\nпроизойдет не только отмена запланированного сообщения, но и перестанет работать\nкнопка, отправленная клиенту в первом сообщении.\nРисунок 53 — Использование действия отмены работы уже отправленных в рассылку кнопок\n35\nВажно!\nЭто  действие  отменяет  только  работу  кнопок-действий.  Кнопки-ссылки  будут  всегда\nдоступны, клиенты смогут переходить по ним произвольное число раз.\nДействие  отмены  работы  кнопок  применяется  ко  всей  рассылке  для  текущего  клиента,\nнезависимо от того, из какой ветви сценария оно было вызвано.\nВызов внешней системы\nДействие  «Вызвать  внешнюю  систему»  предназначено  для  уведомления  внешней\nсистемы о достижении клиентом того или иного этапа рассылки.\nи в раскрывшемся\nДля добавления вызова внешней системы нужно нажать на кнопку\nменю  выбрать  пункт  «Действие»,  после  чего  выбрать  «Вызвать  внешнюю  систему»  (см.\nРисунок 54).\nРисунок 54 — Выбор действия\nДалее необходимо задать параметры запроса к внешней системе. Для примера далее\nзаполнено  обращение  к  CRM  компании  для  того,  чтобы  отметить  интерес  клиента  к\nопределенной  теме  в  случае  нажатия  на  определенную  кнопку  (см.  Рисунок  55).  В\nдальнейшем в CRM это можно будет использовать для сегментации аудитории.\nПример  ниже  отражает  вариант  запроса,  при  выполнении  которого  в  CRM  компании\nсохраняются данные о том, что клиент с идентификатором 12443 интересуется товарами\nв категории «наушники» (headphones).\nКроме  строковых  и  числовых  параметров  также  могут  использоваться  макросы,  см.\nподробнее в разделе Использование макросов.\n36\nРисунок 55 — Ввод параметров запроса к внешней системе\nЕсли в блоке есть действие вызова внешней системы, то оно всегда выполняется первым.\nЕсли вызов завершается ошибкой (сервер возвращает HTTP-статус, отличный от 200 или\nне  отвечает  в  течение  времени,  заданного  в  поле  «Максимальное  время  выполнения\nзапроса»), то остальные действия блока не выполняются. Если к текущем блоку привязаны\nпоследующие блоки (т. е. выполняются после отправки сообщения из этого блока), то они\nтакже не будут выполнены.\nПримечание:\nВ текущей версии «Максимальное время выполнения запроса» и все подобные таймауты\nвременно равны 0.5 секунды вне зависимости от заданного значения.\nГенерация события\nБлок  этого  типа  позволяет  вызывать  события  и  использовать  их  для  запуска  других\nрассылок из текущей рассылки.\nЕсли клиент по сценарию рассылки перейдет к действию «Сгенерировать событие», то\nэто  событие  будет  сгенерировано  либо  только  для  него;  если  для  события  задана\nфиксированная  аудитория  (см.  подробнее  в  разделе  Определение  аудитории),  то\nсобытие  будет  сгенерировано  для  нее  (будет  запущена  рассылка  для  множества\n37\nклиентов). Это позволит начать одну или несколько других рассылок. Текущая рассылка\nпри этом не будет остановлена, ее сценарий продолжит выполняться.\nРисунок 56 — Выбор действия «Сгенерировать событие\nНапример,  есть  рассылка,  предлагающая  клиенту  воспользоваться  промокодом  (см.\nРисунок 57). Если клиент нажимает на кнопку, то во втором блоке рассылки генерируется\nсобытие «Создание промокода для клиента».\nПримечание:\nСобытие,  используемое  в  сценарии  рассылки,  должно  быть  предварительно  создано.\nПодробнее об этом см. в разделе Использование событий.\nРисунок 57 — Рассылка, в сценарии которой генерируется событие для клиента\nВ аргументах события, генерируемого для клиента, нужно задать требуемые значения. В\nнашем случае нужно задать значения для 3-х аргументов (см. Рисунок 58):\n•  промокод — строка;\n38\n•  размер скидки (%) — число;\n•  действует до — строка.\nРисунок 58 — Событие «Создание промокода для клиента» и его аргументы\nПример ввода значений аргументов события показан на рисунке 59.\nПри  указании  строковых  значений  необходимо  использовать  символ  кавычек  (“);\nчисловые значения и даты задаются без кавычек. Значение аргумента также может быть\nпустым (не задано).\nПри этом могут быть заданы как статические значения аргументов (в примере выше), так\nи динамические — макросы, уникальные для каждого клиента.\nПереключатель  под  названием  события  определяет,  для  кого  будет  сгенерировано\nсобытие:\n•  только для текущего клиента\nили\n•  для множества клиентов (для рассылок с фиксированной аудиторией).\n39\nРисунок 59 — Ввод аргументов для события\nТеперь  можно  создать  вторую  рассылку,  которая  будет  выполняться  при  генерации\nсобытия в первой рассылке. Ниже пример такой рассылки (см. Рисунок 60):\nРисунок 60 — Вторая рассылка, запускаемая по сгенерированному событию и использующая\nзначения аргументов события\nПримечание:\nЕсли  рассылка  запускается  по  событию,  то  его  аргументы  можно  использовать  в\nрассылке  как макросы.  На  рисунке  выше  во  второй  рассылке  при  помощи  скобок  {{  }}\nиспользуются значения аргументов сгенерированного события.\nДля данной рассылки нужно выбрать условие «Начинать при возникновении события» и\nсобытие  «Создание  промокода  для  клиента»  (см.  Рисунок  61),  после  чего  запустить  ее.\nРассылка будет «ожидать» выбранного события и выполнится у клиентов, для которых оно\nнаступило.\n40\nРисунок 61 — Определение условий начала второй рассылки\nЕсли  в  результате  выполнения  первой  рассылки  (см.  Рисунок  57)  клиент  нажмет  кнопку\n«Получить  промокод»,  то  в  результате  выполнения  второй  рассылки  будут  получены\nданные промокода (см. Рисунок 62).\nРисунок 62 — После нажатия на кнопку «Получить промокод» для клиента выполнилась вторая\nрассылка\nГенерация интента\nБлок  этого  типа  позволяет  сгенерировать  интент  (intent)  —  намерения  пользователя,\nкоторые могут быть распознаны системой для того, чтобы затем вызвать определенный\nнавык бота.\n41\nДля вызова навыков бота необходимо:\n1.  Нажать  на  кнопку\nи  в  раскрывшемся меню  выбрать  пункт «Действие»,  после  чего\nвыбрать «Сгенерировать intent» (см. Рисунок 63).\nРисунок 63 — Выбор действия «Сгенерировать intent»\n2.  В  настройках  действия  (см.  Рисунок  64)  задать  название  интента  и  (необязательно)\nсловарь сущностей (entities). Важно, что в поле «Entities» должен быть задан именно\nсловарь в формате JSON (как на рисунке ниже), иначе выполнение сценария рассылки\nзавершится ошибкой.\nВ словаре могут быть использованы как макросы и переменные окружения (в нотации\n«slots.m.macros_name»),  так  и  статические  значения.  Этот  словарь  должен  быть\nвалидным jinja-выражением.\nКонстантные выражения также нужно задавать правильно — строки только в кавычках,\nчисла — без, и они не должны оставаться пустыми.\nРисунок 64 — Ввод параметров интента\n42\n3.  Нажать на кнопку «Сохранить».\nВ результате выполнения этого действия бот сгенерирует указанный интент и передаст\nslots  в  качестве  параметров.  Это  позволит  запустить  нужный  навык  бота  для  клиента\n(например, выбор определенного товара или услуги).\nПримечание:\nЧтобы бот выполнил определенное действие, навыки бота должны быть предварительно\nнастроены.\nВ перспективе это действие должно вытеснить большинство переводов в канал – вместо\nтого,  чтобы  передавать  клиента  оператору  и  занимать  его  время,  рассылка  будет\nвызывать соответствующий навык бота.\nБлок-комментарий\nВ  рассылки любого  типа  можно  вставить блок-комментарий,  который  будет содержать\nпроизвольный текст. Для добавления блока-комментария к рассылке необходимо в левом\nнижнем  углу  нажать  на  кнопку  «Добавить  блок»,  после  чего  выбрать  значение\n«Комментарий» (см. Рисунок 65) и перетащить его на область сценария рассылки.\nРисунок 65 — Добавления блока-комментария\nБлок  данного  типа  является  информационным:  он  не  имеет  каких-либо  настроек  (за\nисключением текста комментария) и не может иметь связей с другими блоками рассылки.\nБлок «SMS-сообщения»\nВ  рассылку  также  можно  добавить  блок  «SMS-сообщения»,  выбрав  соответствующий\nпункт  в  меню  добавления  блоков  (см.  Рисунок  66).  Блок  позволяет  отправлять  клиентам\nSMS-сообщения,  а  также  направлять  клиентов  на  посадочную  страницу  для\nподключения мессенджера и автоматического подтверждения номера телефона.\nПодробнее  об  использовании  блока  «SMS-сообщения»  см.  в  разделе  Настройка  SMS-\nрассылок.\n43\nРисунок 66 — Добавления блока «SMS-сообщения»\nПримечание:\nПо  умолчанию  после  создания  рассылки  добавление  блока  «SMS-сообщения»\nнедоступно. Для разблокирования этой возможности необходимо сначала выбрать SMS-\nпровайдера,  см.  подробнее  в  разделах  Регистрация  SMS-провайдера  и  Добавление\nSMS-провайдера в рассылку.\nБлок «Форма»\nПри  необходимости  проведения  опроса  клиентов  можно  добавить  в  рассылку  блок\n«Форма»  (см.  Рисунок  67).  Блок  позволяет  при  помощи  конструктора  задать  порядок\nпроведения опроса, а также форматы вопросов и ответов.\nПодробнее о возможностях данного блока и особенностях его применения в рассылках\nсм. в разделе Опрос клиентов с помощью форм.\nРисунок 67 — Добавления блока «Форма»\nСвязи между блоками действий\nСвязь между событием и блоком означает безусловное выполнение действий блока сразу\nили через заданный промежуток времени после возникновения события.\nТаким  образом,  связь  всегда  исходит  из  событий  и  заканчивается  в  блоке  действий.  В\nодин блок действий могут приходить несколько связей.\n44\nСписок событий, из которых может исходить связь:\n1.  Событие Start, т. е. начало выполнения сценария рассылки (см. Рисунок 68);\nРисунок 68 — Связь исходит из события Start\n2.  Нажатие на кнопку-действие (см. Рисунок 69);\nРисунок 69 — Связь исходит из кнопки «Узнать подробности»\n3.  Отправка  сообщения  клиенту.  От  события  отправки  сообщения  также  можно\nстроить связь, для этого следует начать связь из точки в правом нижнем углу (см.\nРисунок  70).  Важно,  что  это  событие  происходит  только  когда  сообщение\nнепосредственно ставится в очередь на отправку, а не когда сообщение должно\nбыло отправиться.\nНапример,  в  приведенном  ниже  рисунке  второе  сообщение  должно  отправиться\nчерез 5 дней. Если первое сообщение не отправилось сразу после начала рассылки\n(например, у клиента был открыт диалог и его закрыли только через 1 день), то второе\nотправится  только  через  5  дней  после  отправки  первого,  т. е.  через  6  дней  после\nначала  рассылки  (а  не  через  5,  как  это  может  показаться  из  сценария).  Поэтому\nрассылки с подобными связями могут растягиваться на неопределенное время.\n45\nРисунок 70 — Связь исходит из блока с сообщением\nИз  события  Start  может  исходить  произвольное  количество  связей.  Из  остальных\nсобытий — только  по  одному.  У  всех  связей,  кроме  тех,  что  исходят  из  кнопок,  можно\nзадать задержку (см. Рисунок 70).\nТакже стоит отметить, что этой точки в правом нижнем углу нет, если в блоке нет действия\nотправки сообщения (не от чего отталкиваться).\nДублирование блоков\nЕсли  необходимо  быстро  скопировать  блок  со  всем  его  содержимым,  то  необходимо  в\nверхней части нажать на\nРисунок 71).\nи затем в раскрывшемся меню выбрать «Дублировать» (см.\nРисунок 71 — Вызов функции дублирования блока\nУпорядочивание сообщений в блоке\nЕсли  блок  имеет  несколько  сообщений,  то  их  можно  упорядочить.  Чтобы  сделать  это,\nнеобходимо  нажать  напротив  нужного  сообщения  на\n,  затем  в  открывшемся  меню  с\nпомощью  пунктов  «Переместить  наверх»  и  «Переместить  вниз»  определить\nместоположение сообщения (см. Рисунок 72).\n46\nРисунок 72 — Определение местоположения сообщения\nУдаление сообщений из блока\nНенужные сообщения из блока можно удалить. Чтобы сделать это, нужно нажать напротив\n, в открывшемся меню выбрать пункт «Удалить» (см. Рисунок 73), затем во\nсообщения на\nвсплывающем окне подтвердить удаление.\nРисунок 73 — Удаление сообщения из блока\n47\nКонтроль  изменения  сценария  и  настроек  рассылки  в\nнескольких окнах браузера\nВ  Maxbot  функционирует  механизм,  отслеживающий  редактирование  сценария  и\nнастроек  рассылки  в  разных  окнах  (вкладках)  браузера.  Это  сделано  для  того,  чтобы\nправки в ранее открытой вкладке не могли «затереть» изменения, сделанные в другой.\nМеханизм контроля работает следующим образом. Например, если открыть рассылку в\nдвух  вкладках,  отредактировать  ее  в  первой  вкладке,  а  затем  попытаться\nотредактировать  во  второй,  то  будет  отображено  следующее  сообщение  (см.  Рисунок\n74).  Аналогичное  сообщение  будет  отображено  в  случае,  когда  одна  рассылка\nодновременно редактируется двумя или более маркетологами\nРисунок 74 — Ошибка при одновременном редактировании сценария в разных вкладках\nбраузера\nВ  этом  случае  необходимо  обновить  страницу  для  продолжения  редактирования\nсценария  рассылки  в  этом  окне.  Изменение,  которое  привело  к  появлению  этого\nсообщения, не сохранится.",
    "tags": [
      "сценарий рассылки",
      "каждого клиента",
      "заданный промежуток",
      "промежуток времени",
      "сценария рассылки",
      "некоторых случаях",
      "начала рассылки",
      "аудитории рассылки",
      "определенного времени",
      "рассылки нужно",
      "открывшемся окне",
      "помощи кнопки",
      "выбрать тип",
      "условий начала",
      "фиксированной аудиторией",
      "сгенерировать событие",
      "настройка сценария",
      "события start",
      "блоками действий",
      "событие start",
      "выполнения сценария",
      "блоки действий",
      "случае сценарий",
      "представляет собой",
      "рассылки событие",
      "start событие",
      "возникновения события",
      "действий блок",
      "следующих типов",
      "отправка сообщения",
      "содержащего конфиденциальные",
      "конфиденциальные данные",
      "отмена отправки",
      "отправки запланированных",
      "запланированных сообщений",
      "отмена действия",
      "действия кнопок",
      "кнопок рассылки",
      "вызов внешней",
      "внешней системы",
      "генерация события",
      "генерация интента",
      "сообщения сообщения",
      "сообщения могут",
      "могут содержать",
      "содержать следующие",
      "следующие элементы",
      "текст сообщения",
      "ввода текста",
      "текста используется",
      "используется поле",
      "поле стандартного",
      "стандартного блока",
      "блока действий",
      "ввод текстового",
      "текстового сообщения",
      "открыто окно",
      "текстов рассылок",
      "видео аудио",
      "которые могут",
      "поддерживаются наиболее",
      "наиболее распространенные",
      "распространенные форматы",
      "рекомендуемые форматы",
      "форматы файлов",
      "мессенджерах тип",
      "тип форматы",
      "форматы возможность",
      "возможность загрузки",
      "загрузки файлов",
      "файлов viber",
      "viber вконтакте",
      "вконтакте telegram",
      "telegram facebook",
      "jpg jpeg",
      "jpeg png",
      "png mp4",
      "mp4 mp3",
      "mp3 pdf",
      "pdf doc",
      "txt изображение",
      "изображение видео",
      "аудио документ",
      "документ важно",
      "является исчерпывающим",
      "свои особенности",
      "особенности отображения",
      "отображения медиа",
      "другим приложением",
      "универсальные форматы",
      "отправки клиенту",
      "клиентов необходимо",
      "необходимо предварительно",
      "предварительно тестировать",
      "тестировать рассылки",
      "изображение image",
      "png действительно",
      "действительно имело",
      "имело содержимое",
      "форматом png",
      "формате jpeg",
      "добавления медиа",
      "контента необходимо",
      "блоке действий",
      "кнопку раскрывшемся",
      "раскрывшемся меню",
      "меню выбрать",
      "выбрать пункт",
      "добавить медиа",
      "добавлению медиа",
      "контента затем",
      "затем нужно",
      "нужно задать",
      "задать тип",
      "тип медиа",
      "ввести ссылку",
      "либо загрузить",
      "добавление медиа",
      "медиа группа",
      "сообщению группой",
      "клиенту заранее",
      "определенное количество",
      "количество изображений",
      "это удобно",
      "медиа групп",
      "сделать одной",
      "одной рассылкой2",
      "второе отличие",
      "одиночных медиа",
      "медиа состоит",
      "группа отправляются",
      "отправляются клиенту",
      "отдельном сообщении",
      "аудио отправляться",
      "медиа группу",
      "медиа группы",
      "которые будут",
      "будут отправляться",
      "отправляться вместе",
      "указанным сообщением",
      "редактор медиа",
      "необходимо использовать",
      "использовать макросы",
      "использование макросов",
      "групп медиа",
      "виде плиток",
      "поле url",
      "клонирования элементов",
      "появившемся списке",
      "списке выбрать",
      "загруженные элементы",
      "элементы отображаются",
      "отображаются справа",
      "правой области",
      "области элементы",
      "кликнув мышкой",
      "нужное место",
      "области также",
      "элемент перетащить",
      "правой панели",
      "панели важно",
      "максимальное количество",
      "количество элементов",
      "медиа группе",
      "группе равно",
      "одному текстовому",
      "текстовому сообщению",
      "одна медиа",
      "полях медиа",
      "медиа группой",
      "отправляться клиентам",
      "хотим задавать",
      "задавать динамически",
      "аргументах события",
      "одной рассылки",
      "максимальное число",
      "число изображений",
      "создание события",
      "отправки изображений",
      "создать рассылку",
      "этому событию",
      "конструкторе рассылки",
      "блок добавить",
      "url ввести",
      "ввести аргументы",
      "аргументы события",
      "фигурных скобках",
      "каждом поле",
      "тип файла",
      "файла оставить",
      "сохранить медиа",
      "необходимо сгенерировать",
      "события указать",
      "указать ссылки",
      "рассылка должна",
      "должна отправлять",
      "макросах нужно",
      "нужно передавать",
      "события необходимо",
      "каждого url",
      "url передавался",
      "создания аргументов",
      "аргументов события",
      "настройках медиа",
      "url выбираем",
      "выбираем тип",
      "тип макрос",
      "задаем url",
      "тип макросами",
      "создания медиа",
      "разными типами",
      "типами медиа",
      "это кнопки",
      "позволяющие выполнять",
      "выполнять следующие",
      "следующие действия",
      "блок действий",
      "добавить клиенту",
      "клиенту теги",
      "снять теги",
      "отписать клиента",
      "добавления кнопки",
      "действия необходимо",
      "добавить кнопку",
      "действие эквивалентно",
      "эквивалентно тому",
      "клиент напишет",
      "напишет боту",
      "боту команды",
      "стоп рассылки",
      "stop subscriptions",
      "добавлению кнопки",
      "действия затем",
      "задать требуемые",
      "назначены клиенту",
      "добавление кнопки",
      "действия примечание",
      "длина заголовка",
      "заголовка кнопки",
      "кнопки должна",
      "нажатия кнопки",
      "содержать любое",
      "второй блок",
      "блок выполняется",
      "выполняется сразу",
      "который клиент",
      "клиент получит",
      "получит первый",
      "первый блок",
      "блок добавлено",
      "добавлено две",
      "две кнопки",
      "действия важно",
      "описанное выше",
      "выше относится",
      "кнопкам сообщения",
      "добавлено несколько",
      "несколько сообщений",
      "нескольку кнопок",
      "включенной опции",
      "каждом сообщении",
      "одной кнопке",
      "некоторых мессенджерах",
      "мессенджерах текст",
      "текст сообщений",
      "клиент увидит",
      "всплывет справа",
      "десктопной версии",
      "который обрежется",
      "отдельное сообщение",
      "нем основной",
      "основной текст",
      "кнопкой писать",
      "добавлено отдельное",
      "ссылки необходимо",
      "ссылки затем",
      "затем необходимо",
      "необходимо задать",
      "задать название",
      "название кнопки",
      "создание кнопки",
      "общем случае",
      "переписка клиента",
      "ботом доступна",
      "кодов используется",
      "конфиденциальной информации",
      "информации подтверждения",
      "такую информацию",
      "информацию необходимо",
      "необходимо скрывать",
      "тега обязательна",
      "отправка конфиденциальной",
      "помощи тега",
      "оператора заменяются",
      "увидят клиент",
      "отображение содержимого",
      "содержимого тега",
      "использованием макроса",
      "рассылке статически",
      "следующим образом",
      "поместив внутрь",
      "внутрь макрос",
      "который является",
      "является аргументом",
      "аргументом события",
      "использование значения",
      "значения макроса",
      "качестве конфиденциальной",
      "канал действие",
      "действие перевода",
      "канал выполняется",
      "клиента закрыт",
      "диалог свободный5",
      "настройках действия",
      "действия далее",
      "наличии открытого",
      "открытого диалога",
      "диалога перевод",
      "перевод выполнен",
      "помешать текущему",
      "текущему общению",
      "общению клиента",
      "будут выполнены",
      "выполнены условия",
      "добавления действия",
      "действия перевода",
      "канал нужно",
      "выбор действия",
      "задать параметры",
      "окне доступны",
      "доступны следующие",
      "следующие настройки",
      "выберите канал",
      "который необходимо",
      "необходимо перевести",
      "перевести клиента",
      "свободный диалог",
      "которого канал",
      "канал bot",
      "отправлено клиенту",
      "оправлено клиенту",
      "диалог свободный",
      "клиент обсуждает",
      "отложенным переводом",
      "переключатель условия",
      "условия перевода",
      "перевести сразу",
      "клиент переведен",
      "свободного каких",
      "условий диалога",
      "указанными ниже",
      "настройка действия",
      "время ожидания",
      "ожидания сообщения",
      "которое бот",
      "бот ожидает",
      "ожидает сообщения",
      "ограничение введено",
      "момент ожидания",
      "могут выполняться",
      "выполняться другие",
      "другие рассылки",
      "также клиенту",
      "отправлять сообщения",
      "сообщения операторы",
      "дождавшись сообщения",
      "времени ожидания",
      "предпринимать каких",
      "либо действий",
      "продолжится согласно",
      "согласно сценарию",
      "исходно заданного",
      "отправить сообщение",
      "отправлено сообщение",
      "поле ниже",
      "рассылки ниже",
      "задать безусловный",
      "безусловный перевод",
      "перевод клиента",
      "либо сообщения",
      "случае оператор",
      "новый диалог",
      "диалог появится",
      "отправки клиентом",
      "клиентом сообщения",
      "ввод условия",
      "перевода клиента",
      "сразу увидит",
      "увидит текст",
      "тратить время",
      "выяснение причины",
      "содержания обращения",
      "отправки сообщения",
      "сообщений это",
      "это действие",
      "отправке финального",
      "финального сообщения",
      "сообщения рассылки",
      "истечении определенного",
      "отключить рассылку",
      "рассылку запланированных",
      "отправленных сообщений",
      "интересуюсь этим",
      "отправку запланированных",
      "данном случае",
      "случае это",
      "это правое",
      "правое нижнее",
      "нижнее сообщение",
      "которое предполагалось",
      "предполагалось отправить",
      "запланированное сообщение",
      "продлении акции",
      "использования события",
      "события отмены",
      "отмены отправки",
      "сообщений важно",
      "действие отмены",
      "сообщений применяется",
      "всей рассылке",
      "текущего клиента",
      "ветви сценария",
      "сценария оно",
      "отмена работы",
      "рассылку кнопок",
      "кнопок это",
      "отправку сообщений",
      "работу кнопок",
      "предыдущим действием",
      "действием позволяет",
      "позволяет полностью",
      "полностью деактивировать",
      "деактивировать рассылку",
      "кнопку пункт",
      "отключить работу",
      "следующем сценарии",
      "отмена запланированного",
      "запланированного сообщения",
      "перестанет работать",
      "работать кнопка",
      "отправленная клиенту",
      "первом сообщении",
      "использование действия",
      "действия отмены",
      "отмены работы",
      "произвольное число",
      "системы действие",
      "достижении клиентом",
      "иного этапа",
      "этапа рассылки",
      "добавления вызова",
      "вызова внешней",
      "системы нужно",
      "кнопку меню",
      "далее необходимо",
      "параметры запроса",
      "внешней системе",
      "далее заполнено",
      "crm это",
      "сегментации аудитории",
      "компании сохраняются",
      "сохраняются данные",
      "идентификатором 12443",
      "12443 интересуется",
      "интересуется товарами",
      "ввод параметров",
      "параметров запроса",
      "действие вызова",
      "выполняется первым",
      "вызов завершается",
      "завершается ошибкой",
      "сервер возвращает",
      "возвращает http",
      "максимальное время",
      "время выполнения",
      "выполнения запроса",
      "остальные действия",
      "действия блока",
      "текущем блоку",
      "блоку привязаны",
      "привязаны последующие",
      "последующие блоки",
      "текущей версии",
      "подобные таймауты",
      "таймауты временно",
      "временно равны",
      "секунды вне",
      "вне зависимости",
      "заданного значения",
      "события блок",
      "других рассылок",
      "текущей рассылки",
      "сценарию рассылки",
      "рассылки перейдет",
      "задана фиксированная",
      "множества клиентов",
      "это позволит",
      "позволит начать",
      "начать одну",
      "несколько других",
      "текущая рассылка",
      "сценарий продолжит",
      "продолжит выполняться",
      "клиент нажимает",
      "втором блоке",
      "блоке рассылки",
      "рассылки генерируется",
      "генерируется событие",
      "создание промокода",
      "использование событий",
      "сценарии которой",
      "которой генерируется",
      "требуемые значения",
      "нашем случае",
      "случае нужно",
      "задать значения",
      "значения аргументов",
      "размер скидки",
      "ввода значений",
      "значений аргументов",
      "события показан",
      "числовые значения",
      "даты задаются",
      "значение аргумента",
      "аргумента также",
      "статические значения",
      "сгенерировано событие",
      "ввод аргументов",
      "генерации события",
      "первой рассылке",
      "вторая рассылка",
      "сгенерированному событию",
      "использующая значения",
      "события примечание",
      "используются значения",
      "аргументов сгенерированного",
      "сгенерированного события",
      "данной рассылки",
      "нужно выбрать",
      "выбрать условие",
      "возникновении события",
      "выбранного события",
      "которых оно",
      "оно наступило",
      "определение условий",
      "начала второй",
      "второй рассылки",
      "результате выполнения",
      "получить промокод",
      "получены данные",
      "данные промокода",
      "клиента выполнилась",
      "выполнилась вторая",
      "интента блок",
      "распознаны системой",
      "затем вызвать",
      "вызвать определенный",
      "определенный навык",
      "навык бота",
      "вызова навыков",
      "навыков бота",
      "бота необходимо",
      "сгенерировать intent",
      "словарь сущностей",
      "задан именно",
      "именно словарь",
      "формате json",
      "иначе выполнение",
      "выполнение сценария",
      "рассылки завершится",
      "завершится ошибкой",
      "словаре могут",
      "переменные окружения",
      "валидным jinja",
      "константные выражения",
      "выражения также",
      "также нужно",
      "нужно задавать",
      "задавать правильно",
      "должны оставаться",
      "оставаться пустыми",
      "параметров интента",
      "действия бот",
      "бот сгенерирует",
      "сгенерирует указанный",
      "указанный интент",
      "передаст slots",
      "выбор определенного",
      "определенного товара",
      "бот выполнил",
      "выполнил определенное",
      "определенное действие",
      "навыки бота",
      "бота должны",
      "предварительно настроены",
      "перспективе это",
      "действие должно",
      "должно вытеснить",
      "вытеснить большинство",
      "большинство переводов",
      "вызывать соответствующий",
      "соответствующий навык",
      "произвольный текст",
      "добавления блока",
      "нижнем углу",
      "клиентам sms",
      "подключения мессенджера",
      "автоматического подтверждения",
      "подтверждения номера",
      "номера телефона",
      "добавление sms",
      "проведения опроса",
      "опрос клиентов",
      "помощью форм",
      "действий блока",
      "связь исходит",
      "правом нижнем",
      "сообщение должно",
      "открыт диалог",
      "верхней части",
      "сделать это",
      "открывшемся меню",
      "нескольких окнах",
      "окнах браузера",
      "ранее открытой",
      "открытой вкладке",
      "механизм контроля",
      "контроля работает",
      "работает следующим",
      "открыть рассылку",
      "попытаться отредактировать",
      "рассылка одновременно",
      "одновременно редактируется",
      "редактируется двумя",
      "одновременном редактировании",
      "редактировании сценария",
      "редактирования сценария",
      "время выполнен",
      "тип макроса",
      "задать параметр"
    ]
  },
  {
    "section_id": "8_событие_start",
    "section_title": "Событие Start",
    "level": 1,
    "page_start": 17,
    "page_end": 17,
    "text": "Событие Start\nСобытие  Start  происходит  при  запуске  рассылки.  После  возникновения  события  Start\nсразу  или  через  заданное  время  выполняются  связанные  с  ним  блоки  действий  (см.\nдалее).",
    "tags": [
      "событие start",
      "start событие"
    ]
  },
  {
    "section_id": "9_блоки_действий",
    "section_title": "Блоки действий",
    "level": 1,
    "page_start": 17,
    "page_end": 42,
    "text": "Блоки действий\nБлок может содержать одно или несколько действий следующих типов:\n1.  Отправка сообщения;\n2.  Отправка сообщения, содержащего конфиденциальные данные для клиента;\n3.  Перевод в канал;\n4.  Отмена отправки запланированных сообщений этой рассылки;\n5.  Отмена действия кнопок рассылки;\n6.  Вызов внешней системы;\n7.  Генерация события;\n8.  Генерация интента.\nОтправка сообщения\nСообщения могут содержать следующие элементы:\n1.  Текст  сообщения  —  текст,  который  будет  отправлен  клиенту  в  мессенджер.  Для\nввода текста используется поле стандартного блока действий (см. Рисунок 20);\n17\nРисунок 20 — Ввод текстового сообщения для отправки\nПри нажатии на id сообщения (на представленном рисунке это «916») будет открыто\nокно  редактирования,  которое  удобно  использовать  для  ввода  больших  текстов\nрассылок.\n2.  Медиа-контент  —  изображения,  видео,  аудио  и  документы,  которые  могут  быть\nдобавлены к сообщению. Поддерживаются наиболее распространенные форматы\n(см. таблицу 1).\nТаблица 1 — Рекомендуемые форматы файлов и их поддержка в мессенджерах\nТип\nФорматы\nВозможность загрузки файлов\nViber\nВКонтакте\nTelegram\nFacebook*\nInstagram1*\nJPG\nJPEG\nPNG\nMP4\nMP3\nPDF\nDOC(X)\nXLS(X)\nTXT\nИзображение\nВидео\nАудио\nДокумент\nВажно!\nДа\nДа\nДа\nДа\nНет\nНет\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nСписок  рекомендованных  форматов,  указанный  в  таблице\n1,  не  является\nисчерпывающим.  У  каждого  мессенджера  есть  свой  список,  который  со  временем\nможет  изменяться.  Кроме  того,  необходимо  учитывать,  что  мессенджеры  имеют  свои\nособенности отображения медиа-контента (например, Viber в некоторых случаях не\nпозволяет просматривать изображения в мессенджере).\n1  Отправка  возможна  для  всех  видов  контента.  При  этом,  для  всех  видов  контента,  кроме  изображений,\nотправляется только ссылка на него. Соответственно, клиент не сможет просматривать аудио, видео или\nдокумент  прямо  в  мессенджере  (для  этого  нужно  будет  воспользоваться  браузером  или  другим\nприложением.\n18\nВ  таблице  приведены  наиболее  универсальные форматы,  подходящие  для  отправки\nклиенту  в  большинство  мессенджеров.  Перед  запуском  рассылки  для  клиентов\nнеобходимо предварительно тестировать рассылки на всех мессенджерах.\nДополнительно  нужно  учитывать,  что  для  некоторых  мессенджеров  важно,  чтобы\nистинный  формат  файла  соответствовал  его  расширению  (т. е.  чтобы  изображение\nimage.png действительно имело содержимое, предусмотренное форматом PNG, а не,\nнапример, данные в формате JPEG).\nДля добавления медиа-контента необходимо в блоке действий нажать на кнопку\nв раскрывшемся меню выбрать пункт «Добавить медиа» (см. Рисунок 21).\nи\nРисунок 21 — Переход к добавлению медиа-контента\nЗатем нужно задать тип медиа-контента и ввести ссылку (URL) на него, либо загрузить\nс компьютера при помощи кнопки\n(см. Рисунок 22).\nРисунок 22 — Добавление медиа-контента\n3.  Медиа группа — изображения и видео, которые могут быть добавлены к сообщению\nгруппой.\nВ  отличии  от  предыдущего  пункта,  медиа  группа  позволяет  отправлять  клиенту\nзаранее не определенное количество изображений и видео. Это удобно, например,\nдля  информирования  клиентов  о  результате  проведенных  работ,  когда  одному\n19\nклиенту  нужно  отправить  10  фотографий,  а  другому  15.  С  помощью  медиа  групп  это\nможно сделать одной рассылкой2.\nВторое отличие от одиночных медиа состоит в том, что с медиа группа отправляются\nклиенту  одним  сообщением3,  тогда  как  одиночные  медиа  отправляются  каждое  в\nотдельном сообщении.\nВ  группах  могут  отправляться  только  изображения  и  видео,  документы  и  аудио\nотправляться не могут.\nДля  добавления  группы  необходимо  в  блоке  действий  нажать  на  кнопку\nраскрывшемся меню выбрать пункт «Добавить медиа группу» (см. Рисунок 23).\nи  в\nРисунок 23 — Добавление медиа группы\nВ  открывшемся  окне  можно  добавлять  и  редактировать  ссылки  на  файлы,  которые\nбудут отправляться вместе с указанным сообщением (Рисунок 24).\nРисунок 24 — Редактор медиа групп\n2  Для  реализации  этого  сценария  необходимо  использовать  макросы,  см.  в  разделе  «Использование\nмакросов»\n3  Возможности просмотра одиночных и групп медиа («карусель», предпросмотр в виде плиток и т.д.) зависят\nот мессенджера.\n20\nВ  поле  URL  можно  вставить  как  сам  URL  изображения,  так  и  макрос  (подробнее  о\nмакросах в разделе «Использование макросов»).\nДля  загрузки  файлов  с  устройства  используется  кнопка\n.  Для  клонирования\nэлементов  –\nпоявившемся списке выбрать тип: изображение, видео или макрос.\n.  Для  выбора  типа  файла  необходимо  нажать  на  иконку\nи  в\nЗагруженные элементы отображаются справа. В правой области элементы можно как\nудалять  при  наведении  мышки  и  нажатии  на  кнопку  корзины,  так  и  перемещать  –\nкликнув мышкой на элемент и перетянуть в нужное место см. Рисунок 25.\nВ  левой  области\nтакже  можно  перетаскивать  элементы  и  менять  их\nпоследовательность.  Для  этого  необходимо  кликнуть  мышкой  на  элемент\nперетащить его в нужное место.\nи\nРисунок 25 — Взаимодействие с элементами в правой панели\nВажно!\nМаксимальное количество элементов в медиа группе равно 50. К одному текстовому\nсообщению может быть присоединена только одна медиа группа.\nВо всех полях медиа группы можно использовать макросы.\nРассмотрим случай, когда рассылка с медиа группой будет отправляться клиентам\nпо событию.  Ссылки на изображения мы хотим задавать динамически, в аргументах\nсобытия,  чтобы  мы  могли  отправить  одному  клиенту  11  фотографий,  а  другому  20  из\nодной рассылки. Для этого необходимо:\n1.  Создать  событие,  у  которого  будет  30  аргументов  (это  будет  максимальное\nчисло изображений в медиа группе в этом примере) (Рисунок 26);\n21\nРисунок 26 — Создание события для отправки изображений в медиа группе\n2.  Создать рассылку и настроить ее на начало по этому событию;\n3.  В конструкторе рассылки в блок добавить медиа группу;\n4.  В  медиа  группу  добавить  то  же  самое  количество  URL,  что  и  в  аргументах\nсобытия (см. Рисунок 27);\nРисунок 27 — Использование макросов с изображениями\n5.  В поле URL ввести аргументы события в фигурных скобках, указав в каждом поле\nтолько один аргумент, тип файла оставить как изображение (см. Рисунок 27);\n6.  Сохранить медиа группу.\n22\nПосле этого необходимо сгенерировать событие и в аргументах события указать\nссылки на файлы для отправки клиенту в мессенджер см. Рисунок 28.\nРисунок 28 — Генерация события с аргументами\nЕсли рассылка должна отправлять не только изображения в медиа группе, но и видео,\nтогда в макросах нужно передавать еще и тип медиа. Для этого в аргументах события\nнеобходимо  создать  в  два  раза  больше  аргументов,  чтобы  для  каждого  URL\nпередавался еще и тип, например см. Рисунок 29:\nРисунок 29 — Создания аргументов события для медиа группы\nВ настройках медиа группы для каждого URL выбираем тип \"Макрос\" и задаем URL и\nего тип макросами, как показано на Рисунок 30.\n23\nРисунок 30 — Создания медиа группы с разными типами\nПосле этого необходимо сгенерировать событие и в аргументах события указать\nссылки на файлы и типы для отправки клиенту в мессенджер, например, см. Рисунок\n31.\nРисунок 31 — Генерация события для медиа группы с типами медиа\n4.  Кнопки-действия — это кнопки, позволяющие выполнять следующие действия:\n•  Вызвать другой блок действий;\n•  Добавить клиенту теги;\n•  Снять теги с клиента;\n•  Отписать клиента от рассылок (всех)4.\nДля добавления кнопки-действия необходимо в блоке действий нажать на кнопку\nи в раскрывшемся меню выбрать пункт «Добавить кнопку-действие» (см. Рисунок 32).\n4 Действие эквивалентно тому, что клиент напишет боту команды «стоп рассылки» или «stop subscriptions»,\nсм. раздел Отписка от рассылок.\n24\nРисунок 32 — Переход к добавлению кнопки-действия\nЗатем  нужно  задать  требуемые  параметры  кнопки  и  нажать  на  кнопку  «Сохранить»\n(см.  Рисунок  33).  Для  каждой  кнопки  можно  указать  теги,  которые  будут  назначены\nклиенту (сняты с клиента), подробнее об этом см. в подразделе Работа с тегами.\nРисунок 33 — Добавление кнопки-действия\nПримечание:\nДлина заголовка кнопки должна быть не более 20 символов.\nДействия  в  блоке,  связанном  с  кнопкой,  всегда  выполняются  сразу  после  нажатия\nкнопки.  (см.  Рисунок  34).  Блок,  вызываемый  кнопкой-действием,  может  содержать\nлюбое из действий, описанных в разделе Блоки действий.\n25\nРисунок 34 — Второй блок выполняется сразу при нажатии на кнопку\nНа  одну  кнопку  клиент  может  нажать  только  один  раз.  Повторные  нажатия  не\nобрабатываются.  Если  сценарий  рассылки  предусматривает  возврат  к  блоку,\nкоторый клиент уже получал, то на кнопку можно будет нажать еще раз (см.  Рисунок\n35). В этом примере при нажатии на кнопку «Назад» клиент получит первый блок еще\nраз и именно в нем можно будет еще раз нажать на кнопку «Подробнее».\nРисунок 35 — Пример возврата\nПри  добавлении  к  сообщению  более  двух  кнопок-действий  появляется  опция\n«Разрешить только одно нажатие» (см. Рисунок 36).\nЕсли  она  установлена,  то  клиент  может  нажать  только  на  одну  кнопку  в  этом\nсообщении.  После  первого  нажатия  аналогичные  нажатия  по  другим  кнопкам  не\nобрабатываются.  Если  опция  не  установлена,  то  на  каждую  кнопку  в  сообщении\nможно нажать один раз.\n26\nРисунок 36 — В блок добавлено две кнопки-действия\nВажно!\nОписанное выше относится только к кнопкам сообщения, а не блока. В один блок может\nбыть добавлено несколько сообщений, каждое из которых будет содержать по нескольку\nкнопок. В этом случае при включенной опции «Разрешить только одно нажатие» в каждом\nсообщении можно будет нажать по одной кнопке.\nВ некоторых мессенджерах текст сообщений с кнопками может обрезаться. Т.е. клиент\nувидит  не  весь  отправленный  ботом  текст,  а  только  первые  несколько  символов.\nПредупреждение об этом всплывет справа у окна с текстом см. Рисунок 37. Например, в\nмобильной  версии  Viber  будет  отображаться  только  первые  40  символов  сообщения  с\nкнопкой, а в десктопной версии – первые 10.\nРисунок 37 - Текст с кнопкой, который обрежется в некоторых мессенджерах\nЧтобы  обойти  эту  проблему  рекомендуем  добавлять  отдельное  сообщение  перед\nсообщением с кнопкой и задавать в нем основной текст, а в сообщении с кнопкой писать\nчто-то короткое см. Рисунок 38.\n27\nРисунок 38 - Добавлено отдельное сообщение\n5.  Кнопки-ссылки  —  кнопки,  позволяющие  клиенту  перейти  по  заданной  ссылке  из\nмессенджера.\nДля добавления кнопки-ссылки необходимо в блоке действий нажать на кнопку\nраскрывшемся меню выбрать пункт «Добавить кнопку-действие» (см. Рисунок 39).\nи в\nРисунок 39 — Переход к добавлению кнопки-ссылки\nЗатем необходимо задать название кнопки и ссылку для нее (см. Рисунок 40).\nРисунок 40 — Создание кнопки-ссылки\n28\nСсылка  клиенту  не  отображается.  Нажатия  на  кнопку-ссылку  не  могут  приводить  к\nзапуску  другого  блока  или  иным  действиям,  а  также  никак  не  учитываются  в\nстатистике.\nПримечание:\nКлиент  может  нажимать  на  ссылки  многократно,  описанные  выше  ограничения  по\nнажатиям на них не действуют.\nОтправка сообщения, содержащего конфиденциальные данные для клиента\nВ  общем случае  вся  переписка клиента  с  ботом доступна  оператору  Maxbot. Если  бот\n(например,  кодов\nиспользуется  для  отправки  конфиденциальной  информации\nподтверждения), то такую информацию необходимо скрывать от оператора.\nДля  отправки  конфиденциальной  информации  в  теле  блока  с сообщением  необходимо\nиспользовать  тег  <security>…</security>  (см  Рисунок  41).  Вставка  закрывающего  тега\nобязательна.\nРисунок 41 — Отправка конфиденциальной информации при помощи тега <security></security>\nДанные, заключенные в теге <security>, для оператора заменяются на ***. То, что увидят\nклиент и оператор при запуске такой рассылки, показано на рисунке ниже:\nРисунок 42 — Отображение содержимого тега <security> для клиента и для оператора\nНа  практике  использование  тега  <security>  будет  сопровождаться  использованием\nмакроса,  т. е.  конфиденциальная  информация  вряд  ли  будет  задаваться  в  рассылке\nстатически.  В  этом  случае  тег  <security>  нужно  использовать  следующим  образом  (см.\nРисунок 43), поместив внутрь макрос, который является аргументом события:\n29\nРисунок 43 — Использование значения макроса в качестве конфиденциальной информации\nПеревод в канал\nДействие перевода в канал выполняется сразу, если диалог у клиента закрыт или диалог\nсвободный5  или  иное  на  задано  в  настройках  действия  (см.  далее).  При  наличии\nоткрытого диалога перевод выполнен не будет, чтобы не помешать текущему общению\nклиента  с  оператором.  Перевод  будет  отложен  до  тех  пор,  пока  диалог  у  клиента  не\nбудет закрыт или не будут выполнены условия, заданные в настройках действия.\nДля добавления действия перевода в канал нужно нажать на кнопку\nи в раскрывшемся\nменю  выбрать  пункт  «Действие»,  после чего  выбрать  «Перевести  в  канал»  (см.  Рисунок\n44):\nРисунок 44 — Выбор действия\nЗатем в открывшемся окне (см. Рисунок 45) необходимо задать параметры для действия\nперевода в канал.\nВ окне доступны следующие настройки:\n•  Выберите канал — канал, в который необходимо перевести клиента;\n5 Свободный диалог — диалог, у которого канал Bot.\n30\n•  Текст  при  переводе  в  канал  —  сообщение,  которое  будет  отправлено  клиенту  при\nпереводе в канал (если оставить его пустым, то сообщение не будет отправляться);\n•  Текст  при  откладывании  перевода  в  канал  —  сообщение,  которое  будет  оправлено\nклиенту,  если  в  момент  выполнения  действия  у  него  есть  открытый  диалог  и  он  не\nсвободный (т. е. клиент обсуждает с оператором или ботом какой-то вопрос);\n•  Текст перед отложенным переводом в канал — сообщение, которое будет отправлено\nклиенту при переводе в канал, если он ранее был отложен;\n•  Переключатель условия перевода в канал:\n•  Перевести сразу (значение по умолчанию) — клиент будет переведен в канал без\n(кроме  наличия  открытого/свободного\nкаких-либо  дополнительных  условий\nдиалога);\n•  Перевести  после  получения  сообщения  от  клиента  —  клиент  будет  переведен\nтолько  после  получения  от  него  сообщения  и  в  соответствии  с  настройками,\nуказанными ниже;\nРисунок 45 — Настройка действия перевода в канал\n31\n•  Время ожидания сообщения — время, которое бот ожидает сообщения от клиента для\nперевода  его  в  канал.  Можно  установить  время  не  более  2  часов  (ограничение\nвведено,  чтобы  маркетолог  не  мог  надолго  «блокировать»  клиента:  поскольку  в\nмомент ожидания не могут выполняться другие рассылки, а также клиенту не смогут\nотправлять сообщения операторы);\n•  Если  клиент  не  ответил  за  заданное  время  —  действие,  которое  бот  выполнит,  не\nдождавшись сообщения от клиента в течение «времени ожидания сообщения»:\n•  «Ничего не делать» — бот не будет предпринимать каких-либо действий; клиент не\nбудет переведен в канал, рассылка при этом продолжится согласно сценарию;\n•  «Перевести  в  канал  безусловно»  —  клиент  будет  переведен  в  канал,  при  этом\nможно задать другой канал (отличный от исходно заданного);\n•  «Отправить сообщение» — клиенту будет отправлено сообщение, заданное в поле\nниже; клиент не будет переведен в канал.\nЕсли для рассылки ниже (см. Рисунок 46) задать безусловный перевод клиента в канал по\nфакту  нажатия  на  кнопку  «Оставить  отзыв»,  то  клиент  будет  переведен  сразу,  какого-\nлибо сообщения от него не требуется.\nРисунок 46 — Пример рассылки с переводом в канал\nВ  этом  случае  оператор  увидит  нового  клиента  в  списке  диалогов,  но  сообщение  от\nклиента будет отсутствовать (см. Рисунок 47).\nРисунок 47 — Клиент переведен в канал без сообщения\n32\nЕсли  же  в  настройках  перевода  в  канал  потребовать  ввод  сообщения  от  клиента  (см.\nРисунок 48), то новый диалог появится только после отправки клиентом сообщения.\nРисунок 48 — Ввод условия перевода клиента в канал только при наличии от него сообщения\nВ этом случае оператор уже сразу увидит текст сообщения и не будет тратить время на\nвыяснение причины и содержания обращения (см. Рисунок 49).\nРисунок 49 — Клиент переведен в канал после отправки им сообщения\nОтмена отправки запланированных сообщений\nЭто  действие  позволяет  маркетологу  остановить  рассылку  для  клиента  при\nвозникновении  некоторого  события.  Например,  при  нажатии  кнопки,  при  отправке\nфинального сообщения рассылки, при истечении определенного времени.\nДля  добавления  действия  нужно  нажать  на  кнопку\nи  в  раскрывшемся  меню  выбрать\nпункт «Действие», после чего выбрать «Отключить рассылку запланированных, но еще не\nотправленных сообщений» (см. Рисунок 50):\n33\nРисунок 50 — Выбор действия\nНа  рисунке  51  показан  пример  такого  сценария.  Если  клиент  нажмет  на  кнопку  «Не\nинтересуюсь  этим»,  робот  отправит  извинительное  сообщение  и  отключит  отправку\nзапланированных сообщений. В данном случае это правое нижнее сообщение, которое\nпредполагалось отправить через 5 дней.\nЕсли  клиент  в  течение  5  дней  не  нажмет  эту  кнопку,  то  он  получит  запланированное\nсообщение с информацией о продлении акции.\nРисунок 51 — Пример использования события отмены отправки запланированных сообщений\nВажно!\nДействие отмены отправки запланированных сообщений применяется ко всей рассылке\nдля текущего клиента, независимо от того, из какой ветви сценария оно было вызвано.\n34\nОтмена работы уже отправленных в рассылку кнопок\nЭто  действие  работает  аналогично  предыдущему,  только  отменяет  не  отправку\nсообщений, а работу кнопок в сообщениях. Вместе с предыдущим действием позволяет\nполностью деактивировать рассылку для клиентов, у которых они будут выполнены.\nи  в  раскрывшемся  меню  выбрать\nДля  добавления  действия  нужно  нажать  на  кнопку\nпункт «Действие», после чего выбрать «Отключить работу уже отправленных в рассылку\nкнопок» (см. Рисунок 52):\nРисунок 52 — Выбор действия\nВ следующем сценарии (см. Рисунок 53) при нажатии на кнопку «Не интересуюсь этим»\nпроизойдет не только отмена запланированного сообщения, но и перестанет работать\nкнопка, отправленная клиенту в первом сообщении.\nРисунок 53 — Использование действия отмены работы уже отправленных в рассылку кнопок\n35\nВажно!\nЭто  действие  отменяет  только  работу  кнопок-действий.  Кнопки-ссылки  будут  всегда\nдоступны, клиенты смогут переходить по ним произвольное число раз.\nДействие  отмены  работы  кнопок  применяется  ко  всей  рассылке  для  текущего  клиента,\nнезависимо от того, из какой ветви сценария оно было вызвано.\nВызов внешней системы\nДействие  «Вызвать  внешнюю  систему»  предназначено  для  уведомления  внешней\nсистемы о достижении клиентом того или иного этапа рассылки.\nи в раскрывшемся\nДля добавления вызова внешней системы нужно нажать на кнопку\nменю  выбрать  пункт  «Действие»,  после  чего  выбрать  «Вызвать  внешнюю  систему»  (см.\nРисунок 54).\nРисунок 54 — Выбор действия\nДалее необходимо задать параметры запроса к внешней системе. Для примера далее\nзаполнено  обращение  к  CRM  компании  для  того,  чтобы  отметить  интерес  клиента  к\nопределенной  теме  в  случае  нажатия  на  определенную  кнопку  (см.  Рисунок  55).  В\nдальнейшем в CRM это можно будет использовать для сегментации аудитории.\nПример  ниже  отражает  вариант  запроса,  при  выполнении  которого  в  CRM  компании\nсохраняются данные о том, что клиент с идентификатором 12443 интересуется товарами\nв категории «наушники» (headphones).\nКроме  строковых  и  числовых  параметров  также  могут  использоваться  макросы,  см.\nподробнее в разделе Использование макросов.\n36\nРисунок 55 — Ввод параметров запроса к внешней системе\nЕсли в блоке есть действие вызова внешней системы, то оно всегда выполняется первым.\nЕсли вызов завершается ошибкой (сервер возвращает HTTP-статус, отличный от 200 или\nне  отвечает  в  течение  времени,  заданного  в  поле  «Максимальное  время  выполнения\nзапроса»), то остальные действия блока не выполняются. Если к текущем блоку привязаны\nпоследующие блоки (т. е. выполняются после отправки сообщения из этого блока), то они\nтакже не будут выполнены.\nПримечание:\nВ текущей версии «Максимальное время выполнения запроса» и все подобные таймауты\nвременно равны 0.5 секунды вне зависимости от заданного значения.\nГенерация события\nБлок  этого  типа  позволяет  вызывать  события  и  использовать  их  для  запуска  других\nрассылок из текущей рассылки.\nЕсли клиент по сценарию рассылки перейдет к действию «Сгенерировать событие», то\nэто  событие  будет  сгенерировано  либо  только  для  него;  если  для  события  задана\nфиксированная  аудитория  (см.  подробнее  в  разделе  Определение  аудитории),  то\nсобытие  будет  сгенерировано  для  нее  (будет  запущена  рассылка  для  множества\n37\nклиентов). Это позволит начать одну или несколько других рассылок. Текущая рассылка\nпри этом не будет остановлена, ее сценарий продолжит выполняться.\nРисунок 56 — Выбор действия «Сгенерировать событие\nНапример,  есть  рассылка,  предлагающая  клиенту  воспользоваться  промокодом  (см.\nРисунок 57). Если клиент нажимает на кнопку, то во втором блоке рассылки генерируется\nсобытие «Создание промокода для клиента».\nПримечание:\nСобытие,  используемое  в  сценарии  рассылки,  должно  быть  предварительно  создано.\nПодробнее об этом см. в разделе Использование событий.\nРисунок 57 — Рассылка, в сценарии которой генерируется событие для клиента\nВ аргументах события, генерируемого для клиента, нужно задать требуемые значения. В\nнашем случае нужно задать значения для 3-х аргументов (см. Рисунок 58):\n•  промокод — строка;\n38\n•  размер скидки (%) — число;\n•  действует до — строка.\nРисунок 58 — Событие «Создание промокода для клиента» и его аргументы\nПример ввода значений аргументов события показан на рисунке 59.\nПри  указании  строковых  значений  необходимо  использовать  символ  кавычек  (“);\nчисловые значения и даты задаются без кавычек. Значение аргумента также может быть\nпустым (не задано).\nПри этом могут быть заданы как статические значения аргументов (в примере выше), так\nи динамические — макросы, уникальные для каждого клиента.\nПереключатель  под  названием  события  определяет,  для  кого  будет  сгенерировано\nсобытие:\n•  только для текущего клиента\nили\n•  для множества клиентов (для рассылок с фиксированной аудиторией).\n39\nРисунок 59 — Ввод аргументов для события\nТеперь  можно  создать  вторую  рассылку,  которая  будет  выполняться  при  генерации\nсобытия в первой рассылке. Ниже пример такой рассылки (см. Рисунок 60):\nРисунок 60 — Вторая рассылка, запускаемая по сгенерированному событию и использующая\nзначения аргументов события\nПримечание:\nЕсли  рассылка  запускается  по  событию,  то  его  аргументы  можно  использовать  в\nрассылке  как макросы.  На  рисунке  выше  во  второй  рассылке  при  помощи  скобок  {{  }}\nиспользуются значения аргументов сгенерированного события.\nДля данной рассылки нужно выбрать условие «Начинать при возникновении события» и\nсобытие  «Создание  промокода  для  клиента»  (см.  Рисунок  61),  после  чего  запустить  ее.\nРассылка будет «ожидать» выбранного события и выполнится у клиентов, для которых оно\nнаступило.\n40\nРисунок 61 — Определение условий начала второй рассылки\nЕсли  в  результате  выполнения  первой  рассылки  (см.  Рисунок  57)  клиент  нажмет  кнопку\n«Получить  промокод»,  то  в  результате  выполнения  второй  рассылки  будут  получены\nданные промокода (см. Рисунок 62).\nРисунок 62 — После нажатия на кнопку «Получить промокод» для клиента выполнилась вторая\nрассылка\nГенерация интента\nБлок  этого  типа  позволяет  сгенерировать  интент  (intent)  —  намерения  пользователя,\nкоторые могут быть распознаны системой для того, чтобы затем вызвать определенный\nнавык бота.\n41\nДля вызова навыков бота необходимо:\n1.  Нажать  на  кнопку\nи  в  раскрывшемся меню  выбрать  пункт «Действие»,  после  чего\nвыбрать «Сгенерировать intent» (см. Рисунок 63).\nРисунок 63 — Выбор действия «Сгенерировать intent»\n2.  В  настройках  действия  (см.  Рисунок  64)  задать  название  интента  и  (необязательно)\nсловарь сущностей (entities). Важно, что в поле «Entities» должен быть задан именно\nсловарь в формате JSON (как на рисунке ниже), иначе выполнение сценария рассылки\nзавершится ошибкой.\nВ словаре могут быть использованы как макросы и переменные окружения (в нотации\n«slots.m.macros_name»),  так  и  статические  значения.  Этот  словарь  должен  быть\nвалидным jinja-выражением.\nКонстантные выражения также нужно задавать правильно — строки только в кавычках,\nчисла — без, и они не должны оставаться пустыми.\nРисунок 64 — Ввод параметров интента\n42\n3.  Нажать на кнопку «Сохранить».\nВ результате выполнения этого действия бот сгенерирует указанный интент и передаст\nslots  в  качестве  параметров.  Это  позволит  запустить  нужный  навык  бота  для  клиента\n(например, выбор определенного товара или услуги).\nПримечание:\nЧтобы бот выполнил определенное действие, навыки бота должны быть предварительно\nнастроены.\nВ перспективе это действие должно вытеснить большинство переводов в канал – вместо\nтого,  чтобы  передавать  клиента  оператору  и  занимать  его  время,  рассылка  будет\nвызывать соответствующий навык бота.",
    "tags": [
      "каждого клиента",
      "сценария рассылки",
      "некоторых случаях",
      "определенного времени",
      "рассылки нужно",
      "открывшемся окне",
      "помощи кнопки",
      "выбрать тип",
      "условий начала",
      "фиксированной аудиторией",
      "сгенерировать событие",
      "блоки действий",
      "действий блок",
      "следующих типов",
      "отправка сообщения",
      "содержащего конфиденциальные",
      "конфиденциальные данные",
      "отмена отправки",
      "отправки запланированных",
      "запланированных сообщений",
      "отмена действия",
      "действия кнопок",
      "кнопок рассылки",
      "вызов внешней",
      "внешней системы",
      "генерация события",
      "генерация интента",
      "сообщения сообщения",
      "сообщения могут",
      "могут содержать",
      "содержать следующие",
      "следующие элементы",
      "текст сообщения",
      "ввода текста",
      "текста используется",
      "используется поле",
      "поле стандартного",
      "стандартного блока",
      "блока действий",
      "ввод текстового",
      "текстового сообщения",
      "открыто окно",
      "текстов рассылок",
      "видео аудио",
      "которые могут",
      "поддерживаются наиболее",
      "наиболее распространенные",
      "распространенные форматы",
      "рекомендуемые форматы",
      "форматы файлов",
      "мессенджерах тип",
      "тип форматы",
      "форматы возможность",
      "возможность загрузки",
      "загрузки файлов",
      "файлов viber",
      "viber вконтакте",
      "вконтакте telegram",
      "telegram facebook",
      "jpg jpeg",
      "jpeg png",
      "png mp4",
      "mp4 mp3",
      "mp3 pdf",
      "pdf doc",
      "txt изображение",
      "изображение видео",
      "аудио документ",
      "документ важно",
      "является исчерпывающим",
      "свои особенности",
      "особенности отображения",
      "отображения медиа",
      "другим приложением",
      "универсальные форматы",
      "отправки клиенту",
      "клиентов необходимо",
      "необходимо предварительно",
      "предварительно тестировать",
      "тестировать рассылки",
      "изображение image",
      "png действительно",
      "действительно имело",
      "имело содержимое",
      "форматом png",
      "формате jpeg",
      "добавления медиа",
      "контента необходимо",
      "блоке действий",
      "кнопку раскрывшемся",
      "раскрывшемся меню",
      "меню выбрать",
      "выбрать пункт",
      "добавить медиа",
      "добавлению медиа",
      "контента затем",
      "затем нужно",
      "нужно задать",
      "задать тип",
      "тип медиа",
      "ввести ссылку",
      "либо загрузить",
      "добавление медиа",
      "медиа группа",
      "сообщению группой",
      "клиенту заранее",
      "определенное количество",
      "количество изображений",
      "это удобно",
      "медиа групп",
      "сделать одной",
      "одной рассылкой2",
      "второе отличие",
      "одиночных медиа",
      "медиа состоит",
      "группа отправляются",
      "отправляются клиенту",
      "отдельном сообщении",
      "аудио отправляться",
      "медиа группу",
      "медиа группы",
      "которые будут",
      "будут отправляться",
      "отправляться вместе",
      "указанным сообщением",
      "редактор медиа",
      "необходимо использовать",
      "использовать макросы",
      "использование макросов",
      "групп медиа",
      "виде плиток",
      "поле url",
      "клонирования элементов",
      "появившемся списке",
      "списке выбрать",
      "загруженные элементы",
      "элементы отображаются",
      "отображаются справа",
      "правой области",
      "области элементы",
      "кликнув мышкой",
      "нужное место",
      "области также",
      "элемент перетащить",
      "правой панели",
      "панели важно",
      "максимальное количество",
      "количество элементов",
      "медиа группе",
      "группе равно",
      "одному текстовому",
      "текстовому сообщению",
      "одна медиа",
      "полях медиа",
      "медиа группой",
      "отправляться клиентам",
      "хотим задавать",
      "задавать динамически",
      "аргументах события",
      "одной рассылки",
      "максимальное число",
      "число изображений",
      "создание события",
      "отправки изображений",
      "создать рассылку",
      "этому событию",
      "конструкторе рассылки",
      "блок добавить",
      "url ввести",
      "ввести аргументы",
      "аргументы события",
      "фигурных скобках",
      "каждом поле",
      "тип файла",
      "файла оставить",
      "сохранить медиа",
      "необходимо сгенерировать",
      "события указать",
      "указать ссылки",
      "рассылка должна",
      "должна отправлять",
      "макросах нужно",
      "нужно передавать",
      "события необходимо",
      "каждого url",
      "url передавался",
      "создания аргументов",
      "аргументов события",
      "настройках медиа",
      "url выбираем",
      "выбираем тип",
      "тип макрос",
      "задаем url",
      "тип макросами",
      "создания медиа",
      "разными типами",
      "типами медиа",
      "это кнопки",
      "позволяющие выполнять",
      "выполнять следующие",
      "следующие действия",
      "блок действий",
      "добавить клиенту",
      "клиенту теги",
      "снять теги",
      "отписать клиента",
      "добавления кнопки",
      "действия необходимо",
      "добавить кнопку",
      "действие эквивалентно",
      "эквивалентно тому",
      "клиент напишет",
      "напишет боту",
      "боту команды",
      "стоп рассылки",
      "stop subscriptions",
      "добавлению кнопки",
      "действия затем",
      "задать требуемые",
      "назначены клиенту",
      "добавление кнопки",
      "действия примечание",
      "длина заголовка",
      "заголовка кнопки",
      "кнопки должна",
      "нажатия кнопки",
      "содержать любое",
      "второй блок",
      "блок выполняется",
      "выполняется сразу",
      "который клиент",
      "клиент получит",
      "получит первый",
      "первый блок",
      "блок добавлено",
      "добавлено две",
      "две кнопки",
      "действия важно",
      "описанное выше",
      "выше относится",
      "кнопкам сообщения",
      "добавлено несколько",
      "несколько сообщений",
      "нескольку кнопок",
      "включенной опции",
      "каждом сообщении",
      "одной кнопке",
      "некоторых мессенджерах",
      "мессенджерах текст",
      "текст сообщений",
      "клиент увидит",
      "всплывет справа",
      "десктопной версии",
      "который обрежется",
      "отдельное сообщение",
      "нем основной",
      "основной текст",
      "кнопкой писать",
      "добавлено отдельное",
      "ссылки необходимо",
      "ссылки затем",
      "затем необходимо",
      "необходимо задать",
      "задать название",
      "название кнопки",
      "создание кнопки",
      "общем случае",
      "переписка клиента",
      "ботом доступна",
      "кодов используется",
      "конфиденциальной информации",
      "информации подтверждения",
      "такую информацию",
      "информацию необходимо",
      "необходимо скрывать",
      "тега обязательна",
      "отправка конфиденциальной",
      "помощи тега",
      "оператора заменяются",
      "увидят клиент",
      "отображение содержимого",
      "содержимого тега",
      "использованием макроса",
      "рассылке статически",
      "поместив внутрь",
      "внутрь макрос",
      "который является",
      "является аргументом",
      "аргументом события",
      "использование значения",
      "значения макроса",
      "качестве конфиденциальной",
      "канал действие",
      "действие перевода",
      "канал выполняется",
      "клиента закрыт",
      "диалог свободный5",
      "настройках действия",
      "действия далее",
      "наличии открытого",
      "открытого диалога",
      "диалога перевод",
      "перевод выполнен",
      "помешать текущему",
      "текущему общению",
      "общению клиента",
      "будут выполнены",
      "выполнены условия",
      "добавления действия",
      "действия перевода",
      "канал нужно",
      "выбор действия",
      "задать параметры",
      "окне доступны",
      "доступны следующие",
      "следующие настройки",
      "выберите канал",
      "который необходимо",
      "необходимо перевести",
      "перевести клиента",
      "свободный диалог",
      "которого канал",
      "канал bot",
      "отправлено клиенту",
      "оправлено клиенту",
      "диалог свободный",
      "клиент обсуждает",
      "отложенным переводом",
      "переключатель условия",
      "условия перевода",
      "перевести сразу",
      "клиент переведен",
      "свободного каких",
      "условий диалога",
      "указанными ниже",
      "настройка действия",
      "время ожидания",
      "ожидания сообщения",
      "которое бот",
      "бот ожидает",
      "ожидает сообщения",
      "ограничение введено",
      "момент ожидания",
      "могут выполняться",
      "выполняться другие",
      "другие рассылки",
      "также клиенту",
      "отправлять сообщения",
      "сообщения операторы",
      "дождавшись сообщения",
      "времени ожидания",
      "предпринимать каких",
      "либо действий",
      "продолжится согласно",
      "согласно сценарию",
      "исходно заданного",
      "отправить сообщение",
      "отправлено сообщение",
      "поле ниже",
      "рассылки ниже",
      "задать безусловный",
      "безусловный перевод",
      "перевод клиента",
      "либо сообщения",
      "случае оператор",
      "новый диалог",
      "диалог появится",
      "отправки клиентом",
      "клиентом сообщения",
      "ввод условия",
      "перевода клиента",
      "сразу увидит",
      "увидит текст",
      "тратить время",
      "выяснение причины",
      "содержания обращения",
      "отправки сообщения",
      "сообщений это",
      "это действие",
      "отправке финального",
      "финального сообщения",
      "сообщения рассылки",
      "истечении определенного",
      "отключить рассылку",
      "рассылку запланированных",
      "отправленных сообщений",
      "интересуюсь этим",
      "отправку запланированных",
      "данном случае",
      "случае это",
      "это правое",
      "правое нижнее",
      "нижнее сообщение",
      "которое предполагалось",
      "предполагалось отправить",
      "запланированное сообщение",
      "продлении акции",
      "использования события",
      "события отмены",
      "отмены отправки",
      "сообщений важно",
      "действие отмены",
      "сообщений применяется",
      "всей рассылке",
      "текущего клиента",
      "ветви сценария",
      "сценария оно",
      "отмена работы",
      "рассылку кнопок",
      "кнопок это",
      "отправку сообщений",
      "работу кнопок",
      "предыдущим действием",
      "действием позволяет",
      "позволяет полностью",
      "полностью деактивировать",
      "деактивировать рассылку",
      "кнопку пункт",
      "отключить работу",
      "следующем сценарии",
      "отмена запланированного",
      "запланированного сообщения",
      "перестанет работать",
      "работать кнопка",
      "отправленная клиенту",
      "первом сообщении",
      "использование действия",
      "действия отмены",
      "отмены работы",
      "произвольное число",
      "системы действие",
      "достижении клиентом",
      "иного этапа",
      "этапа рассылки",
      "добавления вызова",
      "вызова внешней",
      "системы нужно",
      "кнопку меню",
      "далее необходимо",
      "параметры запроса",
      "внешней системе",
      "далее заполнено",
      "crm это",
      "сегментации аудитории",
      "компании сохраняются",
      "сохраняются данные",
      "идентификатором 12443",
      "12443 интересуется",
      "интересуется товарами",
      "ввод параметров",
      "параметров запроса",
      "действие вызова",
      "выполняется первым",
      "вызов завершается",
      "завершается ошибкой",
      "сервер возвращает",
      "возвращает http",
      "максимальное время",
      "время выполнения",
      "выполнения запроса",
      "остальные действия",
      "действия блока",
      "текущем блоку",
      "блоку привязаны",
      "привязаны последующие",
      "последующие блоки",
      "текущей версии",
      "подобные таймауты",
      "таймауты временно",
      "временно равны",
      "секунды вне",
      "вне зависимости",
      "заданного значения",
      "события блок",
      "других рассылок",
      "текущей рассылки",
      "сценарию рассылки",
      "рассылки перейдет",
      "задана фиксированная",
      "множества клиентов",
      "это позволит",
      "позволит начать",
      "начать одну",
      "несколько других",
      "текущая рассылка",
      "сценарий продолжит",
      "продолжит выполняться",
      "клиент нажимает",
      "втором блоке",
      "блоке рассылки",
      "рассылки генерируется",
      "генерируется событие",
      "создание промокода",
      "использование событий",
      "сценарии которой",
      "которой генерируется",
      "требуемые значения",
      "нашем случае",
      "случае нужно",
      "задать значения",
      "значения аргументов",
      "размер скидки",
      "ввода значений",
      "значений аргументов",
      "события показан",
      "числовые значения",
      "даты задаются",
      "значение аргумента",
      "аргумента также",
      "статические значения",
      "сгенерировано событие",
      "ввод аргументов",
      "генерации события",
      "первой рассылке",
      "вторая рассылка",
      "сгенерированному событию",
      "использующая значения",
      "события примечание",
      "используются значения",
      "аргументов сгенерированного",
      "сгенерированного события",
      "данной рассылки",
      "нужно выбрать",
      "выбрать условие",
      "возникновении события",
      "выбранного события",
      "которых оно",
      "оно наступило",
      "определение условий",
      "начала второй",
      "второй рассылки",
      "результате выполнения",
      "получить промокод",
      "получены данные",
      "данные промокода",
      "клиента выполнилась",
      "выполнилась вторая",
      "интента блок",
      "распознаны системой",
      "затем вызвать",
      "вызвать определенный",
      "определенный навык",
      "навык бота",
      "вызова навыков",
      "навыков бота",
      "бота необходимо",
      "сгенерировать intent",
      "словарь сущностей",
      "задан именно",
      "именно словарь",
      "формате json",
      "иначе выполнение",
      "выполнение сценария",
      "рассылки завершится",
      "завершится ошибкой",
      "словаре могут",
      "переменные окружения",
      "валидным jinja",
      "константные выражения",
      "выражения также",
      "также нужно",
      "нужно задавать",
      "задавать правильно",
      "должны оставаться",
      "оставаться пустыми",
      "параметров интента",
      "действия бот",
      "бот сгенерирует",
      "сгенерирует указанный",
      "указанный интент",
      "передаст slots",
      "выбор определенного",
      "определенного товара",
      "бот выполнил",
      "выполнил определенное",
      "определенное действие",
      "навыки бота",
      "бота должны",
      "предварительно настроены",
      "перспективе это",
      "действие должно",
      "должно вытеснить",
      "вытеснить большинство",
      "большинство переводов",
      "вызывать соответствующий",
      "соответствующий навык",
      "время выполнен",
      "тип макроса",
      "задать параметр"
    ]
  },
  {
    "section_id": "10_отправка_сообщения",
    "section_title": "Отправка сообщения",
    "level": 2,
    "page_start": 17,
    "page_end": 29,
    "text": "Отправка сообщения;\n2.  Отправка сообщения, содержащего конфиденциальные данные для клиента;\n3.  Перевод в канал;\n4.  Отмена отправки запланированных сообщений этой рассылки;\n5.  Отмена действия кнопок рассылки;\n6.  Вызов внешней системы;\n7.  Генерация события;\n8.  Генерация интента.\nОтправка сообщения\nСообщения могут содержать следующие элементы:\n1.  Текст  сообщения  —  текст,  который  будет  отправлен  клиенту  в  мессенджер.  Для\nввода текста используется поле стандартного блока действий (см. Рисунок 20);\n17\nРисунок 20 — Ввод текстового сообщения для отправки\nПри нажатии на id сообщения (на представленном рисунке это «916») будет открыто\nокно  редактирования,  которое  удобно  использовать  для  ввода  больших  текстов\nрассылок.\n2.  Медиа-контент  —  изображения,  видео,  аудио  и  документы,  которые  могут  быть\nдобавлены к сообщению. Поддерживаются наиболее распространенные форматы\n(см. таблицу 1).\nТаблица 1 — Рекомендуемые форматы файлов и их поддержка в мессенджерах\nТип\nФорматы\nВозможность загрузки файлов\nViber\nВКонтакте\nTelegram\nFacebook*\nInstagram1*\nJPG\nJPEG\nPNG\nMP4\nMP3\nPDF\nDOC(X)\nXLS(X)\nTXT\nИзображение\nВидео\nАудио\nДокумент\nВажно!\nДа\nДа\nДа\nДа\nНет\nНет\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nДа\nСписок  рекомендованных  форматов,  указанный  в  таблице\n1,  не  является\nисчерпывающим.  У  каждого  мессенджера  есть  свой  список,  который  со  временем\nможет  изменяться.  Кроме  того,  необходимо  учитывать,  что  мессенджеры  имеют  свои\nособенности отображения медиа-контента (например, Viber в некоторых случаях не\nпозволяет просматривать изображения в мессенджере).\n1  Отправка  возможна  для  всех  видов  контента.  При  этом,  для  всех  видов  контента,  кроме  изображений,\nотправляется только ссылка на него. Соответственно, клиент не сможет просматривать аудио, видео или\nдокумент  прямо  в  мессенджере  (для  этого  нужно  будет  воспользоваться  браузером  или  другим\nприложением.\n18\nВ  таблице  приведены  наиболее  универсальные форматы,  подходящие  для  отправки\nклиенту  в  большинство  мессенджеров.  Перед  запуском  рассылки  для  клиентов\nнеобходимо предварительно тестировать рассылки на всех мессенджерах.\nДополнительно  нужно  учитывать,  что  для  некоторых  мессенджеров  важно,  чтобы\nистинный  формат  файла  соответствовал  его  расширению  (т. е.  чтобы  изображение\nimage.png действительно имело содержимое, предусмотренное форматом PNG, а не,\nнапример, данные в формате JPEG).\nДля добавления медиа-контента необходимо в блоке действий нажать на кнопку\nв раскрывшемся меню выбрать пункт «Добавить медиа» (см. Рисунок 21).\nи\nРисунок 21 — Переход к добавлению медиа-контента\nЗатем нужно задать тип медиа-контента и ввести ссылку (URL) на него, либо загрузить\nс компьютера при помощи кнопки\n(см. Рисунок 22).\nРисунок 22 — Добавление медиа-контента\n3.  Медиа группа — изображения и видео, которые могут быть добавлены к сообщению\nгруппой.\nВ  отличии  от  предыдущего  пункта,  медиа  группа  позволяет  отправлять  клиенту\nзаранее не определенное количество изображений и видео. Это удобно, например,\nдля  информирования  клиентов  о  результате  проведенных  работ,  когда  одному\n19\nклиенту  нужно  отправить  10  фотографий,  а  другому  15.  С  помощью  медиа  групп  это\nможно сделать одной рассылкой2.\nВторое отличие от одиночных медиа состоит в том, что с медиа группа отправляются\nклиенту  одним  сообщением3,  тогда  как  одиночные  медиа  отправляются  каждое  в\nотдельном сообщении.\nВ  группах  могут  отправляться  только  изображения  и  видео,  документы  и  аудио\nотправляться не могут.\nДля  добавления  группы  необходимо  в  блоке  действий  нажать  на  кнопку\nраскрывшемся меню выбрать пункт «Добавить медиа группу» (см. Рисунок 23).\nи  в\nРисунок 23 — Добавление медиа группы\nВ  открывшемся  окне  можно  добавлять  и  редактировать  ссылки  на  файлы,  которые\nбудут отправляться вместе с указанным сообщением (Рисунок 24).\nРисунок 24 — Редактор медиа групп\n2  Для  реализации  этого  сценария  необходимо  использовать  макросы,  см.  в  разделе  «Использование\nмакросов»\n3  Возможности просмотра одиночных и групп медиа («карусель», предпросмотр в виде плиток и т.д.) зависят\nот мессенджера.\n20\nВ  поле  URL  можно  вставить  как  сам  URL  изображения,  так  и  макрос  (подробнее  о\nмакросах в разделе «Использование макросов»).\nДля  загрузки  файлов  с  устройства  используется  кнопка\n.  Для  клонирования\nэлементов  –\nпоявившемся списке выбрать тип: изображение, видео или макрос.\n.  Для  выбора  типа  файла  необходимо  нажать  на  иконку\nи  в\nЗагруженные элементы отображаются справа. В правой области элементы можно как\nудалять  при  наведении  мышки  и  нажатии  на  кнопку  корзины,  так  и  перемещать  –\nкликнув мышкой на элемент и перетянуть в нужное место см. Рисунок 25.\nВ  левой  области\nтакже  можно  перетаскивать  элементы  и  менять  их\nпоследовательность.  Для  этого  необходимо  кликнуть  мышкой  на  элемент\nперетащить его в нужное место.\nи\nРисунок 25 — Взаимодействие с элементами в правой панели\nВажно!\nМаксимальное количество элементов в медиа группе равно 50. К одному текстовому\nсообщению может быть присоединена только одна медиа группа.\nВо всех полях медиа группы можно использовать макросы.\nРассмотрим случай, когда рассылка с медиа группой будет отправляться клиентам\nпо событию.  Ссылки на изображения мы хотим задавать динамически, в аргументах\nсобытия,  чтобы  мы  могли  отправить  одному  клиенту  11  фотографий,  а  другому  20  из\nодной рассылки. Для этого необходимо:\n1.  Создать  событие,  у  которого  будет  30  аргументов  (это  будет  максимальное\nчисло изображений в медиа группе в этом примере) (Рисунок 26);\n21\nРисунок 26 — Создание события для отправки изображений в медиа группе\n2.  Создать рассылку и настроить ее на начало по этому событию;\n3.  В конструкторе рассылки в блок добавить медиа группу;\n4.  В  медиа  группу  добавить  то  же  самое  количество  URL,  что  и  в  аргументах\nсобытия (см. Рисунок 27);\nРисунок 27 — Использование макросов с изображениями\n5.  В поле URL ввести аргументы события в фигурных скобках, указав в каждом поле\nтолько один аргумент, тип файла оставить как изображение (см. Рисунок 27);\n6.  Сохранить медиа группу.\n22\nПосле этого необходимо сгенерировать событие и в аргументах события указать\nссылки на файлы для отправки клиенту в мессенджер см. Рисунок 28.\nРисунок 28 — Генерация события с аргументами\nЕсли рассылка должна отправлять не только изображения в медиа группе, но и видео,\nтогда в макросах нужно передавать еще и тип медиа. Для этого в аргументах события\nнеобходимо  создать  в  два  раза  больше  аргументов,  чтобы  для  каждого  URL\nпередавался еще и тип, например см. Рисунок 29:\nРисунок 29 — Создания аргументов события для медиа группы\nВ настройках медиа группы для каждого URL выбираем тип \"Макрос\" и задаем URL и\nего тип макросами, как показано на Рисунок 30.\n23\nРисунок 30 — Создания медиа группы с разными типами\nПосле этого необходимо сгенерировать событие и в аргументах события указать\nссылки на файлы и типы для отправки клиенту в мессенджер, например, см. Рисунок\n31.\nРисунок 31 — Генерация события для медиа группы с типами медиа\n4.  Кнопки-действия — это кнопки, позволяющие выполнять следующие действия:\n•  Вызвать другой блок действий;\n•  Добавить клиенту теги;\n•  Снять теги с клиента;\n•  Отписать клиента от рассылок (всех)4.\nДля добавления кнопки-действия необходимо в блоке действий нажать на кнопку\nи в раскрывшемся меню выбрать пункт «Добавить кнопку-действие» (см. Рисунок 32).\n4 Действие эквивалентно тому, что клиент напишет боту команды «стоп рассылки» или «stop subscriptions»,\nсм. раздел Отписка от рассылок.\n24\nРисунок 32 — Переход к добавлению кнопки-действия\nЗатем  нужно  задать  требуемые  параметры  кнопки  и  нажать  на  кнопку  «Сохранить»\n(см.  Рисунок  33).  Для  каждой  кнопки  можно  указать  теги,  которые  будут  назначены\nклиенту (сняты с клиента), подробнее об этом см. в подразделе Работа с тегами.\nРисунок 33 — Добавление кнопки-действия\nПримечание:\nДлина заголовка кнопки должна быть не более 20 символов.\nДействия  в  блоке,  связанном  с  кнопкой,  всегда  выполняются  сразу  после  нажатия\nкнопки.  (см.  Рисунок  34).  Блок,  вызываемый  кнопкой-действием,  может  содержать\nлюбое из действий, описанных в разделе Блоки действий.\n25\nРисунок 34 — Второй блок выполняется сразу при нажатии на кнопку\nНа  одну  кнопку  клиент  может  нажать  только  один  раз.  Повторные  нажатия  не\nобрабатываются.  Если  сценарий  рассылки  предусматривает  возврат  к  блоку,\nкоторый клиент уже получал, то на кнопку можно будет нажать еще раз (см.  Рисунок\n35). В этом примере при нажатии на кнопку «Назад» клиент получит первый блок еще\nраз и именно в нем можно будет еще раз нажать на кнопку «Подробнее».\nРисунок 35 — Пример возврата\nПри  добавлении  к  сообщению  более  двух  кнопок-действий  появляется  опция\n«Разрешить только одно нажатие» (см. Рисунок 36).\nЕсли  она  установлена,  то  клиент  может  нажать  только  на  одну  кнопку  в  этом\nсообщении.  После  первого  нажатия  аналогичные  нажатия  по  другим  кнопкам  не\nобрабатываются.  Если  опция  не  установлена,  то  на  каждую  кнопку  в  сообщении\nможно нажать один раз.\n26\nРисунок 36 — В блок добавлено две кнопки-действия\nВажно!\nОписанное выше относится только к кнопкам сообщения, а не блока. В один блок может\nбыть добавлено несколько сообщений, каждое из которых будет содержать по нескольку\nкнопок. В этом случае при включенной опции «Разрешить только одно нажатие» в каждом\nсообщении можно будет нажать по одной кнопке.\nВ некоторых мессенджерах текст сообщений с кнопками может обрезаться. Т.е. клиент\nувидит  не  весь  отправленный  ботом  текст,  а  только  первые  несколько  символов.\nПредупреждение об этом всплывет справа у окна с текстом см. Рисунок 37. Например, в\nмобильной  версии  Viber  будет  отображаться  только  первые  40  символов  сообщения  с\nкнопкой, а в десктопной версии – первые 10.\nРисунок 37 - Текст с кнопкой, который обрежется в некоторых мессенджерах\nЧтобы  обойти  эту  проблему  рекомендуем  добавлять  отдельное  сообщение  перед\nсообщением с кнопкой и задавать в нем основной текст, а в сообщении с кнопкой писать\nчто-то короткое см. Рисунок 38.\n27\nРисунок 38 - Добавлено отдельное сообщение\n5.  Кнопки-ссылки  —  кнопки,  позволяющие  клиенту  перейти  по  заданной  ссылке  из\nмессенджера.\nДля добавления кнопки-ссылки необходимо в блоке действий нажать на кнопку\nраскрывшемся меню выбрать пункт «Добавить кнопку-действие» (см. Рисунок 39).\nи в\nРисунок 39 — Переход к добавлению кнопки-ссылки\nЗатем необходимо задать название кнопки и ссылку для нее (см. Рисунок 40).\nРисунок 40 — Создание кнопки-ссылки\n28\nСсылка  клиенту  не  отображается.  Нажатия  на  кнопку-ссылку  не  могут  приводить  к\nзапуску  другого  блока  или  иным  действиям,  а  также  никак  не  учитываются  в\nстатистике.\nПримечание:\nКлиент  может  нажимать  на  ссылки  многократно,  описанные  выше  ограничения  по\nнажатиям на них не действуют.\nОтправка сообщения, содержащего конфиденциальные данные для клиента\nВ  общем случае  вся  переписка клиента  с  ботом доступна  оператору  Maxbot. Если  бот\n(например,  кодов\nиспользуется  для  отправки  конфиденциальной  информации\nподтверждения), то такую информацию необходимо скрывать от оператора.\nДля  отправки  конфиденциальной  информации  в  теле  блока  с сообщением  необходимо\nиспользовать  тег  <security>…</security>  (см  Рисунок  41).  Вставка  закрывающего  тега\nобязательна.\nРисунок 41 — Отправка конфиденциальной информации при помощи тега <security></security>\nДанные, заключенные в теге <security>, для оператора заменяются на ***. То, что увидят\nклиент и оператор при запуске такой рассылки, показано на рисунке ниже:\nРисунок 42 — Отображение содержимого тега <security> для клиента и для оператора\nНа  практике  использование  тега  <security>  будет  сопровождаться  использованием\nмакроса,  т. е.  конфиденциальная  информация  вряд  ли  будет  задаваться  в  рассылке\nстатически.  В  этом  случае  тег  <security>  нужно  использовать  следующим  образом  (см.\nРисунок 43), поместив внутрь макрос, который является аргументом события:\n29",
    "tags": [
      "некоторых случаях",
      "помощи кнопки",
      "выбрать тип",
      "сгенерировать событие",
      "блоки действий",
      "отправка сообщения",
      "содержащего конфиденциальные",
      "конфиденциальные данные",
      "отмена отправки",
      "отправки запланированных",
      "запланированных сообщений",
      "отмена действия",
      "действия кнопок",
      "кнопок рассылки",
      "вызов внешней",
      "внешней системы",
      "генерация события",
      "генерация интента",
      "сообщения сообщения",
      "сообщения могут",
      "могут содержать",
      "содержать следующие",
      "следующие элементы",
      "ввода текста",
      "текста используется",
      "используется поле",
      "поле стандартного",
      "стандартного блока",
      "блока действий",
      "ввод текстового",
      "текстового сообщения",
      "открыто окно",
      "текстов рассылок",
      "видео аудио",
      "которые могут",
      "поддерживаются наиболее",
      "наиболее распространенные",
      "распространенные форматы",
      "рекомендуемые форматы",
      "форматы файлов",
      "мессенджерах тип",
      "тип форматы",
      "форматы возможность",
      "возможность загрузки",
      "загрузки файлов",
      "файлов viber",
      "viber вконтакте",
      "вконтакте telegram",
      "telegram facebook",
      "jpg jpeg",
      "jpeg png",
      "png mp4",
      "mp4 mp3",
      "mp3 pdf",
      "pdf doc",
      "txt изображение",
      "изображение видео",
      "аудио документ",
      "документ важно",
      "является исчерпывающим",
      "свои особенности",
      "особенности отображения",
      "отображения медиа",
      "другим приложением",
      "универсальные форматы",
      "отправки клиенту",
      "клиентов необходимо",
      "необходимо предварительно",
      "предварительно тестировать",
      "тестировать рассылки",
      "изображение image",
      "png действительно",
      "действительно имело",
      "имело содержимое",
      "форматом png",
      "формате jpeg",
      "добавления медиа",
      "контента необходимо",
      "блоке действий",
      "кнопку раскрывшемся",
      "раскрывшемся меню",
      "меню выбрать",
      "выбрать пункт",
      "добавить медиа",
      "добавлению медиа",
      "контента затем",
      "затем нужно",
      "нужно задать",
      "задать тип",
      "тип медиа",
      "ввести ссылку",
      "либо загрузить",
      "добавление медиа",
      "медиа группа",
      "сообщению группой",
      "клиенту заранее",
      "определенное количество",
      "количество изображений",
      "это удобно",
      "медиа групп",
      "сделать одной",
      "одной рассылкой2",
      "второе отличие",
      "одиночных медиа",
      "медиа состоит",
      "группа отправляются",
      "отправляются клиенту",
      "отдельном сообщении",
      "аудио отправляться",
      "медиа группу",
      "медиа группы",
      "которые будут",
      "будут отправляться",
      "отправляться вместе",
      "указанным сообщением",
      "редактор медиа",
      "необходимо использовать",
      "использовать макросы",
      "использование макросов",
      "групп медиа",
      "виде плиток",
      "поле url",
      "клонирования элементов",
      "появившемся списке",
      "списке выбрать",
      "загруженные элементы",
      "элементы отображаются",
      "отображаются справа",
      "правой области",
      "области элементы",
      "кликнув мышкой",
      "нужное место",
      "области также",
      "элемент перетащить",
      "правой панели",
      "панели важно",
      "максимальное количество",
      "количество элементов",
      "медиа группе",
      "группе равно",
      "одному текстовому",
      "текстовому сообщению",
      "одна медиа",
      "полях медиа",
      "медиа группой",
      "отправляться клиентам",
      "хотим задавать",
      "задавать динамически",
      "аргументах события",
      "одной рассылки",
      "максимальное число",
      "число изображений",
      "создание события",
      "отправки изображений",
      "создать рассылку",
      "этому событию",
      "конструкторе рассылки",
      "блок добавить",
      "url ввести",
      "ввести аргументы",
      "аргументы события",
      "фигурных скобках",
      "каждом поле",
      "тип файла",
      "файла оставить",
      "сохранить медиа",
      "необходимо сгенерировать",
      "события указать",
      "указать ссылки",
      "рассылка должна",
      "должна отправлять",
      "макросах нужно",
      "нужно передавать",
      "события необходимо",
      "каждого url",
      "url передавался",
      "создания аргументов",
      "аргументов события",
      "настройках медиа",
      "url выбираем",
      "выбираем тип",
      "тип макрос",
      "задаем url",
      "тип макросами",
      "создания медиа",
      "разными типами",
      "типами медиа",
      "это кнопки",
      "позволяющие выполнять",
      "выполнять следующие",
      "следующие действия",
      "блок действий",
      "добавить клиенту",
      "клиенту теги",
      "снять теги",
      "отписать клиента",
      "добавления кнопки",
      "действия необходимо",
      "добавить кнопку",
      "действие эквивалентно",
      "эквивалентно тому",
      "клиент напишет",
      "напишет боту",
      "боту команды",
      "стоп рассылки",
      "stop subscriptions",
      "добавлению кнопки",
      "действия затем",
      "назначены клиенту",
      "добавление кнопки",
      "действия примечание",
      "длина заголовка",
      "заголовка кнопки",
      "кнопки должна",
      "нажатия кнопки",
      "содержать любое",
      "второй блок",
      "блок выполняется",
      "выполняется сразу",
      "который клиент",
      "клиент получит",
      "получит первый",
      "первый блок",
      "блок добавлено",
      "добавлено две",
      "две кнопки",
      "действия важно",
      "описанное выше",
      "выше относится",
      "кнопкам сообщения",
      "добавлено несколько",
      "несколько сообщений",
      "нескольку кнопок",
      "включенной опции",
      "каждом сообщении",
      "одной кнопке",
      "некоторых мессенджерах",
      "мессенджерах текст",
      "текст сообщений",
      "клиент увидит",
      "всплывет справа",
      "десктопной версии",
      "который обрежется",
      "отдельное сообщение",
      "нем основной",
      "основной текст",
      "кнопкой писать",
      "добавлено отдельное",
      "ссылки необходимо",
      "ссылки затем",
      "затем необходимо",
      "необходимо задать",
      "задать название",
      "название кнопки",
      "создание кнопки",
      "общем случае",
      "переписка клиента",
      "ботом доступна",
      "кодов используется",
      "конфиденциальной информации",
      "информации подтверждения",
      "такую информацию",
      "информацию необходимо",
      "необходимо скрывать",
      "тега обязательна",
      "отправка конфиденциальной",
      "помощи тега",
      "оператора заменяются",
      "увидят клиент",
      "отображение содержимого",
      "содержимого тега",
      "использованием макроса",
      "рассылке статически",
      "поместив внутрь",
      "внутрь макрос",
      "который является",
      "является аргументом",
      "аргументом события",
      "сообщений это",
      "тип макроса"
    ]
  },
  {
    "section_id": "11_отправка_сообщения_содержащего_конфиденциальные_данные_для_клиента",
    "section_title": "Отправка  сообщения,  содержащего  конфиденциальные  данные  для клиента",
    "level": 2,
    "page_start": 29,
    "page_end": 29,
    "text": "Ссылка  клиенту  не  отображается.  Нажатия  на  кнопку-ссылку  не  могут  приводить  к\nзапуску  другого  блока  или  иным  действиям,  а  также  никак  не  учитываются  в\nстатистике.\nПримечание:\nКлиент  может  нажимать  на  ссылки  многократно,  описанные  выше  ограничения  по\nнажатиям на них не действуют.\nОтправка сообщения, содержащего конфиденциальные данные для клиента\nВ  общем случае  вся  переписка клиента  с  ботом доступна  оператору  Maxbot. Если  бот\n(например,  кодов\nиспользуется  для  отправки  конфиденциальной  информации\nподтверждения), то такую информацию необходимо скрывать от оператора.\nДля  отправки  конфиденциальной  информации  в  теле  блока  с сообщением  необходимо\nиспользовать  тег  <security>…</security>  (см  Рисунок  41).  Вставка  закрывающего  тега\nобязательна.\nРисунок 41 — Отправка конфиденциальной информации при помощи тега <security></security>\nДанные, заключенные в теге <security>, для оператора заменяются на ***. То, что увидят\nклиент и оператор при запуске такой рассылки, показано на рисунке ниже:\nРисунок 42 — Отображение содержимого тега <security> для клиента и для оператора\nНа  практике  использование  тега  <security>  будет  сопровождаться  использованием\nмакроса,  т. е.  конфиденциальная  информация  вряд  ли  будет  задаваться  в  рассылке\nстатически.  В  этом  случае  тег  <security>  нужно  использовать  следующим  образом  (см.\nРисунок 43), поместив внутрь макрос, который является аргументом события:\n29\nРисунок 43 — Использование значения макроса в качестве конфиденциальной информации",
    "tags": [
      "отправка сообщения",
      "содержащего конфиденциальные",
      "конфиденциальные данные",
      "необходимо использовать",
      "общем случае",
      "переписка клиента",
      "ботом доступна",
      "кодов используется",
      "конфиденциальной информации",
      "информации подтверждения",
      "такую информацию",
      "информацию необходимо",
      "необходимо скрывать",
      "тега обязательна",
      "отправка конфиденциальной",
      "помощи тега",
      "оператора заменяются",
      "увидят клиент",
      "отображение содержимого",
      "содержимого тега",
      "использованием макроса",
      "рассылке статически",
      "поместив внутрь",
      "внутрь макрос",
      "который является",
      "является аргументом",
      "аргументом события",
      "использование значения",
      "значения макроса",
      "качестве конфиденциальной"
    ]
  },
  {
    "section_id": "12_перевод_в_канал",
    "section_title": "Перевод в канал",
    "level": 2,
    "page_start": 30,
    "page_end": 32,
    "text": "Перевод в канал\nДействие перевода в канал выполняется сразу, если диалог у клиента закрыт или диалог\nсвободный5  или  иное  на  задано  в  настройках  действия  (см.  далее).  При  наличии\nоткрытого диалога перевод выполнен не будет, чтобы не помешать текущему общению\nклиента  с  оператором.  Перевод  будет  отложен  до  тех  пор,  пока  диалог  у  клиента  не\nбудет закрыт или не будут выполнены условия, заданные в настройках действия.\nДля добавления действия перевода в канал нужно нажать на кнопку\nи в раскрывшемся\nменю  выбрать  пункт  «Действие»,  после чего  выбрать  «Перевести  в  канал»  (см.  Рисунок\n44):\nРисунок 44 — Выбор действия\nЗатем в открывшемся окне (см. Рисунок 45) необходимо задать параметры для действия\nперевода в канал.\nВ окне доступны следующие настройки:\n•  Выберите канал — канал, в который необходимо перевести клиента;\n5 Свободный диалог — диалог, у которого канал Bot.\n30\n•  Текст  при  переводе  в  канал  —  сообщение,  которое  будет  отправлено  клиенту  при\nпереводе в канал (если оставить его пустым, то сообщение не будет отправляться);\n•  Текст  при  откладывании  перевода  в  канал  —  сообщение,  которое  будет  оправлено\nклиенту,  если  в  момент  выполнения  действия  у  него  есть  открытый  диалог  и  он  не\nсвободный (т. е. клиент обсуждает с оператором или ботом какой-то вопрос);\n•  Текст перед отложенным переводом в канал — сообщение, которое будет отправлено\nклиенту при переводе в канал, если он ранее был отложен;\n•  Переключатель условия перевода в канал:\n•  Перевести сразу (значение по умолчанию) — клиент будет переведен в канал без\n(кроме  наличия  открытого/свободного\nкаких-либо  дополнительных  условий\nдиалога);\n•  Перевести  после  получения  сообщения  от  клиента  —  клиент  будет  переведен\nтолько  после  получения  от  него  сообщения  и  в  соответствии  с  настройками,\nуказанными ниже;\nРисунок 45 — Настройка действия перевода в канал\n31\n•  Время ожидания сообщения — время, которое бот ожидает сообщения от клиента для\nперевода  его  в  канал.  Можно  установить  время  не  более  2  часов  (ограничение\nвведено,  чтобы  маркетолог  не  мог  надолго  «блокировать»  клиента:  поскольку  в\nмомент ожидания не могут выполняться другие рассылки, а также клиенту не смогут\nотправлять сообщения операторы);\n•  Если  клиент  не  ответил  за  заданное  время  —  действие,  которое  бот  выполнит,  не\nдождавшись сообщения от клиента в течение «времени ожидания сообщения»:\n•  «Ничего не делать» — бот не будет предпринимать каких-либо действий; клиент не\nбудет переведен в канал, рассылка при этом продолжится согласно сценарию;\n•  «Перевести  в  канал  безусловно»  —  клиент  будет  переведен  в  канал,  при  этом\nможно задать другой канал (отличный от исходно заданного);\n•  «Отправить сообщение» — клиенту будет отправлено сообщение, заданное в поле\nниже; клиент не будет переведен в канал.\nЕсли для рассылки ниже (см. Рисунок 46) задать безусловный перевод клиента в канал по\nфакту  нажатия  на  кнопку  «Оставить  отзыв»,  то  клиент  будет  переведен  сразу,  какого-\nлибо сообщения от него не требуется.\nРисунок 46 — Пример рассылки с переводом в канал\nВ  этом  случае  оператор  увидит  нового  клиента  в  списке  диалогов,  но  сообщение  от\nклиента будет отсутствовать (см. Рисунок 47).\nРисунок 47 — Клиент переведен в канал без сообщения\n32\nЕсли  же  в  настройках  перевода  в  канал  потребовать  ввод  сообщения  от  клиента  (см.\nРисунок 48), то новый диалог появится только после отправки клиентом сообщения.\nРисунок 48 — Ввод условия перевода клиента в канал только при наличии от него сообщения\nВ этом случае оператор уже сразу увидит текст сообщения и не будет тратить время на\nвыяснение причины и содержания обращения (см. Рисунок 49).\nРисунок 49 — Клиент переведен в канал после отправки им сообщения",
    "tags": [
      "открывшемся окне",
      "текст сообщения",
      "раскрывшемся меню",
      "действия затем",
      "выполняется сразу",
      "необходимо задать",
      "канал действие",
      "действие перевода",
      "канал выполняется",
      "клиента закрыт",
      "диалог свободный5",
      "настройках действия",
      "наличии открытого",
      "открытого диалога",
      "диалога перевод",
      "перевод выполнен",
      "помешать текущему",
      "текущему общению",
      "общению клиента",
      "будут выполнены",
      "выполнены условия",
      "добавления действия",
      "действия перевода",
      "канал нужно",
      "выбор действия",
      "задать параметры",
      "окне доступны",
      "доступны следующие",
      "следующие настройки",
      "выберите канал",
      "который необходимо",
      "необходимо перевести",
      "перевести клиента",
      "свободный диалог",
      "которого канал",
      "канал bot",
      "отправлено клиенту",
      "оправлено клиенту",
      "диалог свободный",
      "клиент обсуждает",
      "отложенным переводом",
      "переключатель условия",
      "условия перевода",
      "перевести сразу",
      "клиент переведен",
      "свободного каких",
      "условий диалога",
      "указанными ниже",
      "настройка действия",
      "время ожидания",
      "ожидания сообщения",
      "которое бот",
      "бот ожидает",
      "ожидает сообщения",
      "ограничение введено",
      "момент ожидания",
      "могут выполняться",
      "выполняться другие",
      "другие рассылки",
      "также клиенту",
      "отправлять сообщения",
      "сообщения операторы",
      "дождавшись сообщения",
      "времени ожидания",
      "предпринимать каких",
      "либо действий",
      "продолжится согласно",
      "согласно сценарию",
      "исходно заданного",
      "отправить сообщение",
      "отправлено сообщение",
      "поле ниже",
      "рассылки ниже",
      "задать безусловный",
      "безусловный перевод",
      "перевод клиента",
      "либо сообщения",
      "случае оператор",
      "новый диалог",
      "диалог появится",
      "отправки клиентом",
      "клиентом сообщения",
      "ввод условия",
      "перевода клиента",
      "сразу увидит",
      "увидит текст",
      "тратить время",
      "выяснение причины",
      "содержания обращения",
      "задать параметр"
    ]
  },
  {
    "section_id": "13_отмена_отправки_запланированных_сообщений",
    "section_title": "Отмена отправки запланированных сообщений",
    "level": 2,
    "page_start": 33,
    "page_end": 34,
    "text": "Отмена отправки запланированных сообщений\nЭто  действие  позволяет  маркетологу  остановить  рассылку  для  клиента  при\nвозникновении  некоторого  события.  Например,  при  нажатии  кнопки,  при  отправке\nфинального сообщения рассылки, при истечении определенного времени.\nДля  добавления  действия  нужно  нажать  на  кнопку\nи  в  раскрывшемся  меню  выбрать\nпункт «Действие», после чего выбрать «Отключить рассылку запланированных, но еще не\nотправленных сообщений» (см. Рисунок 50):\n33\nРисунок 50 — Выбор действия\nНа  рисунке  51  показан  пример  такого  сценария.  Если  клиент  нажмет  на  кнопку  «Не\nинтересуюсь  этим»,  робот  отправит  извинительное  сообщение  и  отключит  отправку\nзапланированных сообщений. В данном случае это правое нижнее сообщение, которое\nпредполагалось отправить через 5 дней.\nЕсли  клиент  в  течение  5  дней  не  нажмет  эту  кнопку,  то  он  получит  запланированное\nсообщение с информацией о продлении акции.\nРисунок 51 — Пример использования события отмены отправки запланированных сообщений\nВажно!\nДействие отмены отправки запланированных сообщений применяется ко всей рассылке\nдля текущего клиента, независимо от того, из какой ветви сценария оно было вызвано.\n34",
    "tags": [
      "определенного времени",
      "отмена отправки",
      "отправки запланированных",
      "запланированных сообщений",
      "выбрать пункт",
      "выбор действия",
      "сообщений это",
      "отправке финального",
      "финального сообщения",
      "сообщения рассылки",
      "истечении определенного",
      "отключить рассылку",
      "рассылку запланированных",
      "отправленных сообщений",
      "отправку запланированных",
      "данном случае",
      "случае это",
      "это правое",
      "правое нижнее",
      "нижнее сообщение",
      "которое предполагалось",
      "предполагалось отправить",
      "запланированное сообщение",
      "продлении акции",
      "использования события",
      "события отмены",
      "отмены отправки",
      "сообщений важно",
      "действие отмены",
      "сообщений применяется",
      "всей рассылке",
      "текущего клиента",
      "ветви сценария",
      "сценария оно"
    ]
  },
  {
    "section_id": "14_отмена_работы_уже_отправленных_в_рассылку_кнопок",
    "section_title": "Отмена работы уже отправленных в рассылку кнопок",
    "level": 2,
    "page_start": 35,
    "page_end": 35,
    "text": "Отмена работы уже отправленных в рассылку кнопок\nЭто  действие  работает  аналогично  предыдущему,  только  отменяет  не  отправку\nсообщений, а работу кнопок в сообщениях. Вместе с предыдущим действием позволяет\nполностью деактивировать рассылку для клиентов, у которых они будут выполнены.\nи  в  раскрывшемся  меню  выбрать\nДля  добавления  действия  нужно  нажать  на  кнопку\nпункт «Действие», после чего выбрать «Отключить работу уже отправленных в рассылку\nкнопок» (см. Рисунок 52):\nРисунок 52 — Выбор действия\nВ следующем сценарии (см. Рисунок 53) при нажатии на кнопку «Не интересуюсь этим»\nпроизойдет не только отмена запланированного сообщения, но и перестанет работать\nкнопка, отправленная клиенту в первом сообщении.\nРисунок 53 — Использование действия отмены работы уже отправленных в рассылку кнопок\n35\nВажно!\nЭто  действие  отменяет  только  работу  кнопок-действий.  Кнопки-ссылки  будут  всегда\nдоступны, клиенты смогут переходить по ним произвольное число раз.\nДействие  отмены  работы  кнопок  применяется  ко  всей  рассылке  для  текущего  клиента,\nнезависимо от того, из какой ветви сценария оно было вызвано.",
    "tags": [
      "будут выполнены",
      "выбор действия",
      "интересуюсь этим",
      "ветви сценария",
      "сценария оно",
      "отмена работы",
      "рассылку кнопок",
      "кнопок это",
      "отправку сообщений",
      "работу кнопок",
      "предыдущим действием",
      "действием позволяет",
      "позволяет полностью",
      "полностью деактивировать",
      "деактивировать рассылку",
      "кнопку пункт",
      "отключить работу",
      "следующем сценарии",
      "отмена запланированного",
      "запланированного сообщения",
      "перестанет работать",
      "работать кнопка",
      "отправленная клиенту",
      "первом сообщении",
      "использование действия",
      "действия отмены",
      "отмены работы",
      "произвольное число"
    ]
  },
  {
    "section_id": "15_вызов_внешней_системы",
    "section_title": "Вызов внешней системы",
    "level": 2,
    "page_start": 36,
    "page_end": 36,
    "text": "Вызов внешней системы\nДействие  «Вызвать  внешнюю  систему»  предназначено  для  уведомления  внешней\nсистемы о достижении клиентом того или иного этапа рассылки.\nи в раскрывшемся\nДля добавления вызова внешней системы нужно нажать на кнопку\nменю  выбрать  пункт  «Действие»,  после  чего  выбрать  «Вызвать  внешнюю  систему»  (см.\nРисунок 54).\nРисунок 54 — Выбор действия\nДалее необходимо задать параметры запроса к внешней системе. Для примера далее\nзаполнено  обращение  к  CRM  компании  для  того,  чтобы  отметить  интерес  клиента  к\nопределенной  теме  в  случае  нажатия  на  определенную  кнопку  (см.  Рисунок  55).  В\nдальнейшем в CRM это можно будет использовать для сегментации аудитории.\nПример  ниже  отражает  вариант  запроса,  при  выполнении  которого  в  CRM  компании\nсохраняются данные о том, что клиент с идентификатором 12443 интересуется товарами\nв категории «наушники» (headphones).\nКроме  строковых  и  числовых  параметров  также  могут  использоваться  макросы,  см.\nподробнее в разделе Использование макросов.\n36\nРисунок 55 — Ввод параметров запроса к внешней системе\nЕсли в блоке есть действие вызова внешней системы, то оно всегда выполняется первым.\nЕсли вызов завершается ошибкой (сервер возвращает HTTP-статус, отличный от 200 или\nне  отвечает  в  течение  времени,  заданного  в  поле  «Максимальное  время  выполнения\nзапроса»), то остальные действия блока не выполняются. Если к текущем блоку привязаны\nпоследующие блоки (т. е. выполняются после отправки сообщения из этого блока), то они\nтакже не будут выполнены.\nПримечание:\nВ текущей версии «Максимальное время выполнения запроса» и все подобные таймауты\nвременно равны 0.5 секунды вне зависимости от заданного значения.",
    "tags": [
      "вызов внешней",
      "внешней системы",
      "использование макросов",
      "необходимо задать",
      "действия далее",
      "будут выполнены",
      "выбор действия",
      "задать параметры",
      "отправки сообщения",
      "системы действие",
      "достижении клиентом",
      "иного этапа",
      "этапа рассылки",
      "добавления вызова",
      "вызова внешней",
      "системы нужно",
      "кнопку меню",
      "далее необходимо",
      "параметры запроса",
      "внешней системе",
      "далее заполнено",
      "crm это",
      "сегментации аудитории",
      "компании сохраняются",
      "сохраняются данные",
      "идентификатором 12443",
      "12443 интересуется",
      "интересуется товарами",
      "ввод параметров",
      "параметров запроса",
      "действие вызова",
      "выполняется первым",
      "вызов завершается",
      "завершается ошибкой",
      "сервер возвращает",
      "возвращает http",
      "максимальное время",
      "время выполнения",
      "выполнения запроса",
      "остальные действия",
      "действия блока",
      "текущем блоку",
      "блоку привязаны",
      "привязаны последующие",
      "последующие блоки",
      "текущей версии",
      "подобные таймауты",
      "таймауты временно",
      "временно равны",
      "секунды вне",
      "вне зависимости",
      "заданного значения",
      "время выполнен",
      "задать параметр"
    ]
  },
  {
    "section_id": "16_генерация_события",
    "section_title": "Генерация события",
    "level": 2,
    "page_start": 37,
    "page_end": 40,
    "text": "Генерация события\nБлок  этого  типа  позволяет  вызывать  события  и  использовать  их  для  запуска  других\nрассылок из текущей рассылки.\nЕсли клиент по сценарию рассылки перейдет к действию «Сгенерировать событие», то\nэто  событие  будет  сгенерировано  либо  только  для  него;  если  для  события  задана\nфиксированная  аудитория  (см.  подробнее  в  разделе  Определение  аудитории),  то\nсобытие  будет  сгенерировано  для  нее  (будет  запущена  рассылка  для  множества\n37\nклиентов). Это позволит начать одну или несколько других рассылок. Текущая рассылка\nпри этом не будет остановлена, ее сценарий продолжит выполняться.\nРисунок 56 — Выбор действия «Сгенерировать событие\nНапример,  есть  рассылка,  предлагающая  клиенту  воспользоваться  промокодом  (см.\nРисунок 57). Если клиент нажимает на кнопку, то во втором блоке рассылки генерируется\nсобытие «Создание промокода для клиента».\nПримечание:\nСобытие,  используемое  в  сценарии  рассылки,  должно  быть  предварительно  создано.\nПодробнее об этом см. в разделе Использование событий.\nРисунок 57 — Рассылка, в сценарии которой генерируется событие для клиента\nВ аргументах события, генерируемого для клиента, нужно задать требуемые значения. В\nнашем случае нужно задать значения для 3-х аргументов (см. Рисунок 58):\n•  промокод — строка;\n38\n•  размер скидки (%) — число;\n•  действует до — строка.\nРисунок 58 — Событие «Создание промокода для клиента» и его аргументы\nПример ввода значений аргументов события показан на рисунке 59.\nПри  указании  строковых  значений  необходимо  использовать  символ  кавычек  (“);\nчисловые значения и даты задаются без кавычек. Значение аргумента также может быть\nпустым (не задано).\nПри этом могут быть заданы как статические значения аргументов (в примере выше), так\nи динамические — макросы, уникальные для каждого клиента.\nПереключатель  под  названием  события  определяет,  для  кого  будет  сгенерировано\nсобытие:\n•  только для текущего клиента\nили\n•  для множества клиентов (для рассылок с фиксированной аудиторией).\n39\nРисунок 59 — Ввод аргументов для события\nТеперь  можно  создать  вторую  рассылку,  которая  будет  выполняться  при  генерации\nсобытия в первой рассылке. Ниже пример такой рассылки (см. Рисунок 60):\nРисунок 60 — Вторая рассылка, запускаемая по сгенерированному событию и использующая\nзначения аргументов события\nПримечание:\nЕсли  рассылка  запускается  по  событию,  то  его  аргументы  можно  использовать  в\nрассылке  как макросы.  На  рисунке  выше  во  второй  рассылке  при  помощи  скобок  {{  }}\nиспользуются значения аргументов сгенерированного события.\nДля данной рассылки нужно выбрать условие «Начинать при возникновении события» и\nсобытие  «Создание  промокода  для  клиента»  (см.  Рисунок  61),  после  чего  запустить  ее.\nРассылка будет «ожидать» выбранного события и выполнится у клиентов, для которых оно\nнаступило.\n40\nРисунок 61 — Определение условий начала второй рассылки\nЕсли  в  результате  выполнения  первой  рассылки  (см.  Рисунок  57)  клиент  нажмет  кнопку\n«Получить  промокод»,  то  в  результате  выполнения  второй  рассылки  будут  получены\nданные промокода (см. Рисунок 62).\nРисунок 62 — После нажатия на кнопку «Получить промокод» для клиента выполнилась вторая\nрассылка",
    "tags": [
      "каждого клиента",
      "рассылки нужно",
      "условий начала",
      "фиксированной аудиторией",
      "сгенерировать событие",
      "генерация события",
      "нужно задать",
      "аргументах события",
      "аргументов события",
      "задать требуемые",
      "выбор действия",
      "текущего клиента",
      "события блок",
      "других рассылок",
      "текущей рассылки",
      "сценарию рассылки",
      "рассылки перейдет",
      "задана фиксированная",
      "множества клиентов",
      "это позволит",
      "позволит начать",
      "начать одну",
      "несколько других",
      "текущая рассылка",
      "сценарий продолжит",
      "продолжит выполняться",
      "клиент нажимает",
      "втором блоке",
      "блоке рассылки",
      "рассылки генерируется",
      "генерируется событие",
      "создание промокода",
      "использование событий",
      "сценарии которой",
      "которой генерируется",
      "требуемые значения",
      "нашем случае",
      "случае нужно",
      "задать значения",
      "значения аргументов",
      "размер скидки",
      "ввода значений",
      "значений аргументов",
      "события показан",
      "числовые значения",
      "даты задаются",
      "значение аргумента",
      "аргумента также",
      "статические значения",
      "сгенерировано событие",
      "ввод аргументов",
      "генерации события",
      "первой рассылке",
      "вторая рассылка",
      "сгенерированному событию",
      "использующая значения",
      "события примечание",
      "используются значения",
      "аргументов сгенерированного",
      "сгенерированного события",
      "данной рассылки",
      "нужно выбрать",
      "выбрать условие",
      "возникновении события",
      "выбранного события",
      "которых оно",
      "оно наступило",
      "определение условий",
      "начала второй",
      "второй рассылки",
      "получить промокод",
      "получены данные",
      "данные промокода",
      "клиента выполнилась",
      "выполнилась вторая"
    ]
  },
  {
    "section_id": "17_генерация_интента",
    "section_title": "Генерация интента",
    "level": 2,
    "page_start": 41,
    "page_end": 42,
    "text": "Генерация интента\nБлок  этого  типа  позволяет  сгенерировать  интент  (intent)  —  намерения  пользователя,\nкоторые могут быть распознаны системой для того, чтобы затем вызвать определенный\nнавык бота.\n41\nДля вызова навыков бота необходимо:\n1.  Нажать  на  кнопку\nи  в  раскрывшемся меню  выбрать  пункт «Действие»,  после  чего\nвыбрать «Сгенерировать intent» (см. Рисунок 63).\nРисунок 63 — Выбор действия «Сгенерировать intent»\n2.  В  настройках  действия  (см.  Рисунок  64)  задать  название  интента  и  (необязательно)\nсловарь сущностей (entities). Важно, что в поле «Entities» должен быть задан именно\nсловарь в формате JSON (как на рисунке ниже), иначе выполнение сценария рассылки\nзавершится ошибкой.\nВ словаре могут быть использованы как макросы и переменные окружения (в нотации\n«slots.m.macros_name»),  так  и  статические  значения.  Этот  словарь  должен  быть\nвалидным jinja-выражением.\nКонстантные выражения также нужно задавать правильно — строки только в кавычках,\nчисла — без, и они не должны оставаться пустыми.\nРисунок 64 — Ввод параметров интента\n42\n3.  Нажать на кнопку «Сохранить».\nВ результате выполнения этого действия бот сгенерирует указанный интент и передаст\nslots  в  качестве  параметров.  Это  позволит  запустить  нужный  навык  бота  для  клиента\n(например, выбор определенного товара или услуги).\nПримечание:\nЧтобы бот выполнил определенное действие, навыки бота должны быть предварительно\nнастроены.\nВ перспективе это действие должно вытеснить большинство переводов в канал – вместо\nтого,  чтобы  передавать  клиента  оператору  и  занимать  его  время,  рассылка  будет\nвызывать соответствующий навык бота.",
    "tags": [
      "сценария рассылки",
      "генерация интента",
      "которые могут",
      "раскрывшемся меню",
      "выбор действия",
      "это действие",
      "ввод параметров",
      "результате выполнения",
      "интента блок",
      "распознаны системой",
      "затем вызвать",
      "вызвать определенный",
      "определенный навык",
      "навык бота",
      "вызова навыков",
      "навыков бота",
      "бота необходимо",
      "сгенерировать intent",
      "словарь сущностей",
      "задан именно",
      "именно словарь",
      "формате json",
      "иначе выполнение",
      "выполнение сценария",
      "рассылки завершится",
      "завершится ошибкой",
      "словаре могут",
      "переменные окружения",
      "валидным jinja",
      "константные выражения",
      "выражения также",
      "также нужно",
      "нужно задавать",
      "задавать правильно",
      "должны оставаться",
      "оставаться пустыми",
      "параметров интента",
      "действия бот",
      "бот сгенерирует",
      "сгенерирует указанный",
      "указанный интент",
      "передаст slots",
      "выбор определенного",
      "определенного товара",
      "бот выполнил",
      "выполнил определенное",
      "определенное действие",
      "навыки бота",
      "бота должны",
      "предварительно настроены",
      "перспективе это",
      "действие должно",
      "должно вытеснить",
      "вытеснить большинство",
      "большинство переводов",
      "вызывать соответствующий",
      "соответствующий навык"
    ]
  },
  {
    "section_id": "18_блок_комментарий",
    "section_title": "Блок-комментарий",
    "level": 1,
    "page_start": 43,
    "page_end": 43,
    "text": "Блок-комментарий\nВ  рассылки любого  типа  можно  вставить блок-комментарий,  который  будет содержать\nпроизвольный текст. Для добавления блока-комментария к рассылке необходимо в левом\nнижнем  углу  нажать  на  кнопку  «Добавить  блок»,  после  чего  выбрать  значение\n«Комментарий» (см. Рисунок 65) и перетащить его на область сценария рассылки.\nРисунок 65 — Добавления блока-комментария\nБлок  данного  типа  является  информационным:  он  не  имеет  каких-либо  настроек  (за\nисключением текста комментария) и не может иметь связей с другими блоками рассылки.",
    "tags": [
      "сценария рассылки",
      "произвольный текст",
      "добавления блока"
    ]
  },
  {
    "section_id": "19_блок_sms_сообщения",
    "section_title": "Блок «SMS-сообщения»",
    "level": 1,
    "page_start": 43,
    "page_end": 43,
    "text": "Блок «SMS-сообщения»\nВ  рассылку  также  можно  добавить  блок  «SMS-сообщения»,  выбрав  соответствующий\nпункт  в  меню  добавления  блоков  (см.  Рисунок  66).  Блок  позволяет  отправлять  клиентам\nSMS-сообщения,  а  также  направлять  клиентов  на  посадочную  страницу  для\nподключения мессенджера и автоматического подтверждения номера телефона.\nПодробнее  об  использовании  блока  «SMS-сообщения»  см.  в  разделе  Настройка  SMS-\nрассылок.\n43\nРисунок 66 — Добавления блока «SMS-сообщения»\nПримечание:\nПо  умолчанию  после  создания  рассылки  добавление  блока  «SMS-сообщения»\nнедоступно. Для разблокирования этой возможности необходимо сначала выбрать SMS-\nпровайдера,  см.  подробнее  в  разделах  Регистрация  SMS-провайдера  и  Добавление\nSMS-провайдера в рассылку.",
    "tags": [
      "добавления блока",
      "клиентам sms",
      "подключения мессенджера",
      "автоматического подтверждения",
      "подтверждения номера",
      "номера телефона",
      "добавление sms"
    ]
  },
  {
    "section_id": "20_блок_форма",
    "section_title": "Блок «Форма»",
    "level": 1,
    "page_start": 44,
    "page_end": 44,
    "text": "Блок «Форма»\nПри  необходимости  проведения  опроса  клиентов  можно  добавить  в  рассылку  блок\n«Форма»  (см.  Рисунок  67).  Блок  позволяет  при  помощи  конструктора  задать  порядок\nпроведения опроса, а также форматы вопросов и ответов.\nПодробнее о возможностях данного блока и особенностях его применения в рассылках\nсм. в разделе Опрос клиентов с помощью форм.\nРисунок 67 — Добавления блока «Форма»",
    "tags": [
      "добавления блока",
      "проведения опроса",
      "опрос клиентов",
      "помощью форм"
    ]
  },
  {
    "section_id": "21_связи_между_блоками_действий",
    "section_title": "Связи между блоками действий",
    "level": 1,
    "page_start": 44,
    "page_end": 45,
    "text": "Связи между блоками действий\nСвязь между событием и блоком означает безусловное выполнение действий блока сразу\nили через заданный промежуток времени после возникновения события.\nТаким  образом,  связь  всегда  исходит  из  событий  и  заканчивается  в  блоке  действий.  В\nодин блок действий могут приходить несколько связей.\n44\nСписок событий, из которых может исходить связь:\n1.  Событие Start, т. е. начало выполнения сценария рассылки (см. Рисунок 68);\nРисунок 68 — Связь исходит из события Start\n2.  Нажатие на кнопку-действие (см. Рисунок 69);\nРисунок 69 — Связь исходит из кнопки «Узнать подробности»\n3.  Отправка  сообщения  клиенту.  От  события  отправки  сообщения  также  можно\nстроить связь, для этого следует начать связь из точки в правом нижнем углу (см.\nРисунок  70).  Важно,  что  это  событие  происходит  только  когда  сообщение\nнепосредственно ставится в очередь на отправку, а не когда сообщение должно\nбыло отправиться.\nНапример,  в  приведенном  ниже  рисунке  второе  сообщение  должно  отправиться\nчерез 5 дней. Если первое сообщение не отправилось сразу после начала рассылки\n(например, у клиента был открыт диалог и его закрыли только через 1 день), то второе\nотправится  только  через  5  дней  после  отправки  первого,  т. е.  через  6  дней  после\nначала  рассылки  (а  не  через  5,  как  это  может  показаться  из  сценария).  Поэтому\nрассылки с подобными связями могут растягиваться на неопределенное время.\n45\nРисунок 70 — Связь исходит из блока с сообщением\nИз  события  Start  может  исходить  произвольное  количество  связей.  Из  остальных\nсобытий — только  по  одному.  У  всех  связей,  кроме  тех,  что  исходят  из  кнопок,  можно\nзадать задержку (см. Рисунок 70).\nТакже стоит отметить, что этой точки в правом нижнем углу нет, если в блоке нет действия\nотправки сообщения (не от чего отталкиваться).",
    "tags": [
      "заданный промежуток",
      "промежуток времени",
      "сценария рассылки",
      "начала рассылки",
      "события start",
      "блоками действий",
      "событие start",
      "выполнения сценария",
      "возникновения события",
      "действий блок",
      "блок действий",
      "отправки сообщения",
      "нижнем углу",
      "действий блока",
      "связь исходит",
      "правом нижнем",
      "сообщение должно",
      "открыт диалог"
    ]
  },
  {
    "section_id": "22_дублирование_блоков",
    "section_title": "Дублирование блоков",
    "level": 1,
    "page_start": 46,
    "page_end": 46,
    "text": "Дублирование блоков\nЕсли  необходимо  быстро  скопировать  блок  со  всем  его  содержимым,  то  необходимо  в\nверхней части нажать на\nРисунок 71).\nи затем в раскрывшемся меню выбрать «Дублировать» (см.\nРисунок 71 — Вызов функции дублирования блока",
    "tags": [
      "раскрывшемся меню",
      "меню выбрать",
      "верхней части"
    ]
  },
  {
    "section_id": "23_упорядочивание_сообщений_в_блоке",
    "section_title": "Упорядочивание сообщений в блоке",
    "level": 1,
    "page_start": 46,
    "page_end": 46,
    "text": "Упорядочивание сообщений в блоке\nЕсли  блок  имеет  несколько  сообщений,  то  их  можно  упорядочить.  Чтобы  сделать  это,\nнеобходимо  нажать  напротив  нужного  сообщения  на\n,  затем  в  открывшемся  меню  с\nпомощью  пунктов  «Переместить  наверх»  и  «Переместить  вниз»  определить\nместоположение сообщения (см. Рисунок 72).\n46\nРисунок 72 — Определение местоположения сообщения",
    "tags": []
  },
  {
    "section_id": "24_удаление_сообщений_из_блока",
    "section_title": "Удаление сообщений из блока",
    "level": 1,
    "page_start": 47,
    "page_end": 48,
    "text": "Удаление сообщений из блока\nНенужные сообщения из блока можно удалить. Чтобы сделать это, нужно нажать напротив\n, в открывшемся меню выбрать пункт «Удалить» (см. Рисунок 73), затем во\nсообщения на\nвсплывающем окне подтвердить удаление.\nРисунок 73 — Удаление сообщения из блока\n47\nКонтроль  изменения  сценария  и  настроек  рассылки  в\nнескольких окнах браузера\nВ  Maxbot  функционирует  механизм,  отслеживающий  редактирование  сценария  и\nнастроек  рассылки  в  разных  окнах  (вкладках)  браузера.  Это  сделано  для  того,  чтобы\nправки в ранее открытой вкладке не могли «затереть» изменения, сделанные в другой.\nМеханизм контроля работает следующим образом. Например, если открыть рассылку в\nдвух  вкладках,  отредактировать  ее  в  первой  вкладке,  а  затем  попытаться\nотредактировать  во  второй,  то  будет  отображено  следующее  сообщение  (см.  Рисунок\n74).  Аналогичное  сообщение  будет  отображено  в  случае,  когда  одна  рассылка\nодновременно редактируется двумя или более маркетологами\nРисунок 74 — Ошибка при одновременном редактировании сценария в разных вкладках\nбраузера\nВ  этом  случае  необходимо  обновить  страницу  для  продолжения  редактирования\nсценария  рассылки  в  этом  окне.  Изменение,  которое  привело  к  появлению  этого\nсообщения, не сохранится.\nНастройка условий начала рассылки\nНастройки,  задаваемые  на  вкладке  «Условия  начала  рассылки»,  определяют  правила\nзапуска для клиентов из аудитории рассылки. Эти настройки можно разделить на четыре\nчасти (см. Рисунок 75):\n•  Условия начала рассылки для клиентов (1);\n•  Время, после которого рассылка не начнется для клиента (2);\n•  Время, когда никакие действия рассылки не выполняются для клиента (3);\n•  Расширенные настройки (4).\n48",
    "tags": [
      "условия начала",
      "начала рассылки",
      "аудитории рассылки",
      "настройка условий",
      "условий начала",
      "меню выбрать",
      "выбрать пункт",
      "следующим образом",
      "сделать это",
      "открывшемся меню",
      "нескольких окнах",
      "окнах браузера",
      "ранее открытой",
      "открытой вкладке",
      "механизм контроля",
      "контроля работает",
      "работает следующим",
      "открыть рассылку",
      "попытаться отредактировать",
      "рассылка одновременно",
      "одновременно редактируется",
      "редактируется двумя",
      "одновременном редактировании",
      "редактировании сценария",
      "редактирования сценария",
      "рассылки настройки",
      "которого рассылка",
      "действия рассылки",
      "расширенные настройки"
    ]
  },
  {
    "section_id": "25_контроль_изменения_сценария_и_настроек_рассылки_в_нескольких_окнах_браузера",
    "section_title": "Контроль  изменения  сценария  и  настроек  рассылки  в  нескольких  окнах браузера",
    "level": 1,
    "page_start": 48,
    "page_end": 48,
    "text": "Контроль  изменения  сценария  и  настроек  рассылки  в\nнескольких окнах браузера\nВ  Maxbot  функционирует  механизм,  отслеживающий  редактирование  сценария  и\nнастроек  рассылки  в  разных  окнах  (вкладках)  браузера.  Это  сделано  для  того,  чтобы\nправки в ранее открытой вкладке не могли «затереть» изменения, сделанные в другой.\nМеханизм контроля работает следующим образом. Например, если открыть рассылку в\nдвух  вкладках,  отредактировать  ее  в  первой  вкладке,  а  затем  попытаться\nотредактировать  во  второй,  то  будет  отображено  следующее  сообщение  (см.  Рисунок\n74).  Аналогичное  сообщение  будет  отображено  в  случае,  когда  одна  рассылка\nодновременно редактируется двумя или более маркетологами\nРисунок 74 — Ошибка при одновременном редактировании сценария в разных вкладках\nбраузера\nВ  этом  случае  необходимо  обновить  страницу  для  продолжения  редактирования\nсценария  рассылки  в  этом  окне.  Изменение,  которое  привело  к  появлению  этого\nсообщения, не сохранится.",
    "tags": [
      "следующим образом",
      "нескольких окнах",
      "окнах браузера",
      "ранее открытой",
      "открытой вкладке",
      "механизм контроля",
      "контроля работает",
      "работает следующим",
      "открыть рассылку",
      "попытаться отредактировать",
      "рассылка одновременно",
      "одновременно редактируется",
      "редактируется двумя",
      "одновременном редактировании",
      "редактировании сценария",
      "редактирования сценария"
    ]
  },
  {
    "section_id": "26_настройка_условий_начала_рассылки",
    "section_title": "Настройка условий начала рассылки",
    "level": 0,
    "page_start": 48,
    "page_end": 60,
    "text": "Настройка условий начала рассылки\nНастройки,  задаваемые  на  вкладке  «Условия  начала  рассылки»,  определяют  правила\nзапуска для клиентов из аудитории рассылки. Эти настройки можно разделить на четыре\nчасти (см. Рисунок 75):\n•  Условия начала рассылки для клиентов (1);\n•  Время, после которого рассылка не начнется для клиента (2);\n•  Время, когда никакие действия рассылки не выполняются для клиента (3);\n•  Расширенные настройки (4).\n48\nРисунок 75 — Настройки условий начала рассылки\nВажно отметить, что условия начала задаются до первого запуска рассылки в состоянии\n«Не  запущена»  (см.  подробнее  в  разделе  Возможные  состояния  рассылки).  После\nзапуска рассылки изменить условия начала нельзя. Это касается следующих изменений:\n•  изменение условия начала рассылки (т. е., например, перехода от тега к событию),\n•  изменение тега или события, которые начинают рассылку,\n•  изменение времени, в которое начнется рассылка (для рассылок с фиксированной\nаудиторией, которые начинаются в заданное время);\n•  изменение времени, после которого рассылка не начнется для клиента.\nЕсли нужно изменить эти параметры, следует клонировать рассылку и внести изменения\nдо запуска рассылки, см. подробнее в разделе Изменение условий начала и аудитории\nдля запущенной рассылки.\nУсловия начала\nНачать сразу после запуска рассылки\nПри  выборе  этой  настройки  рассылка  начинает  выполняться  для  всех  клиентов  из\nаудитории  рассылки  сразу  после  ее  запуска.  Аудитория  рассылки  фиксирована\n(задается до запуска рассылки) и не может быть изменена до остановки рассылки.\nПосле  того,  как  рассылка  начнется  для  всех  клиентов  она  автоматически  переходит  в\nпассивный режим. В этом состоянии продолжается выполнение сценария рассылки для\nклиентов.\n49\nНачинать в заданное время\nПри выборе этой настройки рассылка стартует для всех клиентов из аудитории рассылки\nв заданное маркетологом время.\nПрочие условия аналогичны предыдущей опции.\nНачинать в заданное время и отправлять равномерно\nЭта  настройка  позволяет  автоматически разделить  аудиторию  и  отправлять рассылки\nодинаковыми «порциями». Это может быть полезно, например, чтобы сделать нагрузку на\nоператоров, принимающих заявки от клиентов из рассылки, более-менее равномерной.\nКак  и  в  двух  предыдущих  случаях  аудитория  рассылки  фиксирована  и  задается  до  ее\nзапуска.\nСхема работы рассылки при выборе данной опции следующая: все клиенты аудитории\nразделяются  на  подгруппы  заданного  размера,  например,  по  500  человек.  Рассылка\nначинается  не  для  всех  клиентов  из  аудитории  сразу,  как  для  предыдущих  двух\nвариантов, а только для клиентов одной подгруппы. Далее бот ждет заданное время, и\nначинает рассылку для следующей подгруппы клиентов. При этом рассылка начинается\nдля подгрупп клиентов только в заданное время, например, «вторник-четверг с 11 до 16».\nВ остальное время рассылка не начинается.\nПри выборе этой настройки отображаются дополнительные опции (см. Рисунок 76):\n•  Даты начала и окончания — определяют время, когда рассылка начнется6 для первой\n«порции»  клиентов  и  когда  она  перестанет  начинаться.  Иными  словами,  если  для\nкакого-то  клиента  из  аудитории  рассылки  первый  блок  рассылки  не  успеет\nвыполниться в заданный промежуток времени, то рассылка для этого клиента уже не\nначнется;\n•  Две  группы  с  одинаковыми  настройками,  определяющих,  как  рассылка  должна\nпроводиться в рабочие и в выходные дни.\nВ каждой группе задаются следующие параметры:\n•  «Часы  работы»  —  часы,  в  которые  рассылка  будет  пытаться  начаться  для\nочередной подгруппы клиентов;\n•  «Отправлять каждые» — интервал, через который рассылка будет начинаться для\nследующей группы клиентов;\n•  «Максимальное количество клиентов за одну отправку» — размер группы клиентов,\nдля  которых  рассылка  будет  начинаться  через  каждый  заданный  интервал\nвремени.\n6 Подробнее о режимах (состояниях) рассылки см. в разделе Возможные состояния рассылки.\n50\nПримечание:\nОдну из групп настроек можно полностью выключить, сняв флажок рядом с названием.\nВ этом случае она применяться не будет.\nНапример, с настройками как на рисунке далее рассылка будет начинаться каждые 10\nминут для очередных 100 клиентов из множества всех клиентов аудитории рассылки.\nРисунок 76 — Ввод дополнительных настроек для условия «Начинать в заданное время и\nотправлять равномерно»\nВажно!\nДни и часы, заданные в настройках равномерной рассылки, могут противоречить дням и\nчасам,  заданным  в  группе  Время,  когда  запланированные  действия  рассылки  не\nвыполняются. В этом случае приоритет имеют настройки исключения времени. Т. е. если\n51\nодин  и  тот  же  день  задан  в  настройках  равномерной  рассылки  и  в  настройках\nисключения, то рассылка в этот день начинаться не будет.\nКроме  того,  нужно  учитывать,  что  настройка  времени  равномерной  рассылки\nприменяется  в  часовом  поясе  компании,  а  настройка  исключения  по  времени  —  в\nчасовом поясе клиента.\nНачинать в заданное время и отправлять равномерно (аудитория из внешней системы)\nПри  выборе  этого  варианта,  как  и  в  предыдущем  случае,  рассылка  начинается  для\nклиентов  равномерно,  одинаковыми  «порциями»  через  заданный  период  времени.\nНапример,  можно  начинать  рассылку  для  очередных  100  клиентов  через  каждые  два\nчаса.  Отличие  от  предыдущего  случая  состоит  в  источнике клиентов.  В  данном  случае\nсписок клиентов, для которых начнется рассылка, загружается динамически из внешнего\nREST-сервиса  при  каждой  попытке  начать  рассылку,  а  не  из  файла как  в  предыдущем\nслучае.\nДля примера рассмотрим рассылку с настройками как на рисунке ниже:\nРисунок 77 – Основные настройки равномерной рассылки с аудиторией из внешней системы\nПосле запуска такой рассылки Marketer будет каждые 40 минут запрашивать па адресу\n«http://example.com/api/v1/customers»  список  из  200  клиентов  в  определенном\nформате (описан ниже). После проверки полученных данных рассылка начнется для этих\nклиентов.  То  же  самое  произойдет  еще  через  40  минут  и  так  далее  в  зависимости  от\nдругих настроек рассылки, которые позволяют ограничить эти запросы по времени. При\nэтом если сервер повторно отдаст клиента, для которого эта рассылка уже началась, то\nрассылка не начнется для него повторно. Все клиенты, для которых рассылка успешно\nначалась, будут отображаться на вкладке «Целевая аудитория».\nНастройки  рассылки  в  этом  случае  полностью  совпадают  с  настройками  обычной\nравномерной  рассылки  для  фиксированной  аудитории,  описанной  в  предыдущем\nразделе. Так же задаются часы работы в рабочие и выходные дни, общие ограничения\nпо времени работы и лимиты на количество клиентов. Подробнее это описано в разделе\n«Начинать в заданное время и отправлять равномерно».\n52\nФормат данных списка клиентов\nMarketer  выполняет  GET  запрос  по  указанному  в  поле  «URL  для  получения  аудитории»\nадресу и добавляет к нему параметр limit, в котором указывает максимальное количество\nклиентов.\nВнешний  REST-сервис  должен  отдавать  список  клиентов  в  формате,  описанном  в\nразделе «Формат файлов JSON» ниже.\nПри  этом  количество  клиентов  не  должно  превышать  значение,  заданное  в  параметре\nlimit (но может быть меньше). Это значение устанавливается маркетологом при настройке\nрассылки в полях «Максимальное количество клиентов за одну отправку» для выходных\nи  рабочих  дней  отдельно.  Если  внешний  REST-сервис  вернет  больше  клиентов,  чем\nзадано  в  limit,  то  будет  сгенерирована  ошибка,  рассылка  не  отправится  ни  одному\nклиенту.  Через  заданное  в  настройках  рассылки  время  будет  выполнен  следующий\nзапрос, будут выполняться те же проверки и т.д.\nНапример, в рассылке с настройками как на рисунке выше указан «URL для получения\nаудитории»\nhttp://example.com/api/v1/customers\nи «Максимальное количество клиентов за одну отправку» 200. Каждые 40 минут Marketer\nбудет выполнять запрос\nGET http://example.com/api/v1/customers?limit=200\nи этот REST-сервис должен возвращать JSON вида\n{\n\"customers\": [\n{\n\"id\": 123456,\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": true,\n\"customer_data\": {\n\"first_name\": \"Gregory\"\n}\n}\n],\n\"macroses\": [\n\"name\": \"first_name\",\n\"type\": \"string\"\n{\n}\n]\n}\nВ данном случае в списке указан один клиент и рассылка начнется только для него.\n53\nЕсли  сервер  требует  авторизацию,  то  токен  может  быть  задан  в  поле  «Bearer\nавторизация»,\nРисунок 78 – параметры авторизации внешнего REST-сервиса\nВ таком случае Marketer будет выполнять запрос с HTTP-заголовком\nAuthorization: Bearer abcdefghijklmnopqrstuvwxyz\nТестирование запросов\nДля  проверки  работы  внешнего  REST-сервиса  можно  воспользоваться  кнопкой\n«Выполнить  тестовый  вызов».  Marketer  выполнит  GET  запрос  по  указанному  URL  с\nпараметрами, указанными в настройках, и частично произведет валидацию полученных\nданных.\nЕсли данные будут получены успешно и будут удовлетворять формату, описанному выше\n(см. Формат данных списка клиентов), то результат будет как на рисунке ниже:\nРисунок 79 – Успешное выполнение тестового запроса на загрузку аудитории рассылки\n54\nЕсли  Marketer  не  сможет  получить данные  по  заданному  URL, либо  их  формат  не  будет\nсоответствовать требуемому, то результат будет иметь такой вид:\nРисунок 80 – Выполнение тестового запроса завершилось ошибкой. Формат данных в ответе\nвнешнего REST-сервиса не соответствует требуемому.\nВажно!\nУспешное  выполнение  тестового  запроса  не  гарантирует  успешное  начало  рассылки\nдля клиентов при ее выполнении, т.к. некоторые проверки, например, полноты указанных\nмакросов для каждого клиента, происходят только в ходе выполнения рассылки.\nОтладка рассылок с аудиторией из внешней системы\nЕсли рассылка не начинается для клиентов в указанное время или начинается, но не для\nвсех,  можно  определить  причину  такого  поведения  системы.  Для  этого  необходимо\nскачать  журнал  запросов,  которые  выполнял  Marketer  к  внешнему  REST-сервису.  Это\nможно сделать в настройках рассылки на вкладке «Статистика»:\nРисунок 81 – Загрузка журнала запросов аудитории рассылки\nПри скачивании журнала можно применить фильтры по датам, чтобы исключить ненужные\nданные.\nРезультат представляет собой файл в формате JSON, который описывает все запросы,\nкоторые выполнял Marketer для загрузки аудитории, и результаты обработки полученных\nданных. Формат файла подробно описан ниже.\nЕсли информации о запросах за нужное время нет, это значит, что настройки рассылки\nзапрещают начинать ее в это время, или рассылка была в пассивном или отключенном\nсостоянии.\n55\nФормат файла с журналом запросов аудитории рассылки\nПоле\nurl\nresponse_json\nresponse_text\nОписание\nURL,  который  использовался  для  выполнения  запроса\nсписка клиентов.\nОтвет,  полученный  от сервера.  Задано,  только  если  в\nответе содержался валидный JSON.\nОтвет,  полученный  от  сервера.  Задано,  только  если\nответ сервера не является валидным JSON.\nmacroses\nСписок макросов, выделенных из ответа сервера.\nsuccess_customers\nduplicate_customers\nfailed_customers\nerror\nfirst_date\nlast_date\ncount\nСписок  клиентов,  для  которых  рассылка  должна\nуспешно начаться.\nСписок\nначиналась и повторно не начнется.\nклиентов,  для  которых  рассылка  уже\nСписок  клиентов,  данные  которых  не  прошли\nвалидацию. Например, не задан один из макросов или\nнет необходимых, согласно заданному формату, полей.\nСообщение об ошибке при выполнении запроса.\nДата запроса (или дата первого запроса в серии, если\ncount > 1)\nДата запроса (или дата последнего запроса в серии,\nесли count > 1)\nКоличество  запросов  в  серии  одинаковых  запросов.\nЕсли  значение  более  1,  то  это  означает,  что  между\nfirst_date  и  last_date  произошло  count  одинаковых\nошибок.  Смысл  в  том,  чтобы  не  засорять  журнал\nмножеством одинаковых записей.\nhistory_id\nИдентификатор записи в журнале.\nНачинать при получении ключевого слова\nВ этом случае рассылка начинается для тех клиентов, которые отправили боту одно из\nключевых  слов.  Ключевое  слово  должно  полностью  совпадать  с  одним  из  заданных  в\nнастройках  рассылки  текстов  (см.  Рисунок  82).  В  одну  рассылку  можно  добавить  до  10\nключевых слов.\nПодобные  рассылки  могут  использоваться  в  различных  маркетинговых  кампаниях.\nНапример, маркетолог в одной из соцсетей размещает рекламный пост с предложением\nполучить  скидку  на  товары  или  услуги.  Для  этого  клиент  должен  написать  боту\nопределенное слово или фразу, например, «ХочуСкидку». Если клиент отправляет такое\nсообщение, для него начинается рассылка – автоворонка продаж.\n56\nРисунок 82 — Настройка рассылки, которая начинается по ключевым словам\nПри проверке совпадения ключевых слов есть ряд важных особенностей:\n•  Регистр букв не учитывается. Например, если в настройках рассылки будет указано\nслово «ХочуСкидку», а клиент пришлет «хочускидку», то рассылка начнется;\n•  Пробельные  символы  до  и  после  слова/фразы  не  учитываются.  Например,  если  в\nнастройках  рассылки  будет  указано  слово  «ХочуСкидку»,  а  клиент  пришлет\n«  ХочуСкидку   », то рассылка начнется;\n•  Проверяется  совпадение  всего  сообщения  целиком.  Например,  если  в  настройках\nрассылки  будет  указано  слово  «ХочуСкидку»,  а  клиент  пришлет  «ХочуСкидку,\nпожалуйста», то рассылка не начнется;\n•  Минимальная длина ключевого слова – один символ. Например, можно использовать\nсмайлик –     .\nЕсть  ограничение, что  для  каждого  ключевого  слова  может  быть  запущена  (в  активном\nрежиме) только одна рассылка. То есть запуск двух рассылок с одним ключевым словом\nневозможен. Ограничений на существование рассылок в пассивном и других режимах,\nнастроенных на начало по одному ключевому слову, нет.\nЕще одним условием начала рассылки по ключевым словам, является состояние диалога,\nв котором клиент отправляет ключевое слово. Если клиент использует ключевое слово в\nпереписке с оператором (состояние диалога active7) или ботом (состояние диалога bot),\nто  рассылка  не  начнется.  Если  ключевое  слово  будет  использовано  при  ожидании  в\nканале (состояния диалога waiting), то рассылка начнется, но клиент будет уведомлен о\nтом, что ожидание в канале прервано и он вернулся к боту. Ниже представлена Таблица\n2, описывающая поведение бота при использовании ключевых слов в разных состояниях\nдиалога.\n7  Подробнее  состояния  диалогов  описаны  в  Руководстве  оператора  в  разделе  «Приложение  Б.  Статусы\nобработки обращений»\n57\nТаблица 2 — Состояние диалога во время начала рассылки по ключевым словам\nСостояние диалога\nwaiting\nclosed\nbot\nactive\nли\nМожет\nначаться\nрассылка  по  ключевым\nсловам?\n*\n* - При использовании ключевого слова обращение к оператору будет отклонено. Клиент\nбудет уведомлен об этом и перемещен в канал bot. После этого начнется рассылка по\nключевым словам.\nЧтобы рассылка больше не начиналась для клиентов, нужно либо задать дату с временем\nокончания рассылки, либо вручную остановить рассылку или перевести ее в пассивный\nрежим.\nНачинать при выставлении тега\nВ этом случае рассылка стартует для тех клиентов, которые после ее запуска получили\nодин из заданных тегов. Если тег уже был выставлен ранее, то рассылка не стартует.\nЕсли после запуска рассылки тег был выставлен дважды, т. е. сначала выставлен, потом\nудален, а затем снова выставлен, то рассылка может прийти клиенту дважды. Может  —\nпотому что есть другая опция, регулирующая это поведение, об этом далее в подразделе\nРасширенные настройки.\nЧтобы  прекратить  запуск  рассылок  для  клиентов,  которые  получают  заданные  теги,\nнужно  остановить  рассылку  или  перевести  ее  в  пассивный  режим,  либо  задать  дату  с\nвременем окончания рассылки.\nНачинать при возникновении события\nВ этом случае сценарий рассылки будет запущен  для тех клиентов, для которых после\nзапуска  рассылки  сгенерировано  внешнее  событие.  Например,  CRM  компании  может\nсгенерировать событие «Клиент совершил покупку». Информация об этом событии вместе\nс  дополнительными  аргументами  может  быть  передана  в  консоль  маркетолога,  и  для\nклиента может быть запущена специальная рассылка.\nПодробнее об этом описано в разделе Использование событий.\nЧтобы  прекратить  запуск  рассылок  для  клиентов,  для  которых  генерируются  события,\nнужно  остановить  рассылку  или  перевести  ее  в  пассивный  режим,  либо  задать  дату  с\nвременем окончания рассылки..\nНачинать при возникновении события для заданной аудитории\nВ  этом  случае  рассылка  стартует  при  возникновении  события,  но  не  для  заданного  в\nсобытии клиента, а для указанной в настройках рассылки целевой аудитории.\n58\nВремя, после которого рассылка не начнется для клиентов\nЭта  настройка  ограничивает  начало  рассылки  для  клиентов,  если  указанное  в\nнастройке  время  истекло.  Настройка  необходима  тогда,  когда  у  рассылки  есть\nограничение  в  актуальности  отправляемых  данных.  Например,  маркетолог  создает\nрассылку с акцией, которая действует до конца недели и запускает рассылку в начале\nнедели. У клиента в момент запуска рассылки может быть открыт диалог с оператором и\nдиалог  может  не  закрываться  до  конца  недели.    Если  описанная  настройка  не  будет\nиспользоваться, то клиент получит рассылку, когда акция уже закончится (т.к. рассылка\nбудет  отложена  до  завершения  диалога  с  оператором).  А  если  маркетолог  задаст\nограничение  по  времени,  то  такого  не  произойдет,  клиент  не  получит  неактуальную\nрассылку.\nРисунок 83 - Настройка ограничения времени запуска рассылки\nНастройку  можно  применить  при  любом  условии  начала  рассылки  и  новые  запуски\nрассылки прекратятся, даже если будет сгенерировано событие, или выставлен тег, или\nнаступят  другие  условия  начала  рассылки.    Это  позволяет  не  допустить  случайной\nотправки рассылки по событию или тегу после того, как рассылка потеряет актуальность.\nВажно!\nЕсли рассылка успеет начаться до установленного в настройке времени, т.е. для клиента\nвыполнится  хотя  бы  один  блок  рассылки,  то  она  будет  продолжаться  и  после  этого\nвремени. Кнопки будут работать, запланированные сообщения будут отправляться.\nПо умолчанию опция отключена, но для равномерных рассылок она присутствует всегда\nи называется по-другому: «Рассылка закончится для клиентов в» (см. Рисунок 84).\nРисунок 84 – Настройка времени окончания запусков для равномерных рассылок\n59\nВремя,  когда  запланированные  действия  рассылки  не\nвыполняются для клиента\nВ  этой  части  настроек  задаются  дни  недели  и  время,  в  которые  клиенту  не  будут\nотправляться  сообщения  и  выполняться  запланированные  действия  рассылки.  Если\nкакой-то шаг рассылки попадет на запрещенное время, то он будет отложен.\nНапример, если по сценарию рассылки клиент должен получить сообщение в 1 час ночи,\nто  отправка  сообщения  будет  отложена  до  9  утра  (при  настройках  запрещенного\nвремени по умолчанию, см. Рисунок 85).\nВремя, заданное в этой части настроек, рассчитывается в часовом поясе клиента. Т. е.\nрассылка  типа  «Начать  сразу  после  запуска  рассылки»,  запущенная  в  15:00  по\nмосковскому  времени,  не  придет  клиенту из  Владивостока сразу,  а  будет  отложена  до\n9:00 в его часовом поясе (при настройках запрещенного времени по умолчанию).\nРисунок 85 — Настройка запрещенного времени и дней недели для рассылок\nДля  информационных  рассылок  целесообразно  не  задавать  запрещенное  время,  т.  к.\nнекоторые  из  них,  например,  получение  секретных  кодов,  должны  работать  в  режиме\n24/7.\nРасширенные настройки\nДля рассылок, начинающихся по событию или тегу, группа расширенных настроек имеет\nследующий вид (см. Рисунок 86):\n60\nРисунок 86 — Расширенные настройки для рассылок, начинающихся по событию или по тегу\nДля  рассылок  с  фиксированной  аудиторией  группа  расширенных  настроек  имеет\nследующий вид (см. Рисунок 87):\nРисунок 87 — Расширенные настройки для рассылок с фиксированной аудиторией\nПримечание:\nПодробнее о типах аудитории см. в разделе",
    "tags": [
      "сценарий рассылки",
      "каждого клиента",
      "заданный промежуток",
      "промежуток времени",
      "сценария рассылки",
      "условия начала",
      "начала рассылки",
      "клиентов аудитории",
      "аудитории рассылки",
      "выполнения рассылки",
      "настройки рассылки",
      "запуска рассылки",
      "настройка условий",
      "условий начала",
      "целевая аудитория",
      "фиксированной аудиторией",
      "отправки рассылки",
      "сгенерировать событие",
      "активном режиме",
      "случае сценарий",
      "представляет собой",
      "заданное время",
      "внешней системы",
      "формат файла",
      "одному клиенту",
      "будут отправляться",
      "поле url",
      "максимальное количество",
      "клиент получит",
      "канал bot",
      "остановить рассылку",
      "данном случае",
      "рассылки клиент",
      "сценарию рассылки",
      "использование событий",
      "сгенерировано событие",
      "возникновении события",
      "будут получены",
      "формате json",
      "выполнение сценария",
      "время рассылка",
      "открыт диалог",
      "настроек рассылки",
      "одна рассылка",
      "рассылки настройки",
      "которого рассылка",
      "рассылка начнется",
      "действия рассылки",
      "расширенные настройки",
      "первого запуска",
      "возможные состояния",
      "состояния рассылки",
      "изменить условия",
      "начнется рассылка",
      "клонировать рассылку",
      "внести изменения",
      "изменение условий",
      "запущенной рассылки",
      "начать сразу",
      "настройки рассылка",
      "рассылка начинает",
      "остановки рассылки",
      "пассивный режим",
      "состоянии продолжается",
      "продолжается выполнение",
      "рассылка стартует",
      "заданное маркетологом",
      "маркетологом время",
      "прочие условия",
      "условия аналогичны",
      "аналогичны предыдущей",
      "предыдущей опции",
      "отправлять равномерно",
      "равномерно эта",
      "отправлять рассылки",
      "рассылки одинаковыми",
      "сделать нагрузку",
      "принимающих заявки",
      "менее равномерной",
      "схема работы",
      "работы рассылки",
      "выборе данной",
      "данной опции",
      "опции следующая",
      "клиенты аудитории",
      "рассылка начинается",
      "двух вариантов",
      "клиентов одной",
      "одной подгруппы",
      "далее бот",
      "бот ждет",
      "ждет заданное",
      "начинает рассылку",
      "следующей подгруппы",
      "подгруппы клиентов",
      "подгрупп клиентов",
      "остальное время",
      "настройки отображаются",
      "отображаются дополнительные",
      "дополнительные опции",
      "даты начала",
      "определяют время",
      "рассылка начнется6",
      "успеет выполниться",
      "должна проводиться",
      "выходные дни",
      "каждой группе",
      "группе задаются",
      "задаются следующие",
      "следующие параметры",
      "часы работы",
      "очередной подгруппы",
      "отправлять каждые",
      "который рассылка",
      "следующей группы",
      "группы клиентов",
      "количество клиентов",
      "одну отправку",
      "размер группы",
      "которых рассылка",
      "интервал времени",
      "групп настроек",
      "полностью выключить",
      "сняв флажок",
      "флажок рядом",
      "далее рассылка",
      "начинаться каждые",
      "очередных 100",
      "100 клиентов",
      "ввод дополнительных",
      "дополнительных настроек",
      "настройках равномерной",
      "равномерной рассылки",
      "могут противоречить",
      "противоречить дням",
      "случае приоритет",
      "приоритет имеют",
      "имеют настройки",
      "настройки исключения",
      "исключения времени",
      "настройках исключения",
      "день начинаться",
      "настройка времени",
      "рассылки применяется",
      "часовом поясе",
      "поясе клиента",
      "предыдущем случае",
      "случае рассылка",
      "источнике клиентов",
      "случае список",
      "список клиентов",
      "которых начнется",
      "загружается динамически",
      "внешнего rest",
      "основные настройки",
      "настройки равномерной",
      "рассылки marketer",
      "минут запрашивать",
      "определенном формате",
      "описан ниже",
      "проверки полученных",
      "полученных данных",
      "данных рассылка",
      "этих клиентов",
      "других настроек",
      "которые позволяют",
      "позволяют ограничить",
      "сервер повторно",
      "повторно отдаст",
      "отдаст клиента",
      "которого эта",
      "эта рассылка",
      "рассылка успешно",
      "успешно началась",
      "будут отображаться",
      "обычной равномерной",
      "задаются часы",
      "общие ограничения",
      "ограничения времени",
      "времени работы",
      "подробнее это",
      "это описано",
      "формат данных",
      "данных списка",
      "списка клиентов",
      "клиентов marketer",
      "получения аудитории",
      "нему параметр",
      "параметр limit",
      "котором указывает",
      "указывает максимальное",
      "сервис должен",
      "формат файлов",
      "файлов json",
      "параметре limit",
      "это значение",
      "значение устанавливается",
      "устанавливается маркетологом",
      "настройке рассылки",
      "настройках рассылки",
      "следующий запрос",
      "будут выполняться",
      "выше указан",
      "минут marketer",
      "выполнять запрос",
      "запрос get",
      "get http",
      "должен возвращать",
      "возвращать json",
      "json вида",
      "списке указан",
      "bearer авторизация",
      "параметры авторизации",
      "авторизации внешнего",
      "таком случае",
      "случае marketer",
      "заголовком authorization",
      "bearer abcdefghijklmnopqrstuvwxyz",
      "abcdefghijklmnopqrstuvwxyz тестирование",
      "тестирование запросов",
      "частично произведет",
      "произведет валидацию",
      "валидацию полученных",
      "данные будут",
      "получены успешно",
      "будут удовлетворять",
      "удовлетворять формату",
      "описанному выше",
      "успешное выполнение",
      "выполнение тестового",
      "тестового запроса",
      "загрузку аудитории",
      "получить данные",
      "соответствовать требуемому",
      "запроса завершилось",
      "завершилось ошибкой",
      "ответе внешнего",
      "соответствует требуемому",
      "некоторые проверки",
      "полноты указанных",
      "указанных макросов",
      "ходе выполнения",
      "отладка рассылок",
      "указанное время",
      "необходимо скачать",
      "которые выполнял",
      "выполнял marketer",
      "загрузка журнала",
      "журнала запросов",
      "запросов аудитории",
      "скачивании журнала",
      "применить фильтры",
      "исключить ненужные",
      "ненужные данные",
      "результат представляет",
      "собой файл",
      "который описывает",
      "загрузки аудитории",
      "результаты обработки",
      "обработки полученных",
      "файла подробно",
      "подробно описан",
      "нужное время",
      "это значит",
      "рассылки запрещают",
      "запрещают начинать",
      "это время",
      "отключенном состоянии",
      "журналом запросов",
      "рассылки поле",
      "url response_json",
      "response_json response_text",
      "response_text описание",
      "описание url",
      "запроса списка",
      "ответе содержался",
      "содержался валидный",
      "валидный json",
      "ответ сервера",
      "является валидным",
      "валидным json",
      "macroses список",
      "список макросов",
      "ответа сервера",
      "success_customers duplicate_customers",
      "duplicate_customers failed_customers",
      "failed_customers error",
      "error first_date",
      "first_date last_date",
      "last_date count",
      "count список",
      "должна успешно",
      "успешно начаться",
      "список начиналась",
      "прошли валидацию",
      "согласно заданному",
      "заданному формату",
      "выполнении запроса",
      "дата запроса",
      "дата первого",
      "первого запроса",
      "дата последнего",
      "последнего запроса",
      "одинаковых ошибок",
      "журнал множеством",
      "множеством одинаковых",
      "одинаковых записей",
      "history_id идентификатор",
      "идентификатор записи",
      "получении ключевого",
      "ключевого слова",
      "тех клиентов",
      "которые отправили",
      "отправили боту",
      "боту одно",
      "ключевых слов",
      "ключевое слово",
      "соцсетей размещает",
      "размещает рекламный",
      "рекламный пост",
      "предложением получить",
      "клиент должен",
      "боту определенное",
      "определенное слово",
      "клиент отправляет",
      "отправляет такое",
      "такое сообщение",
      "начинается рассылка",
      "автоворонка продаж",
      "настройка рассылки",
      "которая начинается",
      "ключевым словам",
      "проверке совпадения",
      "совпадения ключевых",
      "ряд важных",
      "важных особенностей",
      "регистр букв",
      "указано слово",
      "клиент пришлет",
      "минимальная длина",
      "длина ключевого",
      "запуск двух",
      "двух рассылок",
      "одним ключевым",
      "ключевым словом",
      "словом невозможен",
      "существование рассылок",
      "других режимах",
      "одному ключевому",
      "ключевому слову",
      "одним условием",
      "условием начала",
      "является состояние",
      "состояние диалога",
      "котором клиент",
      "отправляет ключевое",
      "клиент использует",
      "использует ключевое",
      "диалога active7",
      "диалога bot",
      "состояния диалога",
      "диалога waiting",
      "канале прервано",
      "ниже представлена",
      "описывающая поведение",
      "поведение бота",
      "использовании ключевых",
      "разных состояниях",
      "состояниях диалога",
      "статусы обработки",
      "обработки обращений",
      "время начала",
      "словам состояние",
      "waiting closed",
      "closed bot",
      "bot active",
      "начаться рассылка",
      "использовании ключевого",
      "слова обращение",
      "нужно либо",
      "либо задать",
      "задать дату",
      "временем окончания",
      "окончания рассылки",
      "либо вручную",
      "вручную остановить",
      "выставлении тега",
      "запуска получили",
      "заданных тегов",
      "выставлен ранее",
      "рассылки тег",
      "выставлен дважды",
      "сначала выставлен",
      "затем снова",
      "снова выставлен",
      "прийти клиенту",
      "клиенту дважды",
      "другая опция",
      "регулирующая это",
      "это поведение",
      "клиент совершил",
      "совершил покупку",
      "событии вместе",
      "запущена специальная",
      "специальная рассылка",
      "заданной аудитории",
      "событии клиента",
      "рассылки целевой",
      "целевой аудитории",
      "конца недели",
      "момент запуска",
      "получит рассылку",
      "времени запуска",
      "запланированные сообщения",
      "равномерных рассылок",
      "части настроек",
      "шаг рассылки",
      "рассылки попадет",
      "запрещенное время",
      "должен получить",
      "получить сообщение",
      "час ночи",
      "настройках запрещенного",
      "запрещенного времени",
      "владивостока сразу",
      "настройка запрещенного",
      "дней недели",
      "группа расширенных",
      "расширенных настроек",
      "настроек имеет",
      "имеет следующий",
      "следующий вид"
    ]
  },
  {
    "section_id": "27_условия_начала",
    "section_title": "Условия начала",
    "level": 1,
    "page_start": 49,
    "page_end": 58,
    "text": "Условия начала\nНачать сразу после запуска рассылки\nПри  выборе  этой  настройки  рассылка  начинает  выполняться  для  всех  клиентов  из\nаудитории  рассылки  сразу  после  ее  запуска.  Аудитория  рассылки  фиксирована\n(задается до запуска рассылки) и не может быть изменена до остановки рассылки.\nПосле  того,  как  рассылка  начнется  для  всех  клиентов  она  автоматически  переходит  в\nпассивный режим. В этом состоянии продолжается выполнение сценария рассылки для\nклиентов.\n49\nНачинать в заданное время\nПри выборе этой настройки рассылка стартует для всех клиентов из аудитории рассылки\nв заданное маркетологом время.\nПрочие условия аналогичны предыдущей опции.\nНачинать в заданное время и отправлять равномерно\nЭта  настройка  позволяет  автоматически разделить  аудиторию  и  отправлять рассылки\nодинаковыми «порциями». Это может быть полезно, например, чтобы сделать нагрузку на\nоператоров, принимающих заявки от клиентов из рассылки, более-менее равномерной.\nКак  и  в  двух  предыдущих  случаях  аудитория  рассылки  фиксирована  и  задается  до  ее\nзапуска.\nСхема работы рассылки при выборе данной опции следующая: все клиенты аудитории\nразделяются  на  подгруппы  заданного  размера,  например,  по  500  человек.  Рассылка\nначинается  не  для  всех  клиентов  из  аудитории  сразу,  как  для  предыдущих  двух\nвариантов, а только для клиентов одной подгруппы. Далее бот ждет заданное время, и\nначинает рассылку для следующей подгруппы клиентов. При этом рассылка начинается\nдля подгрупп клиентов только в заданное время, например, «вторник-четверг с 11 до 16».\nВ остальное время рассылка не начинается.\nПри выборе этой настройки отображаются дополнительные опции (см. Рисунок 76):\n•  Даты начала и окончания — определяют время, когда рассылка начнется6 для первой\n«порции»  клиентов  и  когда  она  перестанет  начинаться.  Иными  словами,  если  для\nкакого-то  клиента  из  аудитории  рассылки  первый  блок  рассылки  не  успеет\nвыполниться в заданный промежуток времени, то рассылка для этого клиента уже не\nначнется;\n•  Две  группы  с  одинаковыми  настройками,  определяющих,  как  рассылка  должна\nпроводиться в рабочие и в выходные дни.\nВ каждой группе задаются следующие параметры:\n•  «Часы  работы»  —  часы,  в  которые  рассылка  будет  пытаться  начаться  для\nочередной подгруппы клиентов;\n•  «Отправлять каждые» — интервал, через который рассылка будет начинаться для\nследующей группы клиентов;\n•  «Максимальное количество клиентов за одну отправку» — размер группы клиентов,\nдля  которых  рассылка  будет  начинаться  через  каждый  заданный  интервал\nвремени.\n6 Подробнее о режимах (состояниях) рассылки см. в разделе Возможные состояния рассылки.\n50\nПримечание:\nОдну из групп настроек можно полностью выключить, сняв флажок рядом с названием.\nВ этом случае она применяться не будет.\nНапример, с настройками как на рисунке далее рассылка будет начинаться каждые 10\nминут для очередных 100 клиентов из множества всех клиентов аудитории рассылки.\nРисунок 76 — Ввод дополнительных настроек для условия «Начинать в заданное время и\nотправлять равномерно»\nВажно!\nДни и часы, заданные в настройках равномерной рассылки, могут противоречить дням и\nчасам,  заданным  в  группе  Время,  когда  запланированные  действия  рассылки  не\nвыполняются. В этом случае приоритет имеют настройки исключения времени. Т. е. если\n51\nодин  и  тот  же  день  задан  в  настройках  равномерной  рассылки  и  в  настройках\nисключения, то рассылка в этот день начинаться не будет.\nКроме  того,  нужно  учитывать,  что  настройка  времени  равномерной  рассылки\nприменяется  в  часовом  поясе  компании,  а  настройка  исключения  по  времени  —  в\nчасовом поясе клиента.\nНачинать в заданное время и отправлять равномерно (аудитория из внешней системы)\nПри  выборе  этого  варианта,  как  и  в  предыдущем  случае,  рассылка  начинается  для\nклиентов  равномерно,  одинаковыми  «порциями»  через  заданный  период  времени.\nНапример,  можно  начинать  рассылку  для  очередных  100  клиентов  через  каждые  два\nчаса.  Отличие  от  предыдущего  случая  состоит  в  источнике клиентов.  В  данном  случае\nсписок клиентов, для которых начнется рассылка, загружается динамически из внешнего\nREST-сервиса  при  каждой  попытке  начать  рассылку,  а  не  из  файла как  в  предыдущем\nслучае.\nДля примера рассмотрим рассылку с настройками как на рисунке ниже:\nРисунок 77 – Основные настройки равномерной рассылки с аудиторией из внешней системы\nПосле запуска такой рассылки Marketer будет каждые 40 минут запрашивать па адресу\n«http://example.com/api/v1/customers»  список  из  200  клиентов  в  определенном\nформате (описан ниже). После проверки полученных данных рассылка начнется для этих\nклиентов.  То  же  самое  произойдет  еще  через  40  минут  и  так  далее  в  зависимости  от\nдругих настроек рассылки, которые позволяют ограничить эти запросы по времени. При\nэтом если сервер повторно отдаст клиента, для которого эта рассылка уже началась, то\nрассылка не начнется для него повторно. Все клиенты, для которых рассылка успешно\nначалась, будут отображаться на вкладке «Целевая аудитория».\nНастройки  рассылки  в  этом  случае  полностью  совпадают  с  настройками  обычной\nравномерной  рассылки  для  фиксированной  аудитории,  описанной  в  предыдущем\nразделе. Так же задаются часы работы в рабочие и выходные дни, общие ограничения\nпо времени работы и лимиты на количество клиентов. Подробнее это описано в разделе\n«Начинать в заданное время и отправлять равномерно».\n52\nФормат данных списка клиентов\nMarketer  выполняет  GET  запрос  по  указанному  в  поле  «URL  для  получения  аудитории»\nадресу и добавляет к нему параметр limit, в котором указывает максимальное количество\nклиентов.\nВнешний  REST-сервис  должен  отдавать  список  клиентов  в  формате,  описанном  в\nразделе «Формат файлов JSON» ниже.\nПри  этом  количество  клиентов  не  должно  превышать  значение,  заданное  в  параметре\nlimit (но может быть меньше). Это значение устанавливается маркетологом при настройке\nрассылки в полях «Максимальное количество клиентов за одну отправку» для выходных\nи  рабочих  дней  отдельно.  Если  внешний  REST-сервис  вернет  больше  клиентов,  чем\nзадано  в  limit,  то  будет  сгенерирована  ошибка,  рассылка  не  отправится  ни  одному\nклиенту.  Через  заданное  в  настройках  рассылки  время  будет  выполнен  следующий\nзапрос, будут выполняться те же проверки и т.д.\nНапример, в рассылке с настройками как на рисунке выше указан «URL для получения\nаудитории»\nhttp://example.com/api/v1/customers\nи «Максимальное количество клиентов за одну отправку» 200. Каждые 40 минут Marketer\nбудет выполнять запрос\nGET http://example.com/api/v1/customers?limit=200\nи этот REST-сервис должен возвращать JSON вида\n{\n\"customers\": [\n{\n\"id\": 123456,\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": true,\n\"customer_data\": {\n\"first_name\": \"Gregory\"\n}\n}\n],\n\"macroses\": [\n\"name\": \"first_name\",\n\"type\": \"string\"\n{\n}\n]\n}\nВ данном случае в списке указан один клиент и рассылка начнется только для него.\n53\nЕсли  сервер  требует  авторизацию,  то  токен  может  быть  задан  в  поле  «Bearer\nавторизация»,\nРисунок 78 – параметры авторизации внешнего REST-сервиса\nВ таком случае Marketer будет выполнять запрос с HTTP-заголовком\nAuthorization: Bearer abcdefghijklmnopqrstuvwxyz\nТестирование запросов\nДля  проверки  работы  внешнего  REST-сервиса  можно  воспользоваться  кнопкой\n«Выполнить  тестовый  вызов».  Marketer  выполнит  GET  запрос  по  указанному  URL  с\nпараметрами, указанными в настройках, и частично произведет валидацию полученных\nданных.\nЕсли данные будут получены успешно и будут удовлетворять формату, описанному выше\n(см. Формат данных списка клиентов), то результат будет как на рисунке ниже:\nРисунок 79 – Успешное выполнение тестового запроса на загрузку аудитории рассылки\n54\nЕсли  Marketer  не  сможет  получить данные  по  заданному  URL, либо  их  формат  не  будет\nсоответствовать требуемому, то результат будет иметь такой вид:\nРисунок 80 – Выполнение тестового запроса завершилось ошибкой. Формат данных в ответе\nвнешнего REST-сервиса не соответствует требуемому.\nВажно!\nУспешное  выполнение  тестового  запроса  не  гарантирует  успешное  начало  рассылки\nдля клиентов при ее выполнении, т.к. некоторые проверки, например, полноты указанных\nмакросов для каждого клиента, происходят только в ходе выполнения рассылки.\nОтладка рассылок с аудиторией из внешней системы\nЕсли рассылка не начинается для клиентов в указанное время или начинается, но не для\nвсех,  можно  определить  причину  такого  поведения  системы.  Для  этого  необходимо\nскачать  журнал  запросов,  которые  выполнял  Marketer  к  внешнему  REST-сервису.  Это\nможно сделать в настройках рассылки на вкладке «Статистика»:\nРисунок 81 – Загрузка журнала запросов аудитории рассылки\nПри скачивании журнала можно применить фильтры по датам, чтобы исключить ненужные\nданные.\nРезультат представляет собой файл в формате JSON, который описывает все запросы,\nкоторые выполнял Marketer для загрузки аудитории, и результаты обработки полученных\nданных. Формат файла подробно описан ниже.\nЕсли информации о запросах за нужное время нет, это значит, что настройки рассылки\nзапрещают начинать ее в это время, или рассылка была в пассивном или отключенном\nсостоянии.\n55\nФормат файла с журналом запросов аудитории рассылки\nПоле\nurl\nresponse_json\nresponse_text\nОписание\nURL,  который  использовался  для  выполнения  запроса\nсписка клиентов.\nОтвет,  полученный  от сервера.  Задано,  только  если  в\nответе содержался валидный JSON.\nОтвет,  полученный  от  сервера.  Задано,  только  если\nответ сервера не является валидным JSON.\nmacroses\nСписок макросов, выделенных из ответа сервера.\nsuccess_customers\nduplicate_customers\nfailed_customers\nerror\nfirst_date\nlast_date\ncount\nСписок  клиентов,  для  которых  рассылка  должна\nуспешно начаться.\nСписок\nначиналась и повторно не начнется.\nклиентов,  для  которых  рассылка  уже\nСписок  клиентов,  данные  которых  не  прошли\nвалидацию. Например, не задан один из макросов или\nнет необходимых, согласно заданному формату, полей.\nСообщение об ошибке при выполнении запроса.\nДата запроса (или дата первого запроса в серии, если\ncount > 1)\nДата запроса (или дата последнего запроса в серии,\nесли count > 1)\nКоличество  запросов  в  серии  одинаковых  запросов.\nЕсли  значение  более  1,  то  это  означает,  что  между\nfirst_date  и  last_date  произошло  count  одинаковых\nошибок.  Смысл  в  том,  чтобы  не  засорять  журнал\nмножеством одинаковых записей.\nhistory_id\nИдентификатор записи в журнале.\nНачинать при получении ключевого слова\nВ этом случае рассылка начинается для тех клиентов, которые отправили боту одно из\nключевых  слов.  Ключевое  слово  должно  полностью  совпадать  с  одним  из  заданных  в\nнастройках  рассылки  текстов  (см.  Рисунок  82).  В  одну  рассылку  можно  добавить  до  10\nключевых слов.\nПодобные  рассылки  могут  использоваться  в  различных  маркетинговых  кампаниях.\nНапример, маркетолог в одной из соцсетей размещает рекламный пост с предложением\nполучить  скидку  на  товары  или  услуги.  Для  этого  клиент  должен  написать  боту\nопределенное слово или фразу, например, «ХочуСкидку». Если клиент отправляет такое\nсообщение, для него начинается рассылка – автоворонка продаж.\n56\nРисунок 82 — Настройка рассылки, которая начинается по ключевым словам\nПри проверке совпадения ключевых слов есть ряд важных особенностей:\n•  Регистр букв не учитывается. Например, если в настройках рассылки будет указано\nслово «ХочуСкидку», а клиент пришлет «хочускидку», то рассылка начнется;\n•  Пробельные  символы  до  и  после  слова/фразы  не  учитываются.  Например,  если  в\nнастройках  рассылки  будет  указано  слово  «ХочуСкидку»,  а  клиент  пришлет\n«  ХочуСкидку   », то рассылка начнется;\n•  Проверяется  совпадение  всего  сообщения  целиком.  Например,  если  в  настройках\nрассылки  будет  указано  слово  «ХочуСкидку»,  а  клиент  пришлет  «ХочуСкидку,\nпожалуйста», то рассылка не начнется;\n•  Минимальная длина ключевого слова – один символ. Например, можно использовать\nсмайлик –     .\nЕсть  ограничение, что  для  каждого  ключевого  слова  может  быть  запущена  (в  активном\nрежиме) только одна рассылка. То есть запуск двух рассылок с одним ключевым словом\nневозможен. Ограничений на существование рассылок в пассивном и других режимах,\nнастроенных на начало по одному ключевому слову, нет.\nЕще одним условием начала рассылки по ключевым словам, является состояние диалога,\nв котором клиент отправляет ключевое слово. Если клиент использует ключевое слово в\nпереписке с оператором (состояние диалога active7) или ботом (состояние диалога bot),\nто  рассылка  не  начнется.  Если  ключевое  слово  будет  использовано  при  ожидании  в\nканале (состояния диалога waiting), то рассылка начнется, но клиент будет уведомлен о\nтом, что ожидание в канале прервано и он вернулся к боту. Ниже представлена Таблица\n2, описывающая поведение бота при использовании ключевых слов в разных состояниях\nдиалога.\n7  Подробнее  состояния  диалогов  описаны  в  Руководстве  оператора  в  разделе  «Приложение  Б.  Статусы\nобработки обращений»\n57\nТаблица 2 — Состояние диалога во время начала рассылки по ключевым словам\nСостояние диалога\nwaiting\nclosed\nbot\nactive\nли\nМожет\nначаться\nрассылка  по  ключевым\nсловам?\n*\n* - При использовании ключевого слова обращение к оператору будет отклонено. Клиент\nбудет уведомлен об этом и перемещен в канал bot. После этого начнется рассылка по\nключевым словам.\nЧтобы рассылка больше не начиналась для клиентов, нужно либо задать дату с временем\nокончания рассылки, либо вручную остановить рассылку или перевести ее в пассивный\nрежим.\nНачинать при выставлении тега\nВ этом случае рассылка стартует для тех клиентов, которые после ее запуска получили\nодин из заданных тегов. Если тег уже был выставлен ранее, то рассылка не стартует.\nЕсли после запуска рассылки тег был выставлен дважды, т. е. сначала выставлен, потом\nудален, а затем снова выставлен, то рассылка может прийти клиенту дважды. Может  —\nпотому что есть другая опция, регулирующая это поведение, об этом далее в подразделе\nРасширенные настройки.\nЧтобы  прекратить  запуск  рассылок  для  клиентов,  которые  получают  заданные  теги,\nнужно  остановить  рассылку  или  перевести  ее  в  пассивный  режим,  либо  задать  дату  с\nвременем окончания рассылки.\nНачинать при возникновении события\nВ этом случае сценарий рассылки будет запущен  для тех клиентов, для которых после\nзапуска  рассылки  сгенерировано  внешнее  событие.  Например,  CRM  компании  может\nсгенерировать событие «Клиент совершил покупку». Информация об этом событии вместе\nс  дополнительными  аргументами  может  быть  передана  в  консоль  маркетолога,  и  для\nклиента может быть запущена специальная рассылка.\nПодробнее об этом описано в разделе Использование событий.\nЧтобы  прекратить  запуск  рассылок  для  клиентов,  для  которых  генерируются  события,\nнужно  остановить  рассылку  или  перевести  ее  в  пассивный  режим,  либо  задать  дату  с\nвременем окончания рассылки..\nНачинать при возникновении события для заданной аудитории\nВ  этом  случае  рассылка  стартует  при  возникновении  события,  но  не  для  заданного  в\nсобытии клиента, а для указанной в настройках рассылки целевой аудитории.\n58",
    "tags": [
      "сценарий рассылки",
      "каждого клиента",
      "заданный промежуток",
      "промежуток времени",
      "сценария рассылки",
      "условия начала",
      "начала рассылки",
      "клиентов аудитории",
      "аудитории рассылки",
      "выполнения рассылки",
      "настройки рассылки",
      "запуска рассылки",
      "целевая аудитория",
      "сгенерировать событие",
      "активном режиме",
      "случае сценарий",
      "представляет собой",
      "заданное время",
      "внешней системы",
      "формат файла",
      "одному клиенту",
      "поле url",
      "максимальное количество",
      "канал bot",
      "остановить рассылку",
      "данном случае",
      "использование событий",
      "возникновении события",
      "будут получены",
      "формате json",
      "выполнение сценария",
      "время рассылка",
      "настроек рассылки",
      "одна рассылка",
      "рассылка начнется",
      "расширенные настройки",
      "возможные состояния",
      "состояния рассылки",
      "начнется рассылка",
      "начать сразу",
      "настройки рассылка",
      "рассылка начинает",
      "остановки рассылки",
      "пассивный режим",
      "состоянии продолжается",
      "продолжается выполнение",
      "рассылка стартует",
      "заданное маркетологом",
      "маркетологом время",
      "прочие условия",
      "условия аналогичны",
      "аналогичны предыдущей",
      "предыдущей опции",
      "отправлять равномерно",
      "равномерно эта",
      "отправлять рассылки",
      "рассылки одинаковыми",
      "сделать нагрузку",
      "принимающих заявки",
      "менее равномерной",
      "схема работы",
      "работы рассылки",
      "выборе данной",
      "данной опции",
      "опции следующая",
      "клиенты аудитории",
      "рассылка начинается",
      "двух вариантов",
      "клиентов одной",
      "одной подгруппы",
      "далее бот",
      "бот ждет",
      "ждет заданное",
      "начинает рассылку",
      "следующей подгруппы",
      "подгруппы клиентов",
      "подгрупп клиентов",
      "остальное время",
      "настройки отображаются",
      "отображаются дополнительные",
      "дополнительные опции",
      "даты начала",
      "определяют время",
      "рассылка начнется6",
      "успеет выполниться",
      "должна проводиться",
      "выходные дни",
      "каждой группе",
      "группе задаются",
      "задаются следующие",
      "следующие параметры",
      "часы работы",
      "очередной подгруппы",
      "отправлять каждые",
      "который рассылка",
      "следующей группы",
      "группы клиентов",
      "количество клиентов",
      "одну отправку",
      "размер группы",
      "которых рассылка",
      "интервал времени",
      "групп настроек",
      "полностью выключить",
      "сняв флажок",
      "флажок рядом",
      "далее рассылка",
      "начинаться каждые",
      "очередных 100",
      "100 клиентов",
      "ввод дополнительных",
      "дополнительных настроек",
      "настройках равномерной",
      "равномерной рассылки",
      "могут противоречить",
      "противоречить дням",
      "случае приоритет",
      "приоритет имеют",
      "имеют настройки",
      "настройки исключения",
      "исключения времени",
      "настройках исключения",
      "день начинаться",
      "рассылки применяется",
      "часовом поясе",
      "поясе клиента",
      "предыдущем случае",
      "случае рассылка",
      "источнике клиентов",
      "случае список",
      "список клиентов",
      "которых начнется",
      "загружается динамически",
      "внешнего rest",
      "основные настройки",
      "настройки равномерной",
      "рассылки marketer",
      "минут запрашивать",
      "определенном формате",
      "описан ниже",
      "проверки полученных",
      "полученных данных",
      "данных рассылка",
      "этих клиентов",
      "других настроек",
      "которые позволяют",
      "позволяют ограничить",
      "сервер повторно",
      "повторно отдаст",
      "отдаст клиента",
      "которого эта",
      "эта рассылка",
      "рассылка успешно",
      "успешно началась",
      "будут отображаться",
      "обычной равномерной",
      "задаются часы",
      "общие ограничения",
      "времени работы",
      "подробнее это",
      "это описано",
      "формат данных",
      "данных списка",
      "списка клиентов",
      "клиентов marketer",
      "получения аудитории",
      "нему параметр",
      "параметр limit",
      "котором указывает",
      "указывает максимальное",
      "сервис должен",
      "формат файлов",
      "файлов json",
      "параметре limit",
      "это значение",
      "значение устанавливается",
      "устанавливается маркетологом",
      "настройке рассылки",
      "настройках рассылки",
      "следующий запрос",
      "будут выполняться",
      "выше указан",
      "минут marketer",
      "выполнять запрос",
      "запрос get",
      "get http",
      "должен возвращать",
      "возвращать json",
      "json вида",
      "списке указан",
      "bearer авторизация",
      "параметры авторизации",
      "авторизации внешнего",
      "таком случае",
      "случае marketer",
      "заголовком authorization",
      "bearer abcdefghijklmnopqrstuvwxyz",
      "abcdefghijklmnopqrstuvwxyz тестирование",
      "тестирование запросов",
      "частично произведет",
      "произведет валидацию",
      "валидацию полученных",
      "данные будут",
      "получены успешно",
      "будут удовлетворять",
      "удовлетворять формату",
      "описанному выше",
      "успешное выполнение",
      "выполнение тестового",
      "тестового запроса",
      "загрузку аудитории",
      "получить данные",
      "соответствовать требуемому",
      "запроса завершилось",
      "завершилось ошибкой",
      "ответе внешнего",
      "соответствует требуемому",
      "некоторые проверки",
      "полноты указанных",
      "указанных макросов",
      "ходе выполнения",
      "отладка рассылок",
      "указанное время",
      "необходимо скачать",
      "которые выполнял",
      "выполнял marketer",
      "загрузка журнала",
      "журнала запросов",
      "запросов аудитории",
      "скачивании журнала",
      "применить фильтры",
      "исключить ненужные",
      "ненужные данные",
      "результат представляет",
      "собой файл",
      "который описывает",
      "загрузки аудитории",
      "результаты обработки",
      "обработки полученных",
      "файла подробно",
      "подробно описан",
      "нужное время",
      "это значит",
      "рассылки запрещают",
      "запрещают начинать",
      "это время",
      "отключенном состоянии",
      "журналом запросов",
      "рассылки поле",
      "url response_json",
      "response_json response_text",
      "response_text описание",
      "описание url",
      "запроса списка",
      "ответе содержался",
      "содержался валидный",
      "валидный json",
      "ответ сервера",
      "является валидным",
      "валидным json",
      "macroses список",
      "список макросов",
      "ответа сервера",
      "success_customers duplicate_customers",
      "duplicate_customers failed_customers",
      "failed_customers error",
      "error first_date",
      "first_date last_date",
      "last_date count",
      "count список",
      "должна успешно",
      "успешно начаться",
      "список начиналась",
      "прошли валидацию",
      "согласно заданному",
      "заданному формату",
      "выполнении запроса",
      "дата запроса",
      "дата первого",
      "первого запроса",
      "дата последнего",
      "последнего запроса",
      "одинаковых ошибок",
      "журнал множеством",
      "множеством одинаковых",
      "одинаковых записей",
      "history_id идентификатор",
      "идентификатор записи",
      "получении ключевого",
      "ключевого слова",
      "тех клиентов",
      "которые отправили",
      "отправили боту",
      "боту одно",
      "ключевых слов",
      "ключевое слово",
      "соцсетей размещает",
      "размещает рекламный",
      "рекламный пост",
      "предложением получить",
      "боту определенное",
      "определенное слово",
      "клиент отправляет",
      "отправляет такое",
      "такое сообщение",
      "начинается рассылка",
      "автоворонка продаж",
      "настройка рассылки",
      "которая начинается",
      "ключевым словам",
      "проверке совпадения",
      "совпадения ключевых",
      "ряд важных",
      "важных особенностей",
      "регистр букв",
      "указано слово",
      "клиент пришлет",
      "минимальная длина",
      "длина ключевого",
      "запуск двух",
      "двух рассылок",
      "одним ключевым",
      "ключевым словом",
      "словом невозможен",
      "существование рассылок",
      "других режимах",
      "одному ключевому",
      "ключевому слову",
      "одним условием",
      "условием начала",
      "является состояние",
      "состояние диалога",
      "котором клиент",
      "отправляет ключевое",
      "клиент использует",
      "использует ключевое",
      "диалога active7",
      "диалога bot",
      "состояния диалога",
      "диалога waiting",
      "канале прервано",
      "ниже представлена",
      "описывающая поведение",
      "поведение бота",
      "использовании ключевых",
      "разных состояниях",
      "состояниях диалога",
      "статусы обработки",
      "обработки обращений",
      "время начала",
      "словам состояние",
      "waiting closed",
      "closed bot",
      "bot active",
      "начаться рассылка",
      "использовании ключевого",
      "слова обращение",
      "нужно либо",
      "либо задать",
      "задать дату",
      "временем окончания",
      "окончания рассылки",
      "либо вручную",
      "вручную остановить",
      "выставлении тега",
      "запуска получили",
      "заданных тегов",
      "выставлен ранее",
      "рассылки тег",
      "выставлен дважды",
      "сначала выставлен",
      "затем снова",
      "снова выставлен",
      "прийти клиенту",
      "клиенту дважды",
      "другая опция",
      "регулирующая это",
      "это поведение",
      "клиент совершил",
      "совершил покупку",
      "событии вместе",
      "запущена специальная",
      "специальная рассылка",
      "заданной аудитории",
      "событии клиента",
      "рассылки целевой",
      "целевой аудитории"
    ]
  },
  {
    "section_id": "28_начать_сразу_после_запуска_рассылки",
    "section_title": "Начать сразу после запуска рассылки",
    "level": 2,
    "page_start": 49,
    "page_end": 49,
    "text": "Начать сразу после запуска рассылки\nПри  выборе  этой  настройки  рассылка  начинает  выполняться  для  всех  клиентов  из\nаудитории  рассылки  сразу  после  ее  запуска.  Аудитория  рассылки  фиксирована\n(задается до запуска рассылки) и не может быть изменена до остановки рассылки.\nПосле  того,  как  рассылка  начнется  для  всех  клиентов  она  автоматически  переходит  в\nпассивный режим. В этом состоянии продолжается выполнение сценария рассылки для\nклиентов.\n49",
    "tags": [
      "сценария рассылки",
      "запуска рассылки",
      "выполнение сценария",
      "начать сразу",
      "остановки рассылки",
      "пассивный режим",
      "состоянии продолжается",
      "продолжается выполнение"
    ]
  },
  {
    "section_id": "29_начинать_в_заданное_время",
    "section_title": "Начинать в заданное время",
    "level": 2,
    "page_start": 50,
    "page_end": 50,
    "text": "Начинать в заданное время\nПри выборе этой настройки рассылка стартует для всех клиентов из аудитории рассылки\nв заданное маркетологом время.\nПрочие условия аналогичны предыдущей опции.",
    "tags": [
      "аудитории рассылки",
      "заданное время",
      "настройки рассылка",
      "рассылка стартует",
      "заданное маркетологом",
      "маркетологом время",
      "прочие условия",
      "условия аналогичны",
      "аналогичны предыдущей",
      "предыдущей опции"
    ]
  },
  {
    "section_id": "30_начинать_в_заданное_время_и_отправлять_равномерно",
    "section_title": "Начинать в заданное время и отправлять равномерно",
    "level": 2,
    "page_start": 50,
    "page_end": 52,
    "text": "Начинать в заданное время и отправлять равномерно\nЭта  настройка  позволяет  автоматически разделить  аудиторию  и  отправлять рассылки\nодинаковыми «порциями». Это может быть полезно, например, чтобы сделать нагрузку на\nоператоров, принимающих заявки от клиентов из рассылки, более-менее равномерной.\nКак  и  в  двух  предыдущих  случаях  аудитория  рассылки  фиксирована  и  задается  до  ее\nзапуска.\nСхема работы рассылки при выборе данной опции следующая: все клиенты аудитории\nразделяются  на  подгруппы  заданного  размера,  например,  по  500  человек.  Рассылка\nначинается  не  для  всех  клиентов  из  аудитории  сразу,  как  для  предыдущих  двух\nвариантов, а только для клиентов одной подгруппы. Далее бот ждет заданное время, и\nначинает рассылку для следующей подгруппы клиентов. При этом рассылка начинается\nдля подгрупп клиентов только в заданное время, например, «вторник-четверг с 11 до 16».\nВ остальное время рассылка не начинается.\nПри выборе этой настройки отображаются дополнительные опции (см. Рисунок 76):\n•  Даты начала и окончания — определяют время, когда рассылка начнется6 для первой\n«порции»  клиентов  и  когда  она  перестанет  начинаться.  Иными  словами,  если  для\nкакого-то  клиента  из  аудитории  рассылки  первый  блок  рассылки  не  успеет\nвыполниться в заданный промежуток времени, то рассылка для этого клиента уже не\nначнется;\n•  Две  группы  с  одинаковыми  настройками,  определяющих,  как  рассылка  должна\nпроводиться в рабочие и в выходные дни.\nВ каждой группе задаются следующие параметры:\n•  «Часы  работы»  —  часы,  в  которые  рассылка  будет  пытаться  начаться  для\nочередной подгруппы клиентов;\n•  «Отправлять каждые» — интервал, через который рассылка будет начинаться для\nследующей группы клиентов;\n•  «Максимальное количество клиентов за одну отправку» — размер группы клиентов,\nдля  которых  рассылка  будет  начинаться  через  каждый  заданный  интервал\nвремени.\n6 Подробнее о режимах (состояниях) рассылки см. в разделе Возможные состояния рассылки.\n50\nПримечание:\nОдну из групп настроек можно полностью выключить, сняв флажок рядом с названием.\nВ этом случае она применяться не будет.\nНапример, с настройками как на рисунке далее рассылка будет начинаться каждые 10\nминут для очередных 100 клиентов из множества всех клиентов аудитории рассылки.\nРисунок 76 — Ввод дополнительных настроек для условия «Начинать в заданное время и\nотправлять равномерно»\nВажно!\nДни и часы, заданные в настройках равномерной рассылки, могут противоречить дням и\nчасам,  заданным  в  группе  Время,  когда  запланированные  действия  рассылки  не\nвыполняются. В этом случае приоритет имеют настройки исключения времени. Т. е. если\n51\nодин  и  тот  же  день  задан  в  настройках  равномерной  рассылки  и  в  настройках\nисключения, то рассылка в этот день начинаться не будет.\nКроме  того,  нужно  учитывать,  что  настройка  времени  равномерной  рассылки\nприменяется  в  часовом  поясе  компании,  а  настройка  исключения  по  времени  —  в\nчасовом поясе клиента.\nНачинать в заданное время и отправлять равномерно (аудитория из внешней системы)\nПри  выборе  этого  варианта,  как  и  в  предыдущем  случае,  рассылка  начинается  для\nклиентов  равномерно,  одинаковыми  «порциями»  через  заданный  период  времени.\nНапример,  можно  начинать  рассылку  для  очередных  100  клиентов  через  каждые  два\nчаса.  Отличие  от  предыдущего  случая  состоит  в  источнике клиентов.  В  данном  случае\nсписок клиентов, для которых начнется рассылка, загружается динамически из внешнего\nREST-сервиса  при  каждой  попытке  начать  рассылку,  а  не  из  файла как  в  предыдущем\nслучае.\nДля примера рассмотрим рассылку с настройками как на рисунке ниже:\nРисунок 77 – Основные настройки равномерной рассылки с аудиторией из внешней системы\nПосле запуска такой рассылки Marketer будет каждые 40 минут запрашивать па адресу\n«http://example.com/api/v1/customers»  список  из  200  клиентов  в  определенном\nформате (описан ниже). После проверки полученных данных рассылка начнется для этих\nклиентов.  То  же  самое  произойдет  еще  через  40  минут  и  так  далее  в  зависимости  от\nдругих настроек рассылки, которые позволяют ограничить эти запросы по времени. При\nэтом если сервер повторно отдаст клиента, для которого эта рассылка уже началась, то\nрассылка не начнется для него повторно. Все клиенты, для которых рассылка успешно\nначалась, будут отображаться на вкладке «Целевая аудитория».\nНастройки  рассылки  в  этом  случае  полностью  совпадают  с  настройками  обычной\nравномерной  рассылки  для  фиксированной  аудитории,  описанной  в  предыдущем\nразделе. Так же задаются часы работы в рабочие и выходные дни, общие ограничения\nпо времени работы и лимиты на количество клиентов. Подробнее это описано в разделе\n«Начинать в заданное время и отправлять равномерно».\n52",
    "tags": [
      "заданный промежуток",
      "промежуток времени",
      "клиентов аудитории",
      "аудитории рассылки",
      "целевая аудитория",
      "заданное время",
      "внешней системы",
      "максимальное количество",
      "время рассылка",
      "настроек рассылки",
      "рассылка начнется",
      "возможные состояния",
      "состояния рассылки",
      "начнется рассылка",
      "рассылка начинает",
      "отправлять равномерно",
      "равномерно эта",
      "отправлять рассылки",
      "рассылки одинаковыми",
      "сделать нагрузку",
      "принимающих заявки",
      "менее равномерной",
      "схема работы",
      "работы рассылки",
      "выборе данной",
      "данной опции",
      "опции следующая",
      "клиенты аудитории",
      "рассылка начинается",
      "двух вариантов",
      "клиентов одной",
      "одной подгруппы",
      "далее бот",
      "бот ждет",
      "ждет заданное",
      "начинает рассылку",
      "следующей подгруппы",
      "подгруппы клиентов",
      "подгрупп клиентов",
      "остальное время",
      "настройки отображаются",
      "отображаются дополнительные",
      "дополнительные опции",
      "даты начала",
      "определяют время",
      "рассылка начнется6",
      "успеет выполниться",
      "должна проводиться",
      "выходные дни",
      "каждой группе",
      "группе задаются",
      "задаются следующие",
      "следующие параметры",
      "часы работы",
      "очередной подгруппы",
      "отправлять каждые",
      "который рассылка",
      "следующей группы",
      "группы клиентов",
      "количество клиентов",
      "одну отправку",
      "размер группы",
      "которых рассылка",
      "интервал времени",
      "групп настроек",
      "полностью выключить",
      "сняв флажок",
      "флажок рядом",
      "далее рассылка",
      "начинаться каждые",
      "очередных 100",
      "100 клиентов",
      "ввод дополнительных",
      "дополнительных настроек",
      "настройках равномерной",
      "равномерной рассылки",
      "могут противоречить",
      "противоречить дням",
      "случае приоритет",
      "приоритет имеют",
      "имеют настройки",
      "настройки исключения",
      "исключения времени",
      "настройках исключения",
      "день начинаться",
      "рассылки применяется",
      "часовом поясе",
      "поясе клиента",
      "предыдущем случае",
      "источнике клиентов",
      "случае список",
      "список клиентов",
      "которых начнется",
      "загружается динамически",
      "внешнего rest",
      "основные настройки",
      "настройки равномерной",
      "рассылки marketer",
      "минут запрашивать",
      "определенном формате",
      "описан ниже",
      "проверки полученных",
      "полученных данных",
      "данных рассылка",
      "этих клиентов",
      "других настроек",
      "которые позволяют",
      "позволяют ограничить",
      "сервер повторно",
      "повторно отдаст",
      "отдаст клиента",
      "которого эта",
      "эта рассылка",
      "рассылка успешно",
      "успешно началась",
      "будут отображаться",
      "обычной равномерной",
      "задаются часы",
      "общие ограничения",
      "времени работы",
      "подробнее это",
      "это описано"
    ]
  },
  {
    "section_id": "31_начинать_в_заданное_время_и_отправлять_равномерно_аудитория_из_внешней_системы",
    "section_title": "Начинать  в  заданное  время  и  отправлять  равномерно  (аудитория  из внешней системы)",
    "level": 2,
    "page_start": 52,
    "page_end": 55,
    "text": "один  и  тот  же  день  задан  в  настройках  равномерной  рассылки  и  в  настройках\nисключения, то рассылка в этот день начинаться не будет.\nКроме  того,  нужно  учитывать,  что  настройка  времени  равномерной  рассылки\nприменяется  в  часовом  поясе  компании,  а  настройка  исключения  по  времени  —  в\nчасовом поясе клиента.\nНачинать в заданное время и отправлять равномерно (аудитория из внешней системы)\nПри  выборе  этого  варианта,  как  и  в  предыдущем  случае,  рассылка  начинается  для\nклиентов  равномерно,  одинаковыми  «порциями»  через  заданный  период  времени.\nНапример,  можно  начинать  рассылку  для  очередных  100  клиентов  через  каждые  два\nчаса.  Отличие  от  предыдущего  случая  состоит  в  источнике клиентов.  В  данном  случае\nсписок клиентов, для которых начнется рассылка, загружается динамически из внешнего\nREST-сервиса  при  каждой  попытке  начать  рассылку,  а  не  из  файла как  в  предыдущем\nслучае.\nДля примера рассмотрим рассылку с настройками как на рисунке ниже:\nРисунок 77 – Основные настройки равномерной рассылки с аудиторией из внешней системы\nПосле запуска такой рассылки Marketer будет каждые 40 минут запрашивать па адресу\n«http://example.com/api/v1/customers»  список  из  200  клиентов  в  определенном\nформате (описан ниже). После проверки полученных данных рассылка начнется для этих\nклиентов.  То  же  самое  произойдет  еще  через  40  минут  и  так  далее  в  зависимости  от\nдругих настроек рассылки, которые позволяют ограничить эти запросы по времени. При\nэтом если сервер повторно отдаст клиента, для которого эта рассылка уже началась, то\nрассылка не начнется для него повторно. Все клиенты, для которых рассылка успешно\nначалась, будут отображаться на вкладке «Целевая аудитория».\nНастройки  рассылки  в  этом  случае  полностью  совпадают  с  настройками  обычной\nравномерной  рассылки  для  фиксированной  аудитории,  описанной  в  предыдущем\nразделе. Так же задаются часы работы в рабочие и выходные дни, общие ограничения\nпо времени работы и лимиты на количество клиентов. Подробнее это описано в разделе\n«Начинать в заданное время и отправлять равномерно».\n52\nФормат данных списка клиентов\nMarketer  выполняет  GET  запрос  по  указанному  в  поле  «URL  для  получения  аудитории»\nадресу и добавляет к нему параметр limit, в котором указывает максимальное количество\nклиентов.\nВнешний  REST-сервис  должен  отдавать  список  клиентов  в  формате,  описанном  в\nразделе «Формат файлов JSON» ниже.\nПри  этом  количество  клиентов  не  должно  превышать  значение,  заданное  в  параметре\nlimit (но может быть меньше). Это значение устанавливается маркетологом при настройке\nрассылки в полях «Максимальное количество клиентов за одну отправку» для выходных\nи  рабочих  дней  отдельно.  Если  внешний  REST-сервис  вернет  больше  клиентов,  чем\nзадано  в  limit,  то  будет  сгенерирована  ошибка,  рассылка  не  отправится  ни  одному\nклиенту.  Через  заданное  в  настройках  рассылки  время  будет  выполнен  следующий\nзапрос, будут выполняться те же проверки и т.д.\nНапример, в рассылке с настройками как на рисунке выше указан «URL для получения\nаудитории»\nhttp://example.com/api/v1/customers\nи «Максимальное количество клиентов за одну отправку» 200. Каждые 40 минут Marketer\nбудет выполнять запрос\nGET http://example.com/api/v1/customers?limit=200\nи этот REST-сервис должен возвращать JSON вида\n{\n\"customers\": [\n{\n\"id\": 123456,\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": true,\n\"customer_data\": {\n\"first_name\": \"Gregory\"\n}\n}\n],\n\"macroses\": [\n\"name\": \"first_name\",\n\"type\": \"string\"\n{\n}\n]\n}\nВ данном случае в списке указан один клиент и рассылка начнется только для него.\n53\nЕсли  сервер  требует  авторизацию,  то  токен  может  быть  задан  в  поле  «Bearer\nавторизация»,\nРисунок 78 – параметры авторизации внешнего REST-сервиса\nВ таком случае Marketer будет выполнять запрос с HTTP-заголовком\nAuthorization: Bearer abcdefghijklmnopqrstuvwxyz\nТестирование запросов\nДля  проверки  работы  внешнего  REST-сервиса  можно  воспользоваться  кнопкой\n«Выполнить  тестовый  вызов».  Marketer  выполнит  GET  запрос  по  указанному  URL  с\nпараметрами, указанными в настройках, и частично произведет валидацию полученных\nданных.\nЕсли данные будут получены успешно и будут удовлетворять формату, описанному выше\n(см. Формат данных списка клиентов), то результат будет как на рисунке ниже:\nРисунок 79 – Успешное выполнение тестового запроса на загрузку аудитории рассылки\n54\nЕсли  Marketer  не  сможет  получить данные  по  заданному  URL, либо  их  формат  не  будет\nсоответствовать требуемому, то результат будет иметь такой вид:\nРисунок 80 – Выполнение тестового запроса завершилось ошибкой. Формат данных в ответе\nвнешнего REST-сервиса не соответствует требуемому.\nВажно!\nУспешное  выполнение  тестового  запроса  не  гарантирует  успешное  начало  рассылки\nдля клиентов при ее выполнении, т.к. некоторые проверки, например, полноты указанных\nмакросов для каждого клиента, происходят только в ходе выполнения рассылки.\nОтладка рассылок с аудиторией из внешней системы\nЕсли рассылка не начинается для клиентов в указанное время или начинается, но не для\nвсех,  можно  определить  причину  такого  поведения  системы.  Для  этого  необходимо\nскачать  журнал  запросов,  которые  выполнял  Marketer  к  внешнему  REST-сервису.  Это\nможно сделать в настройках рассылки на вкладке «Статистика»:\nРисунок 81 – Загрузка журнала запросов аудитории рассылки\nПри скачивании журнала можно применить фильтры по датам, чтобы исключить ненужные\nданные.\nРезультат представляет собой файл в формате JSON, который описывает все запросы,\nкоторые выполнял Marketer для загрузки аудитории, и результаты обработки полученных\nданных. Формат файла подробно описан ниже.\nЕсли информации о запросах за нужное время нет, это значит, что настройки рассылки\nзапрещают начинать ее в это время, или рассылка была в пассивном или отключенном\nсостоянии.\n55\nФормат файла с журналом запросов аудитории рассылки\nПоле\nurl\nresponse_json\nresponse_text\nОписание\nURL,  который  использовался  для  выполнения  запроса\nсписка клиентов.\nОтвет,  полученный  от сервера.  Задано,  только  если  в\nответе содержался валидный JSON.\nОтвет,  полученный  от  сервера.  Задано,  только  если\nответ сервера не является валидным JSON.\nmacroses\nСписок макросов, выделенных из ответа сервера.\nsuccess_customers\nduplicate_customers\nfailed_customers\nerror\nfirst_date\nlast_date\ncount\nСписок  клиентов,  для  которых  рассылка  должна\nуспешно начаться.\nСписок\nначиналась и повторно не начнется.\nклиентов,  для  которых  рассылка  уже\nСписок  клиентов,  данные  которых  не  прошли\nвалидацию. Например, не задан один из макросов или\nнет необходимых, согласно заданному формату, полей.\nСообщение об ошибке при выполнении запроса.\nДата запроса (или дата первого запроса в серии, если\ncount > 1)\nДата запроса (или дата последнего запроса в серии,\nесли count > 1)\nКоличество  запросов  в  серии  одинаковых  запросов.\nЕсли  значение  более  1,  то  это  означает,  что  между\nfirst_date  и  last_date  произошло  count  одинаковых\nошибок.  Смысл  в  том,  чтобы  не  засорять  журнал\nмножеством одинаковых записей.\nhistory_id\nИдентификатор записи в журнале.",
    "tags": [
      "каждого клиента",
      "аудитории рассылки",
      "выполнения рассылки",
      "настройки рассылки",
      "целевая аудитория",
      "представляет собой",
      "заданное время",
      "внешней системы",
      "формат файла",
      "одному клиенту",
      "поле url",
      "максимальное количество",
      "данном случае",
      "будут получены",
      "формате json",
      "настроек рассылки",
      "рассылка начнется",
      "начнется рассылка",
      "отправлять равномерно",
      "выходные дни",
      "часы работы",
      "количество клиентов",
      "одну отправку",
      "которых рассылка",
      "равномерной рассылки",
      "настройках исключения",
      "день начинаться",
      "рассылки применяется",
      "часовом поясе",
      "поясе клиента",
      "предыдущем случае",
      "источнике клиентов",
      "случае список",
      "список клиентов",
      "которых начнется",
      "загружается динамически",
      "внешнего rest",
      "основные настройки",
      "настройки равномерной",
      "рассылки marketer",
      "минут запрашивать",
      "определенном формате",
      "описан ниже",
      "проверки полученных",
      "полученных данных",
      "данных рассылка",
      "этих клиентов",
      "других настроек",
      "которые позволяют",
      "позволяют ограничить",
      "сервер повторно",
      "повторно отдаст",
      "отдаст клиента",
      "которого эта",
      "эта рассылка",
      "рассылка успешно",
      "успешно началась",
      "будут отображаться",
      "обычной равномерной",
      "задаются часы",
      "общие ограничения",
      "времени работы",
      "подробнее это",
      "это описано",
      "формат данных",
      "данных списка",
      "списка клиентов",
      "клиентов marketer",
      "получения аудитории",
      "нему параметр",
      "параметр limit",
      "котором указывает",
      "указывает максимальное",
      "сервис должен",
      "формат файлов",
      "файлов json",
      "параметре limit",
      "это значение",
      "значение устанавливается",
      "устанавливается маркетологом",
      "настройке рассылки",
      "настройках рассылки",
      "следующий запрос",
      "будут выполняться",
      "выше указан",
      "минут marketer",
      "выполнять запрос",
      "запрос get",
      "get http",
      "должен возвращать",
      "возвращать json",
      "json вида",
      "списке указан",
      "bearer авторизация",
      "параметры авторизации",
      "авторизации внешнего",
      "таком случае",
      "случае marketer",
      "заголовком authorization",
      "bearer abcdefghijklmnopqrstuvwxyz",
      "abcdefghijklmnopqrstuvwxyz тестирование",
      "тестирование запросов",
      "частично произведет",
      "произведет валидацию",
      "валидацию полученных",
      "данные будут",
      "получены успешно",
      "будут удовлетворять",
      "удовлетворять формату",
      "описанному выше",
      "успешное выполнение",
      "выполнение тестового",
      "тестового запроса",
      "загрузку аудитории",
      "получить данные",
      "соответствовать требуемому",
      "запроса завершилось",
      "завершилось ошибкой",
      "ответе внешнего",
      "соответствует требуемому",
      "некоторые проверки",
      "полноты указанных",
      "указанных макросов",
      "ходе выполнения",
      "отладка рассылок",
      "указанное время",
      "необходимо скачать",
      "которые выполнял",
      "выполнял marketer",
      "загрузка журнала",
      "журнала запросов",
      "запросов аудитории",
      "скачивании журнала",
      "применить фильтры",
      "исключить ненужные",
      "ненужные данные",
      "результат представляет",
      "собой файл",
      "который описывает",
      "загрузки аудитории",
      "результаты обработки",
      "обработки полученных",
      "файла подробно",
      "подробно описан",
      "нужное время",
      "это значит",
      "рассылки запрещают",
      "запрещают начинать",
      "это время",
      "отключенном состоянии",
      "журналом запросов",
      "рассылки поле",
      "url response_json",
      "response_json response_text",
      "response_text описание",
      "описание url",
      "запроса списка",
      "ответе содержался",
      "содержался валидный",
      "валидный json",
      "ответ сервера",
      "является валидным",
      "валидным json",
      "macroses список",
      "список макросов",
      "ответа сервера",
      "success_customers duplicate_customers",
      "duplicate_customers failed_customers",
      "failed_customers error",
      "error first_date",
      "first_date last_date",
      "last_date count",
      "count список",
      "должна успешно",
      "успешно начаться",
      "список начиналась",
      "прошли валидацию",
      "согласно заданному",
      "заданному формату",
      "выполнении запроса",
      "дата запроса",
      "дата первого",
      "первого запроса",
      "дата последнего",
      "последнего запроса",
      "одинаковых ошибок",
      "журнал множеством",
      "множеством одинаковых",
      "одинаковых записей",
      "history_id идентификатор",
      "идентификатор записи"
    ]
  },
  {
    "section_id": "32_начинать_при_получении_ключевого_слова",
    "section_title": "Начинать при получении ключевого слова",
    "level": 2,
    "page_start": 56,
    "page_end": 57,
    "text": "Начинать при получении ключевого слова\nВ этом случае рассылка начинается для тех клиентов, которые отправили боту одно из\nключевых  слов.  Ключевое  слово  должно  полностью  совпадать  с  одним  из  заданных  в\nнастройках  рассылки  текстов  (см.  Рисунок  82).  В  одну  рассылку  можно  добавить  до  10\nключевых слов.\nПодобные  рассылки  могут  использоваться  в  различных  маркетинговых  кампаниях.\nНапример, маркетолог в одной из соцсетей размещает рекламный пост с предложением\nполучить  скидку  на  товары  или  услуги.  Для  этого  клиент  должен  написать  боту\nопределенное слово или фразу, например, «ХочуСкидку». Если клиент отправляет такое\nсообщение, для него начинается рассылка – автоворонка продаж.\n56\nРисунок 82 — Настройка рассылки, которая начинается по ключевым словам\nПри проверке совпадения ключевых слов есть ряд важных особенностей:\n•  Регистр букв не учитывается. Например, если в настройках рассылки будет указано\nслово «ХочуСкидку», а клиент пришлет «хочускидку», то рассылка начнется;\n•  Пробельные  символы  до  и  после  слова/фразы  не  учитываются.  Например,  если  в\nнастройках  рассылки  будет  указано  слово  «ХочуСкидку»,  а  клиент  пришлет\n«  ХочуСкидку   », то рассылка начнется;\n•  Проверяется  совпадение  всего  сообщения  целиком.  Например,  если  в  настройках\nрассылки  будет  указано  слово  «ХочуСкидку»,  а  клиент  пришлет  «ХочуСкидку,\nпожалуйста», то рассылка не начнется;\n•  Минимальная длина ключевого слова – один символ. Например, можно использовать\nсмайлик –     .\nЕсть  ограничение, что  для  каждого  ключевого  слова  может  быть  запущена  (в  активном\nрежиме) только одна рассылка. То есть запуск двух рассылок с одним ключевым словом\nневозможен. Ограничений на существование рассылок в пассивном и других режимах,\nнастроенных на начало по одному ключевому слову, нет.\nЕще одним условием начала рассылки по ключевым словам, является состояние диалога,\nв котором клиент отправляет ключевое слово. Если клиент использует ключевое слово в\nпереписке с оператором (состояние диалога active7) или ботом (состояние диалога bot),\nто  рассылка  не  начнется.  Если  ключевое  слово  будет  использовано  при  ожидании  в\nканале (состояния диалога waiting), то рассылка начнется, но клиент будет уведомлен о\nтом, что ожидание в канале прервано и он вернулся к боту. Ниже представлена Таблица\n2, описывающая поведение бота при использовании ключевых слов в разных состояниях\nдиалога.\n7  Подробнее  состояния  диалогов  описаны  в  Руководстве  оператора  в  разделе  «Приложение  Б.  Статусы\nобработки обращений»\n57\nТаблица 2 — Состояние диалога во время начала рассылки по ключевым словам\nСостояние диалога\nwaiting\nclosed\nbot\nactive\nли\nМожет\nначаться\nрассылка  по  ключевым\nсловам?\n*\n* - При использовании ключевого слова обращение к оператору будет отклонено. Клиент\nбудет уведомлен об этом и перемещен в канал bot. После этого начнется рассылка по\nключевым словам.\nЧтобы рассылка больше не начиналась для клиентов, нужно либо задать дату с временем\nокончания рассылки, либо вручную остановить рассылку или перевести ее в пассивный\nрежим.",
    "tags": [
      "начала рассылки",
      "активном режиме",
      "канал bot",
      "остановить рассылку",
      "одна рассылка",
      "рассылка начнется",
      "начнется рассылка",
      "рассылка начинает",
      "пассивный режим",
      "рассылка начинается",
      "случае рассылка",
      "настройках рассылки",
      "получении ключевого",
      "ключевого слова",
      "тех клиентов",
      "которые отправили",
      "отправили боту",
      "боту одно",
      "ключевых слов",
      "ключевое слово",
      "соцсетей размещает",
      "размещает рекламный",
      "рекламный пост",
      "предложением получить",
      "боту определенное",
      "определенное слово",
      "клиент отправляет",
      "отправляет такое",
      "такое сообщение",
      "начинается рассылка",
      "автоворонка продаж",
      "настройка рассылки",
      "которая начинается",
      "ключевым словам",
      "проверке совпадения",
      "совпадения ключевых",
      "ряд важных",
      "важных особенностей",
      "регистр букв",
      "указано слово",
      "клиент пришлет",
      "минимальная длина",
      "длина ключевого",
      "запуск двух",
      "двух рассылок",
      "одним ключевым",
      "ключевым словом",
      "словом невозможен",
      "существование рассылок",
      "других режимах",
      "одному ключевому",
      "ключевому слову",
      "одним условием",
      "условием начала",
      "является состояние",
      "состояние диалога",
      "котором клиент",
      "отправляет ключевое",
      "клиент использует",
      "использует ключевое",
      "диалога active7",
      "диалога bot",
      "состояния диалога",
      "диалога waiting",
      "канале прервано",
      "ниже представлена",
      "описывающая поведение",
      "поведение бота",
      "использовании ключевых",
      "разных состояниях",
      "состояниях диалога",
      "статусы обработки",
      "обработки обращений",
      "время начала",
      "словам состояние",
      "waiting closed",
      "closed bot",
      "bot active",
      "начаться рассылка",
      "использовании ключевого",
      "слова обращение",
      "нужно либо",
      "либо задать",
      "задать дату",
      "временем окончания",
      "окончания рассылки",
      "либо вручную",
      "вручную остановить"
    ]
  },
  {
    "section_id": "33_начинать_при_выставлении_тега",
    "section_title": "Начинать при выставлении тега",
    "level": 2,
    "page_start": 58,
    "page_end": 58,
    "text": "Начинать при выставлении тега\nВ этом случае рассылка стартует для тех клиентов, которые после ее запуска получили\nодин из заданных тегов. Если тег уже был выставлен ранее, то рассылка не стартует.\nЕсли после запуска рассылки тег был выставлен дважды, т. е. сначала выставлен, потом\nудален, а затем снова выставлен, то рассылка может прийти клиенту дважды. Может  —\nпотому что есть другая опция, регулирующая это поведение, об этом далее в подразделе\nРасширенные настройки.\nЧтобы  прекратить  запуск  рассылок  для  клиентов,  которые  получают  заданные  теги,\nнужно  остановить  рассылку  или  перевести  ее  в  пассивный  режим,  либо  задать  дату  с\nвременем окончания рассылки.",
    "tags": [
      "запуска рассылки",
      "расширенные настройки",
      "рассылка стартует",
      "случае рассылка",
      "тех клиентов",
      "временем окончания",
      "окончания рассылки",
      "выставлении тега",
      "запуска получили",
      "заданных тегов",
      "выставлен ранее",
      "рассылки тег",
      "выставлен дважды",
      "сначала выставлен",
      "затем снова",
      "снова выставлен",
      "прийти клиенту",
      "клиенту дважды",
      "другая опция",
      "регулирующая это",
      "это поведение"
    ]
  },
  {
    "section_id": "34_начинать_при_возникновении_события",
    "section_title": "Начинать при возникновении события",
    "level": 2,
    "page_start": 58,
    "page_end": 58,
    "text": "Начинать при возникновении события\nВ этом случае сценарий рассылки будет запущен  для тех клиентов, для которых после\nзапуска  рассылки  сгенерировано  внешнее  событие.  Например,  CRM  компании  может\nсгенерировать событие «Клиент совершил покупку». Информация об этом событии вместе\nс  дополнительными  аргументами  может  быть  передана  в  консоль  маркетолога,  и  для\nклиента может быть запущена специальная рассылка.\nПодробнее об этом описано в разделе Использование событий.\nЧтобы  прекратить  запуск  рассылок  для  клиентов,  для  которых  генерируются  события,\nнужно  остановить  рассылку  или  перевести  ее  в  пассивный  режим,  либо  задать  дату  с\nвременем окончания рассылки..",
    "tags": [
      "сценарий рассылки",
      "сгенерировать событие",
      "случае сценарий",
      "использование событий",
      "возникновении события",
      "тех клиентов",
      "временем окончания",
      "окончания рассылки",
      "клиент совершил",
      "совершил покупку",
      "событии вместе",
      "запущена специальная",
      "специальная рассылка"
    ]
  },
  {
    "section_id": "35_начинать_при_возникновении_события_для_заданной_аудитории",
    "section_title": "Начинать при возникновении события для заданной аудитории",
    "level": 2,
    "page_start": 58,
    "page_end": 58,
    "text": "Начинать при возникновении события для заданной аудитории\nВ  этом  случае  рассылка  стартует  при  возникновении  события,  но  не  для  заданного  в\nсобытии клиента, а для указанной в настройках рассылки целевой аудитории.\n58",
    "tags": [
      "возникновении события",
      "настройках рассылки",
      "заданной аудитории",
      "событии клиента",
      "рассылки целевой",
      "целевой аудитории"
    ]
  },
  {
    "section_id": "36_время_после_которого_рассылка_не_начнется_для_клиентов",
    "section_title": "Время, после которого рассылка не начнется для клиентов",
    "level": 1,
    "page_start": 59,
    "page_end": 60,
    "text": "Время, после которого рассылка не начнется для клиентов\nЭта  настройка  ограничивает  начало  рассылки  для  клиентов,  если  указанное  в\nнастройке  время  истекло.  Настройка  необходима  тогда,  когда  у  рассылки  есть\nограничение  в  актуальности  отправляемых  данных.  Например,  маркетолог  создает\nрассылку с акцией, которая действует до конца недели и запускает рассылку в начале\nнедели. У клиента в момент запуска рассылки может быть открыт диалог с оператором и\nдиалог  может  не  закрываться  до  конца  недели.    Если  описанная  настройка  не  будет\nиспользоваться, то клиент получит рассылку, когда акция уже закончится (т.к. рассылка\nбудет  отложена  до  завершения  диалога  с  оператором).  А  если  маркетолог  задаст\nограничение  по  времени,  то  такого  не  произойдет,  клиент  не  получит  неактуальную\nрассылку.\nРисунок 83 - Настройка ограничения времени запуска рассылки\nНастройку  можно  применить  при  любом  условии  начала  рассылки  и  новые  запуски\nрассылки прекратятся, даже если будет сгенерировано событие, или выставлен тег, или\nнаступят  другие  условия  начала  рассылки.    Это  позволяет  не  допустить  случайной\nотправки рассылки по событию или тегу после того, как рассылка потеряет актуальность.\nВажно!\nЕсли рассылка успеет начаться до установленного в настройке времени, т.е. для клиента\nвыполнится  хотя  бы  один  блок  рассылки,  то  она  будет  продолжаться  и  после  этого\nвремени. Кнопки будут работать, запланированные сообщения будут отправляться.\nПо умолчанию опция отключена, но для равномерных рассылок она присутствует всегда\nи называется по-другому: «Рассылка закончится для клиентов в» (см. Рисунок 84).\nРисунок 84 – Настройка времени окончания запусков для равномерных рассылок\n59\nВремя,  когда  запланированные  действия  рассылки  не\nвыполняются для клиента\nВ  этой  части  настроек  задаются  дни  недели  и  время,  в  которые  клиенту  не  будут\nотправляться  сообщения  и  выполняться  запланированные  действия  рассылки.  Если\nкакой-то шаг рассылки попадет на запрещенное время, то он будет отложен.\nНапример, если по сценарию рассылки клиент должен получить сообщение в 1 час ночи,\nто  отправка  сообщения  будет  отложена  до  9  утра  (при  настройках  запрещенного\nвремени по умолчанию, см. Рисунок 85).\nВремя, заданное в этой части настроек, рассчитывается в часовом поясе клиента. Т. е.\nрассылка  типа  «Начать  сразу  после  запуска  рассылки»,  запущенная  в  15:00  по\nмосковскому  времени,  не  придет  клиенту из  Владивостока сразу,  а  будет  отложена  до\n9:00 в его часовом поясе (при настройках запрещенного времени по умолчанию).\nРисунок 85 — Настройка запрещенного времени и дней недели для рассылок\nДля  информационных  рассылок  целесообразно  не  задавать  запрещенное  время,  т.  к.\nнекоторые  из  них,  например,  получение  секретных  кодов,  должны  работать  в  режиме\n24/7.\nРасширенные настройки\nДля рассылок, начинающихся по событию или тегу, группа расширенных настроек имеет\nследующий вид (см. Рисунок 86):\n60",
    "tags": [
      "запуска рассылки",
      "отправки рассылки",
      "будут отправляться",
      "клиент получит",
      "рассылки клиент",
      "сценарию рассылки",
      "сгенерировано событие",
      "открыт диалог",
      "которого рассылка",
      "расширенные настройки",
      "настройка времени",
      "часовом поясе",
      "поясе клиента",
      "ограничения времени",
      "клиент должен",
      "конца недели",
      "момент запуска",
      "получит рассылку",
      "времени запуска",
      "запланированные сообщения",
      "равномерных рассылок",
      "части настроек",
      "шаг рассылки",
      "рассылки попадет",
      "запрещенное время",
      "должен получить",
      "получить сообщение",
      "час ночи",
      "настройках запрещенного",
      "запрещенного времени",
      "владивостока сразу",
      "настройка запрещенного",
      "дней недели",
      "группа расширенных",
      "расширенных настроек",
      "настроек имеет",
      "имеет следующий",
      "следующий вид"
    ]
  },
  {
    "section_id": "37_время_когда_запланированные_действия_рассылки_не_выполняются_для_клиента",
    "section_title": "Время,  когда  запланированные  действия  рассылки  не  выполняются  для клиента",
    "level": 1,
    "page_start": 60,
    "page_end": 60,
    "text": "Время,  когда  запланированные  действия  рассылки  не\nвыполняются для клиента\nВ  этой  части  настроек  задаются  дни  недели  и  время,  в  которые  клиенту  не  будут\nотправляться  сообщения  и  выполняться  запланированные  действия  рассылки.  Если\nкакой-то шаг рассылки попадет на запрещенное время, то он будет отложен.\nНапример, если по сценарию рассылки клиент должен получить сообщение в 1 час ночи,\nто  отправка  сообщения  будет  отложена  до  9  утра  (при  настройках  запрещенного\nвремени по умолчанию, см. Рисунок 85).\nВремя, заданное в этой части настроек, рассчитывается в часовом поясе клиента. Т. е.\nрассылка  типа  «Начать  сразу  после  запуска  рассылки»,  запущенная  в  15:00  по\nмосковскому  времени,  не  придет  клиенту из  Владивостока сразу,  а  будет  отложена  до\n9:00 в его часовом поясе (при настройках запрещенного времени по умолчанию).\nРисунок 85 — Настройка запрещенного времени и дней недели для рассылок\nДля  информационных  рассылок  целесообразно  не  задавать  запрещенное  время,  т.  к.\nнекоторые  из  них,  например,  получение  секретных  кодов,  должны  работать  в  режиме\n24/7.",
    "tags": [
      "будут отправляться",
      "рассылки клиент",
      "сценарию рассылки",
      "часовом поясе",
      "поясе клиента",
      "клиент должен",
      "части настроек",
      "шаг рассылки",
      "рассылки попадет",
      "запрещенное время",
      "должен получить",
      "получить сообщение",
      "час ночи",
      "настройках запрещенного",
      "запрещенного времени",
      "владивостока сразу",
      "настройка запрещенного",
      "дней недели"
    ]
  },
  {
    "section_id": "38_расширенные_настройки",
    "section_title": "Расширенные настройки",
    "level": 1,
    "page_start": 60,
    "page_end": 60,
    "text": "Расширенные настройки\nДля рассылок, начинающихся по событию или тегу, группа расширенных настроек имеет\nследующий вид (см. Рисунок 86):\n60\nРисунок 86 — Расширенные настройки для рассылок, начинающихся по событию или по тегу\nДля  рассылок  с  фиксированной  аудиторией  группа  расширенных  настроек  имеет\nследующий вид (см. Рисунок 87):\nРисунок 87 — Расширенные настройки для рассылок с фиксированной аудиторией\nПримечание:\nПодробнее о типах аудитории см. в разделе",
    "tags": [
      "фиксированной аудиторией",
      "расширенные настройки",
      "группа расширенных",
      "расширенных настроек",
      "настроек имеет",
      "имеет следующий",
      "следующий вид"
    ]
  },
  {
    "section_id": "39_определение_аудитории",
    "section_title": "Определение аудитории",
    "level": 0,
    "page_start": 64,
    "page_end": 71,
    "text": "Определение аудитории\nАудитория  рассылки  может  быть  фиксированной  или  динамической.  Тип  аудитории\nопределяется условиями начала рассылки (см. таблицу 3).\nТаблица 3 — Определение типа аудитории в зависимости от условий начала рассылки\nФиксированная аудитория\nДинамическая аудитория\n•  Начинать\nрассылки\nсразу\nпосле\nзапуска\n•  Начинать в заданное время\n•  Начинать\nв\nзаданное\nи\nотправлять  равномерно  (аудитория  из\nвнешней системы)\nвремя\n•  Начинать\nв\nотправлять равномерно\nзаданное\nвремя\nи\n•  Начинать при выставлении тега\n•  Начинать при возникновении события\n•  Начинать  при  возникновении  события\n•  Начинать  при  получении  ключевого\nдля заданной аудитории\nслова\nДинамическая  аудитория  формируется  в  ходе  рассылки  —  по  мере  того,  как\nвыставляются теги, генерируются события или клиент отправляет ключевое слово. Как-\nто ограничить ее нельзя.\nФиксированная аудитория  задается  до  первого  запуска  рассылки  (в  состоянии  «Не\nзапущена»,  см.  раздел  Возможные  состояния  рассылки).  После  запуска  рассылки\nизменить  аудиторию  полностью  или  удалить  одного  из  клиентов  нельзя.  При\nнеобходимости  запуска  на  другую  аудиторию  клиентов  рассылку  необходимо\nклонировать,  затем  задать  новую  аудиторию,  см.  подробнее  в  разделе  Изменение\nусловий начала и аудитории для запущенной рассылки.\nКроме того, для рассылок с фиксированной аудиторией (не по событию) возможен только\nодин  запуск  рассылки.  После  того,  как  рассылка  будет  запущена  и  начнется  для  всех\nклиентов,  она  перейдет  в  пассивный  режим.  Начать  ее  заново  (перевести  в  активный\nрежим)  нельзя:  при  попытке  выполнить  такую  операцию  бот  увидит,  что  рассылка  уже\nначалась  для  всей  аудитории,  необработанных  клиентов  нет,  и  переведет  ее  опять  в\nпассивный режим.\n64\nПримечание:\nВ  зависимости  от  условий  начала рассылки  по-разному  наступает событие  Start. Если\nаудитория  рассылки  фиксирована,  то  событие  Start  происходит  для  всех  клиентов\nодновременно  в  заданное  время  или  сразу  после  запуска  рассылки,  или  по  событию.\nЕсли  аудитория  рассылки  не  фиксирована,  то  событие  Start  происходит  при\nвозникновении внешнего события, при выставлении клиенту тега или отправке клиентом\nключевого слова боту.\nФиксированная  аудитория  рассылки  задается  на  вкладке  «Целевая  аудитория»  (см.\nРисунок 89). Существует два способа добавления фиксированной аудитории в рассылку:\nс помощью файлов в формате JSON и CSV.\nРисунок 89 — Вкладка «Целевая аудитория»\nФормат файлов JSON\nФормат JSON-файла с целевой аудиторией рассылки:\n{\n\"customers\": [\n{\n\"id\": <идентификатор клиента в Maxbot>,\n\"phone\": <телефон>,\n\"messengers_order\": <порядок следования мессенджеров>,\n\"timezone\": <часовой пояс клиента>,\n\"failback_to_sms\": <признак отправки SMS>,\n\"customer_data\": {\n\"<название макроса>\": \"<значение макроса>\"\n}\n}\n],\n\"macroses\": [\n{\n}\n\"name\": <название макроса>,\n\"type\": <тип макроса>\n65\n]\n}\nТаблица 4 — Описание полей JSON-файла описания аудитории рассылки\nПоле\ncustomers[]\ncustomers[].id\nОписание\nПример использования\nМассив клиентов, описание\nполей каждого клиента\nприведено ниже.\nВнутренний идентификатор\nклиента в Maxbot. Получить его\nможно, скачав в разделе\nВыгрузка аудитории файл с\nклиентами для выбранного бота.\n—\n12345\ncustomers[].phone\nТелефон клиента в формате\n\"7xxxxxxxxxx\" без + и 8.\n\"79999999999\"\n[\"telegram\", \"vkontakte\",\n\"facebook*\"]\n\"Europe/Moscow\"\n\"Etc/GMT+3\"\n\"Japan\"\n\"UTC\"\nfalse или true\ncustomers[].messengers_order  Список мессенджеров по\ncustomers[].timezone\nприоритету. Возможные\nзначения: telegram, viber,\nvkontakte, facebook*, Instagram*.\nЧасовой пояс клиента (см.\nПриложение А).\ncustomers[].failback_to_sms  Логический признак: отправлять\nли SMS клиенту, если он еще не\nподтвердил номер телефона ни\nв одном из мессенджеров. Для\nприменения этого признака\nдолжен быть задан телефон\n(phone). Необязательное поле,\nпо умолчанию false.\nЕсли failback_to_sms = true и\nклиент не подтвердил номер\nтелефона, то ему будут\nотправлены заданные в\nрассылке SMS. Если\nfailback_to_sms = false, и клиент\nне подтвердил номер телефона,\nто клиент не будет добавлен в\nаудиторию рассылки.\nЕсли клиент уже подтвердил\nуказанный номер телефона, то\nпо номеру будет определен id,\nкоторому и будет отправлена\nрассылка в соответствии с\nзаданным приоритетом\nмессенджеров.\nДля принудительной отправки\nSMS клиенту можно задать поле\n66\nПоле\ncustomers[].customer_data\nПример использования\n\"name\": \"Mark\"\nОписание\nmessengers_order пустым и\nвыставить failback_to_sms = True.\nТогда клиент получит SMS даже\nесли уже подтвердил номер\nтелефона в мессенджерах.\nЗначения макросов клиента (см.\nподробнее о макросах в\nразделе Использование\nмакросов), задаются в виде пар\nзначений «имя макроса» :\n«значение макроса».\nmacroses[]\nmacroses[].name\nmacroses[].type\nМассив описаний макросов.\n—\nНазвание макроса.\n\"name\"\nТип макроса (см. Приложение Б).  \"string\"\nДля каждого клиента должен быть задан:\n•\nid\nлибо\n•  phone и messengers_order\nлибо\n•  только phone (если нужно принудительно отправить SMS).\nЕсли заданы все три поля, то приоритет имеет id.\nПример JSON-файла:\n{\n\"customers\": [\n{\n\"id\": 125241,\n\"timezone\": \"Europe/Moscow\",\n\"customer_data\": {\n\"name\": \"John\"\n}\n},\n{\n\"phone\": \"79999999999\",\n\"messengers_order\": [\"telegram\", \"vkontakte\", \"facebook*\"],\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": true,\n\"customer_data\": {\n\"name\": \"Mark\"\n}\n67\n}\n],\n\"macroses\": [\n{\n}\n\"name\": \"name\",\n\"type\": \"string\"\n]\n}\nВ  указанном  примере  заданы  два  получателя  рассылки.  Первый  задается  по\nидентификатору в Maxbot (id), второй — по номеру телефона и приоритету мессенджеров\n(phone + messengers_order).\nФормат файлов CSV\nCSV-файл имеет следующий заголовок:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;macros_name1:macros_type1;…;\nmacros_nameN:macros_typeN\nCSV-файл с аудиторией рассылки обязательно должен:\n•  иметь кодировку UTF8;\n•  содержать заголовок, подобный описанному выше;\n•  использовать в качестве разделителя символ ';'.\nТаблица 5 — Описание полей CSV-файла описания аудитории рассылки\nПоле\nОписание\nПример\nиспользования\ncustomer_id\nphone\nmessengers_order\nfailback_to_sms\nВнутренний идентификатор клиента\nв Maxbot (аналог id в JSON).\n12345\nТелефон\n7xxxxxxxxxx без + и 8.\nклиента\nв  формате\n79999999999\nмессенджеров,\nПриоритет\nаналогично  формату  JSON,  но\nзадается без кавычек и скобок\ntelegram,\nfacebook*, viber\nvkontakte,\nЛогический  признак:  отправлять  ли\nSMS  клиенту,  если  он  еще  не\nподтвердил  номер  телефона  ни  в\nмессенджеров.\nиз\nодном\nАналогично формату JSON.\nfalse или true\n68\nПоле\nОписание\nПример\nиспользования\ntimezone\nЧасовой\nПриложение А).\nпояс\nклиента\n(см.\nEurope/Moscow\nmacros_name:macros_type  Произвольное количество столбцов,\nсодержащих  значения  макросов\nдля  клиентов.  В  названии  столбца\nзадается и название макроса, и его\nтип.\nname:string\nprice:decimal\nПример CSV-файла:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;name:string\n;79999999999; viber, telegram, vkontakte, facebook*;true;Europe/Moscow;Sergey\n96555;;;true;Europe/Moscow;Max.Expert\nВ  приведенном  примере  задано  два  получателя  рассылки.  Первый  задан  по  номеру\nтелефона  и  приоритету  мессенджеров  (phone  +  messengers_order),  второй  —  по\nидентификатору в Maxbot (customer_id).\nЭкспорт ошибок при загрузке фиксированной аудитории в\nрассылку\nПри загрузке фиксированной аудитории в рассылку могут возникнуть различные ошибки.\nНапример, может быть указан неверный идентификатор клиента или один клиент может\nбыть  указан  несколько раз  (см. Рисунок 90).  При  помощи\nможно  раскрыть данные о\nклиентах,  при  загрузке  которых  произошла  та  или  иная  ошибка.  Но  если  аудитория\nрассылки  велика,  то  удобнее  скачать  CSV-файл  с  данными  клиентов,  при  загрузке\nкоторых произошла ошибка.\nРисунок 90 — Пример загрузки данных аудитории рассылки с ошибками\n69\nПри нажатии на кнопку «Скачать  CSV с ошибками в аудитории» будет загружен файл с\nидентификаторами «проблемных» клиентов (см. Рисунок 91):\nРисунок 91 — Файл с идентификаторами клиентов, при загрузке которых произошла ошибка\nПри  загрузке  аудитории  рассылки  также  выполняется  проверка  значений  макросов,\nзаданных  для  клиентов.  Например,  на  рисунке  ниже  импортируется  файл,  где  для\nмакроса с типом boolean (логический) заданы ошибочные значения (см. Рисунок 92).\nРисунок 92 — Файл с ошибочными значениями макросов клиентов\nПри импорте такого файла будет отображено окно с описанием количества найденных\nошибок и указания типа ошибки (см. Рисунок 93).\nРисунок 93 — Пример загрузки данных аудитории рассылки с ошибками в макросах\n70\nЭкспорт статической аудитории рассылок\nУ рассылок со статической аудиторией (как обычных, так и начинающихся по событию)\nесть  возможность  скачать  аудиторию.  Эта  функция  может  быть  полезна  для  переноса\nаудитории в другую рассылку или для анализа успешности отправки рассылки.\nДля  этого  в  разделе  «Целевая  аудитория»  рассылки  необходимо  нажать  на  кнопку\n«Скачать» (см. Рисунок 94):\nРисунок 94 — Переход к загрузке аудитории рассылки\nПосле  этого  будет  открыто  окно  (см.  Рисунок  97),  где  можно  задать  опцию  «Добавить\nинформацию о статусе отправки для каждого клиента».\nРисунок 95 — Загрузка аудитории рассылки\nПосле  нажатия  на  кнопку  «Скачать»  будет  получен  файл  с  аудиторией  рассылки  в\nформате CSV, поля которого идентичны8 полям загружаемого файла в том же формате.\nЕсли была установлена опция «Добавить информацию о статусе отправки для каждого\nклиента», то в файл будет добавлен столбец «send_status», содержащий один из статусов\nотправки  рассылки  для  клиента.  Возможные  значения  поля  send_status  описаны  в\nдокументации  к  API  консоли  маркетолога.  Также  это  поле  может  быть  пустым  –  это\nозначает, что еще не совершалось попыток начать рассылку для этого клиента.\n8 За исключением случая, когда макрос не используется в рассылке. В этом случае исходный тип макроса\nможет быть потерян – в экспортируемом файле такие макросы всегда будут иметь тип string.\n71",
    "tags": [
      "каждого клиента",
      "аудитория рассылки",
      "начала рассылки",
      "аудитории рассылки",
      "внешнего события",
      "условий начала",
      "целевая аудитория",
      "фиксированной аудиторией",
      "определение аудитории",
      "статусов отправки",
      "отправки рассылки",
      "заданное время",
      "внешней системы",
      "использование макросов",
      "тип макрос",
      "клиент получит",
      "ссылку могут",
      "фиксированная аудитория",
      "возникновении события",
      "формате json",
      "произвольное количество",
      "изменение условий",
      "запущенной рассылки",
      "рассылки сразу",
      "пассивный режим",
      "отправлять равномерно",
      "начать рассылку",
      "фиксированной аудитории",
      "формат файлов",
      "файлов json",
      "описанному выше",
      "рассылки поле",
      "это означает",
      "ключевого слова",
      "ключевое слово",
      "клиент отправляет",
      "отправляет ключевое",
      "выставлении тега",
      "генерируются события",
      "заданной аудитории",
      "имеет следующий",
      "определяется условиями",
      "аудитория динамическая",
      "динамическая аудитория",
      "равномерно заданное",
      "активный режим",
      "аудиторией рассылки",
      "идентификатор клиента",
      "phone телефон",
      "timezone часовой",
      "часовой пояс",
      "пояс клиента",
      "отправки sms",
      "название макроса",
      "значение макроса",
      "тип макроса",
      "описание полей",
      "файла описания",
      "описания аудитории",
      "поле customers",
      "внутренний идентификатор",
      "выгрузка аудитории",
      "выбранного бота",
      "телефон клиента",
      "список мессенджеров",
      "возможные значения",
      "viber vkontakte",
      "логический признак",
      "sms клиенту",
      "подтвердил номер",
      "номер телефона",
      "будут отправлены",
      "рассылке sms",
      "аудиторию рассылки",
      "указанный номер",
      "отправлена рассылка",
      "принудительной отправки",
      "задать поле",
      "messengers_order пустым",
      "выставить failback_to_sms",
      "получит sms",
      "значения макросов",
      "phone messengers_order",
      "отправить sms",
      "номеру телефона",
      "приоритету мессенджеров",
      "customer_id phone",
      "messengers_order failback_to_sms",
      "поле описание",
      "аналогично формату",
      "формату json",
      "использования timezone",
      "часовой приложение",
      "moscow macros_name",
      "количество столбцов",
      "макросов клиентов",
      "столбца задается",
      "string price",
      "sergey 96555",
      "экспорт ошибок",
      "загрузке фиксированной",
      "рассылку могут",
      "могут возникнуть",
      "возникнуть различные",
      "различные ошибки",
      "указан неверный",
      "неверный идентификатор",
      "раскрыть данные",
      "загрузке которых",
      "которых произошла",
      "произошла ошибка",
      "загрузки данных",
      "данных аудитории",
      "загрузке аудитории",
      "статической аудиторией",
      "добавить информацию",
      "статусе отправки",
      "формате csv",
      "попыток начать",
      "тип string",
      "sms клиент"
    ]
  },
  {
    "section_id": "40_формат_файлов_json",
    "section_title": "Формат файлов JSON",
    "level": 1,
    "page_start": 65,
    "page_end": 67,
    "text": "Формат файлов JSON\nФормат JSON-файла с целевой аудиторией рассылки:\n{\n\"customers\": [\n{\n\"id\": <идентификатор клиента в Maxbot>,\n\"phone\": <телефон>,\n\"messengers_order\": <порядок следования мессенджеров>,\n\"timezone\": <часовой пояс клиента>,\n\"failback_to_sms\": <признак отправки SMS>,\n\"customer_data\": {\n\"<название макроса>\": \"<значение макроса>\"\n}\n}\n],\n\"macroses\": [\n{\n}\n\"name\": <название макроса>,\n\"type\": <тип макроса>\n65\n]\n}\nТаблица 4 — Описание полей JSON-файла описания аудитории рассылки\nПоле\ncustomers[]\ncustomers[].id\nОписание\nПример использования\nМассив клиентов, описание\nполей каждого клиента\nприведено ниже.\nВнутренний идентификатор\nклиента в Maxbot. Получить его\nможно, скачав в разделе\nВыгрузка аудитории файл с\nклиентами для выбранного бота.\n—\n12345\ncustomers[].phone\nТелефон клиента в формате\n\"7xxxxxxxxxx\" без + и 8.\n\"79999999999\"\n[\"telegram\", \"vkontakte\",\n\"facebook*\"]\n\"Europe/Moscow\"\n\"Etc/GMT+3\"\n\"Japan\"\n\"UTC\"\nfalse или true\ncustomers[].messengers_order  Список мессенджеров по\ncustomers[].timezone\nприоритету. Возможные\nзначения: telegram, viber,\nvkontakte, facebook*, Instagram*.\nЧасовой пояс клиента (см.\nПриложение А).\ncustomers[].failback_to_sms  Логический признак: отправлять\nли SMS клиенту, если он еще не\nподтвердил номер телефона ни\nв одном из мессенджеров. Для\nприменения этого признака\nдолжен быть задан телефон\n(phone). Необязательное поле,\nпо умолчанию false.\nЕсли failback_to_sms = true и\nклиент не подтвердил номер\nтелефона, то ему будут\nотправлены заданные в\nрассылке SMS. Если\nfailback_to_sms = false, и клиент\nне подтвердил номер телефона,\nто клиент не будет добавлен в\nаудиторию рассылки.\nЕсли клиент уже подтвердил\nуказанный номер телефона, то\nпо номеру будет определен id,\nкоторому и будет отправлена\nрассылка в соответствии с\nзаданным приоритетом\nмессенджеров.\nДля принудительной отправки\nSMS клиенту можно задать поле\n66\nПоле\ncustomers[].customer_data\nПример использования\n\"name\": \"Mark\"\nОписание\nmessengers_order пустым и\nвыставить failback_to_sms = True.\nТогда клиент получит SMS даже\nесли уже подтвердил номер\nтелефона в мессенджерах.\nЗначения макросов клиента (см.\nподробнее о макросах в\nразделе Использование\nмакросов), задаются в виде пар\nзначений «имя макроса» :\n«значение макроса».\nmacroses[]\nmacroses[].name\nmacroses[].type\nМассив описаний макросов.\n—\nНазвание макроса.\n\"name\"\nТип макроса (см. Приложение Б).  \"string\"\nДля каждого клиента должен быть задан:\n•\nid\nлибо\n•  phone и messengers_order\nлибо\n•  только phone (если нужно принудительно отправить SMS).\nЕсли заданы все три поля, то приоритет имеет id.\nПример JSON-файла:\n{\n\"customers\": [\n{\n\"id\": 125241,\n\"timezone\": \"Europe/Moscow\",\n\"customer_data\": {\n\"name\": \"John\"\n}\n},\n{\n\"phone\": \"79999999999\",\n\"messengers_order\": [\"telegram\", \"vkontakte\", \"facebook*\"],\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": true,\n\"customer_data\": {\n\"name\": \"Mark\"\n}\n67\n}\n],\n\"macroses\": [\n{\n}\n\"name\": \"name\",\n\"type\": \"string\"\n]\n}\nВ  указанном  примере  заданы  два  получателя  рассылки.  Первый  задается  по\nидентификатору в Maxbot (id), второй — по номеру телефона и приоритету мессенджеров\n(phone + messengers_order).",
    "tags": [
      "каждого клиента",
      "аудитории рассылки",
      "использование макросов",
      "тип макрос",
      "клиент получит",
      "формат файлов",
      "файлов json",
      "рассылки поле",
      "аудиторией рассылки",
      "идентификатор клиента",
      "phone телефон",
      "часовой пояс",
      "пояс клиента",
      "отправки sms",
      "название макроса",
      "значение макроса",
      "тип макроса",
      "описание полей",
      "файла описания",
      "описания аудитории",
      "поле customers",
      "внутренний идентификатор",
      "выгрузка аудитории",
      "выбранного бота",
      "телефон клиента",
      "список мессенджеров",
      "возможные значения",
      "логический признак",
      "sms клиенту",
      "подтвердил номер",
      "номер телефона",
      "будут отправлены",
      "рассылке sms",
      "аудиторию рассылки",
      "указанный номер",
      "отправлена рассылка",
      "принудительной отправки",
      "задать поле",
      "messengers_order пустым",
      "выставить failback_to_sms",
      "получит sms",
      "значения макросов",
      "отправить sms",
      "номеру телефона",
      "приоритету мессенджеров",
      "sms клиент"
    ]
  },
  {
    "section_id": "41_формат_файлов_csv",
    "section_title": "Формат файлов CSV",
    "level": 1,
    "page_start": 68,
    "page_end": 69,
    "text": "Формат файлов CSV\nCSV-файл имеет следующий заголовок:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;macros_name1:macros_type1;…;\nmacros_nameN:macros_typeN\nCSV-файл с аудиторией рассылки обязательно должен:\n•  иметь кодировку UTF8;\n•  содержать заголовок, подобный описанному выше;\n•  использовать в качестве разделителя символ ';'.\nТаблица 5 — Описание полей CSV-файла описания аудитории рассылки\nПоле\nОписание\nПример\nиспользования\ncustomer_id\nphone\nmessengers_order\nfailback_to_sms\nВнутренний идентификатор клиента\nв Maxbot (аналог id в JSON).\n12345\nТелефон\n7xxxxxxxxxx без + и 8.\nклиента\nв  формате\n79999999999\nмессенджеров,\nПриоритет\nаналогично  формату  JSON,  но\nзадается без кавычек и скобок\ntelegram,\nfacebook*, viber\nvkontakte,\nЛогический  признак:  отправлять  ли\nSMS  клиенту,  если  он  еще  не\nподтвердил  номер  телефона  ни  в\nмессенджеров.\nиз\nодном\nАналогично формату JSON.\nfalse или true\n68\nПоле\nОписание\nПример\nиспользования\ntimezone\nЧасовой\nПриложение А).\nпояс\nклиента\n(см.\nEurope/Moscow\nmacros_name:macros_type  Произвольное количество столбцов,\nсодержащих  значения  макросов\nдля  клиентов.  В  названии  столбца\nзадается и название макроса, и его\nтип.\nname:string\nprice:decimal\nПример CSV-файла:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;name:string\n;79999999999; viber, telegram, vkontakte, facebook*;true;Europe/Moscow;Sergey\n96555;;;true;Europe/Moscow;Max.Expert\nВ  приведенном  примере  задано  два  получателя  рассылки.  Первый  задан  по  номеру\nтелефона  и  приоритету  мессенджеров  (phone  +  messengers_order),  второй  —  по\nидентификатору в Maxbot (customer_id).\nЭкспорт ошибок при загрузке фиксированной аудитории в\nрассылку\nПри загрузке фиксированной аудитории в рассылку могут возникнуть различные ошибки.\nНапример, может быть указан неверный идентификатор клиента или один клиент может\nбыть  указан  несколько раз  (см. Рисунок 90).  При  помощи\nможно  раскрыть данные о\nклиентах,  при  загрузке  которых  произошла  та  или  иная  ошибка.  Но  если  аудитория\nрассылки  велика,  то  удобнее  скачать  CSV-файл  с  данными  клиентов,  при  загрузке\nкоторых произошла ошибка.\nРисунок 90 — Пример загрузки данных аудитории рассылки с ошибками\n69",
    "tags": [
      "аудитория рассылки",
      "аудитории рассылки",
      "ссылку могут",
      "произвольное количество",
      "фиксированной аудитории",
      "формат файлов",
      "описанному выше",
      "рассылки поле",
      "имеет следующий",
      "аудиторией рассылки",
      "идентификатор клиента",
      "timezone часовой",
      "пояс клиента",
      "название макроса",
      "описание полей",
      "файла описания",
      "описания аудитории",
      "внутренний идентификатор",
      "viber vkontakte",
      "phone messengers_order",
      "номеру телефона",
      "customer_id phone",
      "messengers_order failback_to_sms",
      "поле описание",
      "аналогично формату",
      "формату json",
      "использования timezone",
      "часовой приложение",
      "moscow macros_name",
      "количество столбцов",
      "столбца задается",
      "string price",
      "sergey 96555",
      "экспорт ошибок",
      "загрузке фиксированной",
      "рассылку могут",
      "могут возникнуть",
      "возникнуть различные",
      "различные ошибки",
      "указан неверный",
      "неверный идентификатор",
      "раскрыть данные",
      "загрузке которых",
      "которых произошла",
      "произошла ошибка",
      "загрузки данных",
      "данных аудитории"
    ]
  },
  {
    "section_id": "42_экспорт_ошибок_при_загрузке_фиксированной_аудитории_в_рассылку",
    "section_title": "Экспорт ошибок при загрузке фиксированной аудитории в рассылку",
    "level": 1,
    "page_start": 69,
    "page_end": 70,
    "text": "Поле\nОписание\nПример\nиспользования\ntimezone\nЧасовой\nПриложение А).\nпояс\nклиента\n(см.\nEurope/Moscow\nmacros_name:macros_type  Произвольное количество столбцов,\nсодержащих  значения  макросов\nдля  клиентов.  В  названии  столбца\nзадается и название макроса, и его\nтип.\nname:string\nprice:decimal\nПример CSV-файла:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;name:string\n;79999999999; viber, telegram, vkontakte, facebook*;true;Europe/Moscow;Sergey\n96555;;;true;Europe/Moscow;Max.Expert\nВ  приведенном  примере  задано  два  получателя  рассылки.  Первый  задан  по  номеру\nтелефона  и  приоритету  мессенджеров  (phone  +  messengers_order),  второй  —  по\nидентификатору в Maxbot (customer_id).\nЭкспорт ошибок при загрузке фиксированной аудитории в\nрассылку\nПри загрузке фиксированной аудитории в рассылку могут возникнуть различные ошибки.\nНапример, может быть указан неверный идентификатор клиента или один клиент может\nбыть  указан  несколько раз  (см. Рисунок 90).  При  помощи\nможно  раскрыть данные о\nклиентах,  при  загрузке  которых  произошла  та  или  иная  ошибка.  Но  если  аудитория\nрассылки  велика,  то  удобнее  скачать  CSV-файл  с  данными  клиентов,  при  загрузке\nкоторых произошла ошибка.\nРисунок 90 — Пример загрузки данных аудитории рассылки с ошибками\n69\nПри нажатии на кнопку «Скачать  CSV с ошибками в аудитории» будет загружен файл с\nидентификаторами «проблемных» клиентов (см. Рисунок 91):\nРисунок 91 — Файл с идентификаторами клиентов, при загрузке которых произошла ошибка\nПри  загрузке  аудитории  рассылки  также  выполняется  проверка  значений  макросов,\nзаданных  для  клиентов.  Например,  на  рисунке  ниже  импортируется  файл,  где  для\nмакроса с типом boolean (логический) заданы ошибочные значения (см. Рисунок 92).\nРисунок 92 — Файл с ошибочными значениями макросов клиентов\nПри импорте такого файла будет отображено окно с описанием количества найденных\nошибок и указания типа ошибки (см. Рисунок 93).\nРисунок 93 — Пример загрузки данных аудитории рассылки с ошибками в макросах\n70",
    "tags": [
      "аудитория рассылки",
      "аудитории рассылки",
      "ссылку могут",
      "произвольное количество",
      "фиксированной аудитории",
      "идентификатор клиента",
      "timezone часовой",
      "пояс клиента",
      "название макроса",
      "номеру телефона",
      "поле описание",
      "использования timezone",
      "часовой приложение",
      "moscow macros_name",
      "количество столбцов",
      "макросов клиентов",
      "столбца задается",
      "string price",
      "sergey 96555",
      "экспорт ошибок",
      "загрузке фиксированной",
      "рассылку могут",
      "могут возникнуть",
      "возникнуть различные",
      "различные ошибки",
      "указан неверный",
      "неверный идентификатор",
      "раскрыть данные",
      "загрузке которых",
      "которых произошла",
      "произошла ошибка",
      "загрузки данных",
      "данных аудитории"
    ]
  },
  {
    "section_id": "43_экспорт_статической_аудитории_рассылок",
    "section_title": "Экспорт статической аудитории рассылок",
    "level": 1,
    "page_start": 71,
    "page_end": 71,
    "text": "Экспорт статической аудитории рассылок\nУ рассылок со статической аудиторией (как обычных, так и начинающихся по событию)\nесть  возможность  скачать  аудиторию.  Эта  функция  может  быть  полезна  для  переноса\nаудитории в другую рассылку или для анализа успешности отправки рассылки.\nДля  этого  в  разделе  «Целевая  аудитория»  рассылки  необходимо  нажать  на  кнопку\n«Скачать» (см. Рисунок 94):\nРисунок 94 — Переход к загрузке аудитории рассылки\nПосле  этого  будет  открыто  окно  (см.  Рисунок  97),  где  можно  задать  опцию  «Добавить\nинформацию о статусе отправки для каждого клиента».\nРисунок 95 — Загрузка аудитории рассылки\nПосле  нажатия  на  кнопку  «Скачать»  будет  получен  файл  с  аудиторией  рассылки  в\nформате CSV, поля которого идентичны8 полям загружаемого файла в том же формате.\nЕсли была установлена опция «Добавить информацию о статусе отправки для каждого\nклиента», то в файл будет добавлен столбец «send_status», содержащий один из статусов\nотправки  рассылки  для  клиента.  Возможные  значения  поля  send_status  описаны  в\nдокументации  к  API  консоли  маркетолога.  Также  это  поле  может  быть  пустым  –  это\nозначает, что еще не совершалось попыток начать рассылку для этого клиента.\n8 За исключением случая, когда макрос не используется в рассылке. В этом случае исходный тип макроса\nможет быть потерян – в экспортируемом файле такие макросы всегда будут иметь тип string.\n71",
    "tags": [
      "каждого клиента",
      "аудитории рассылки",
      "статусов отправки",
      "отправки рассылки",
      "тип макрос",
      "начать рассылку",
      "это означает",
      "тип макроса",
      "загрузке аудитории",
      "статической аудиторией",
      "добавить информацию",
      "статусе отправки",
      "формате csv",
      "попыток начать",
      "тип string"
    ]
  },
  {
    "section_id": "44_запуск_перезапуск_и_остановка_рассылок",
    "section_title": "Запуск, перезапуск и остановка рассылок",
    "level": 0,
    "page_start": 72,
    "page_end": 75,
    "text": "Запуск, перезапуск и остановка рассылок\nВозможные состояния рассылки\nЛюбая рассылка может находиться в одном из 4-й состояний:\n•  «Не  запущена»  —  состояние  рассылки с момента создания  и  до  первого  запуска. В\nэтом  состоянии  пользователь  (маркетолог)  разрабатывает  сценарий  рассылки,\nзадает основные настройки и аудиторию.\n•  «Включена в активном режиме» — в это состояние рассылка переходит поле запуска.\nВ  зависимости  от  настроек условий  начала  рассылки  она  начнет  выполняться  либо\nсразу, либо при появлении события или тега у клиента, либо при получении ключевого\nслова от клиента в мессенджере.\n•  «Включена  в  пассивном  режиме»  —  в  этом  состоянии  выполняются  сценарии\nрассылок, начавшиеся в активном режиме, но не запускаются новые.\nЕсли  рассылка  для  фиксированной  аудитории  началась  не  для  всех  клиентов,  то\nпродолжаться она будет только для тех, для кого началась, а для оставшихся она уже\nне начнется.\nЕсли рассылка настроена на начало по событию, при выставлении тега клиенту или\nпри получении ключевого слова, то начавшиеся ранее (в активном режиме) сценарии\nбудут  продолжать  выполняться.  Но  при  появлении  новых  событий  или  выставлении\nтегов  или  получении  ключевых  слов  рассылка  начинаться  не  будет.  Это  состояние\nнужно для того, чтобы дать отработать рассылке для клиентов, для которых она уже\nначалась, но не порождать новые запуски.\n•  «Отключена»  —  в  этом  состоянии  рассылка  не  начинается  для  новых  клиентов  и  не\nпродолжается для тех, для кого она была начата ранее. Иными словами, клиенты не\nполучают  новые  сообщения  рассылки,  а  нажатия  на  кнопки  в  ранее  полученных\nсообщениях  не  обрабатываются.  Это  состояние  нужно  для  полного  прекращения\nрассылки.\nПредполагается,  что  основные  настройки  рассылки  маркетолог  должен  выполнять  в\nсостоянии  «Не  запущена»,  в  котором  допускается  изменение  любых  опций.  После\nзапуска  рассылки  изменение  некоторых  настроек  становится  невозможным\n(см.\nтаблицу 6).\nТаблица 6 — Возможности внесения изменений в рассылку в зависимости от ее состояния\nСостояние\nИконка  Изменение\nсценария\nИзменение\nусловий\nначала\nИзменение\nаудитории\nИзменение\nрасширенных\nнастроек\nНе запущена\nВключена в активном\nрежиме\n+\n+\n+\n—\n+\n—\n+\n+\n72\nСостояние\nИконка  Изменение\nсценария\nИзменение\nусловий\nначала\nИзменение\nаудитории\nИзменение\nрасширенных\nнастроек\nВключена в\nпассивном режиме\nОтключена\n+\n+\n—\n—\n—\n—\n+\n+\nНапример,  если рассылка  включена  в активном  или  пассивном  режимах,  то  изменение\nусловий начала (см. Рисунок 96) или аудитории (см. Рисунок 97) будет невозможно.\nРисунок 96 — Невозможно изменить условия начала для включенной в активном/пассивном\nрежиме рассылки\nРисунок 97 — Невозможно изменить аудиторию для включенной в активном/пассивном режиме\nрассылки\nМожно  также  заметить,  что  в  состоянии  «Отключена»  можно  изменять  сценарий  и\nнастройки рассылки. Тем не менее, эти изменения не оказывают никакого воздействия на\nклиентов,  которым  эта  рассылка  была  отправлена  ранее,  т. к.  действие  рассылки  в\nсостоянии «Отключена» полностью прекращено.\nЗапуск рассылки\nДля  запуска  рассылки  необходимо  вызвать  меню  нажатием  на  иконку\nрассылок или в окне просмотра рассылки).\n(в  списке\n73\nРисунок 98 — Запуск рассылки\nДля рассылок с фиксированной аудиторией (не по событию) возможен только один запуск\nрассылки. После того, как рассылка будет запущена и начнется для всех клиентов, она\nперейдет в пассивный режим. Начать ее заново (перевести в активный режим) нельзя: при\nпопытке  выполнить  такую  операцию  бот  увидит,  что  рассылка  уже  началась  для  всей\nаудитории, необработанных клиентов нет, и переведет ее опять в пассивный режим.\nРассылки,  начинающиеся  по  событию,  по  тегу  или  по  ключевым  словам,  можно\nпереводить  в  активный  режим  и  из  него  во  все  состояния  кроме  «Не  запущена»\nпроизвольное количество раз.\nЗапуск  нескольких  экземпляров  одной  рассылки  для\nодного клиента\nПри старте более чем одного экземпляра одной рассылки для одного клиента работать\nв соответствии со сценарием рассылки будет только последний запущенный экземпляр.\nВсе  остальные  (предыдущие)  отключаются:  при  этом  отключается  работа  кнопок,\nотключается отправка запланированных сообщений.\nИными словами, при повторных запусках рассылки одному и тому же клиенту работает\nтолько  последний.  Во  всех  предыдущих  нажатия  кнопок  не  обрабатываются,\nзапланированные сообщения не отправляются.\nНапример, клиенту отправлена рассылка, изображенная ниже (см. Рисунок 99).\nРисунок 99 — Пример рассылки\n74\nПосле  запуска  второго  экземпляра  этой  же  рассылки  для  клиента  кнопка  из  первого\n«Подробнее»  из  первого  запуска  работать  не  будет,  а  отправка  запланированного\nсообщения будет отменена.\nРедактирование сценария рассылки без ее остановки\nИзменение сценария запущенной рассылки возможно как в активном, так и в пассивном\nсостоянии. При этом изменения применяются не сразу по результатам редактирования\nв  окне  просмотра\nмаркетологом,  а  только  при  нажатии  на  специальную  кнопку\nрассылки (см. Рисунок 100). Это сделано для того, чтобы промежуточные версии сценария\nне  выполнялись для клиентов,  т. к.  его  редактирование может  занять  продолжительное\nвремя.\nРисунок 100 — Изменения сценария рассылки без ее остановки\nПри изменении сценария следует помнить, что новый сценарий будет применен не только\nдля новых запусков рассылки, но и для начатых ранее рассылок.\nИзменение  условий  начала  и  аудитории  для  запущенной\nрассылки\nЕсли  в  запущенной  рассылке  заданы  некорректная  аудитория  или  нежелательные\nусловия начала, то для исправления ситуации нужно выполнить следующие действия:\n1.  Перевести  рассылку  в  состояние  «Отключена»,  нажав  на  иконку\nи  выбрав  в\nраскрывшемся меню пункт «Отключить».\n2.  Перейти к списку рассылок.\nРисунок 101 — Отключение рассылки\n3.  В  списке  рассылок  клонировать  рассылку,  нажав  на  иконку\nи  выбрав  в\nраскрывшемся меню пункт «Клонировать» (см. Рисунок 102).\n75\n4.  Внести изменения в клонированной рассылке (сценарий, условия запуска, аудитория).\nРисунок 102 — Клонирование рассылки\n5.  Запустить клонированную рассылку.\nВажно!\n1.  При  клонировании  важно  не  забыть  перевести  в  состояние  «Отключена»  исходную\nрассылку, чтобы клиенты не получили обе рассылки.\n2.  Необходимо  внимательно  следить  за  пересечением  клиентов  в  исходной  и\nклонированной рассылках, чтобы избежать отправки двух рассылок одному клиенту.\nДля этого в клонированной рассылке можно воспользоваться настройкой «Исключить\nклиентов, добавленных в рассылки».\n3.  Если  рассылка  с  фиксированной  аудиторией  начинается  по  событию,  то  после\nклонирования обе рассылки будут начинаться при генерации одного события. Таким\nобразом, для одного клиента могут «сработать» обе рассылки. Чтобы избежать этого,\nисходную рассылку нужно перевести в пассивный режим или отключить.",
    "tags": [
      "условия запуска",
      "сценарии рассылок",
      "сценария рассылки",
      "условия начала",
      "настройки рассылки",
      "условий начала",
      "фиксированной аудиторией",
      "активном режиме",
      "запланированных сообщений",
      "раскрывшемся меню",
      "одному клиенту",
      "одной рассылки",
      "следующие действия",
      "запланированного сообщения",
      "ссылки будут",
      "рассылки будут",
      "таким образом",
      "произвольное количество",
      "изменения сценария",
      "редактирование сценария",
      "это сделано",
      "возможные состояния",
      "состояния рассылки",
      "изменить условия",
      "внести изменения",
      "изменение условий",
      "запущенной рассылки",
      "пассивный режим",
      "иными словами",
      "основные настройки",
      "получении ключевого",
      "ключевого слова",
      "двух рассылок",
      "выставлении тега",
      "новые запуски",
      "запланированные сообщения",
      "расширенных настроек",
      "изменить аудиторию",
      "запуск рассылки",
      "активный режим",
      "всей аудитории",
      "необработанных клиентов",
      "отправлена рассылка",
      "это состояние",
      "пассивном режиме",
      "рассылка настроена",
      "состояние нужно",
      "изменение сценария",
      "сценария изменение",
      "начала изменение",
      "изменение аудитории",
      "аудитории изменение",
      "изменение расширенных",
      "запущена включена",
      "невозможно изменить",
      "режиме рассылки",
      "одного клиента",
      "одного экземпляра",
      "экземпляра одной",
      "клиента работать",
      "сценарием рассылки",
      "последний запущенный",
      "запущенный экземпляр",
      "отключается отправка",
      "отправка запланированных",
      "повторных запусках",
      "запусках рассылки",
      "рассылки одному",
      "клиенту работает",
      "клиенту отправлена",
      "изображенная ниже",
      "остановки изменение",
      "сценария запущенной",
      "рассылки возможно",
      "пассивном состоянии",
      "изменения применяются",
      "результатам редактирования",
      "кнопку рассылки",
      "промежуточные версии",
      "версии сценария",
      "продолжительное время",
      "изменении сценария",
      "сценария следует",
      "следует помнить",
      "новый сценарий",
      "новых запусков",
      "запусков рассылки",
      "начатых ранее",
      "ранее рассылок",
      "нежелательные условия",
      "исправления ситуации",
      "ситуации нужно",
      "нужно выполнить",
      "выполнить следующие",
      "меню пункт",
      "списку рассылок",
      "отключение рассылки",
      "клонированной рассылке",
      "исходную рассылку",
      "обе рассылки",
      "рассылку нужно"
    ]
  },
  {
    "section_id": "45_возможные_состояния_рассылки",
    "section_title": "Возможные состояния рассылки",
    "level": 1,
    "page_start": 72,
    "page_end": 72,
    "text": "Возможные состояния рассылки\nЛюбая рассылка может находиться в одном из 4-й состояний:\n•  «Не  запущена»  —  состояние  рассылки с момента создания  и  до  первого  запуска. В\nэтом  состоянии  пользователь  (маркетолог)  разрабатывает  сценарий  рассылки,\nзадает основные настройки и аудиторию.\n•  «Включена в активном режиме» — в это состояние рассылка переходит поле запуска.\nВ  зависимости  от  настроек условий  начала  рассылки  она  начнет  выполняться  либо\nсразу, либо при появлении события или тега у клиента, либо при получении ключевого\nслова от клиента в мессенджере.\n•  «Включена  в  пассивном  режиме»  —  в  этом  состоянии  выполняются  сценарии\nрассылок, начавшиеся в активном режиме, но не запускаются новые.\nЕсли  рассылка  для  фиксированной  аудитории  началась  не  для  всех  клиентов,  то\nпродолжаться она будет только для тех, для кого началась, а для оставшихся она уже\nне начнется.\nЕсли рассылка настроена на начало по событию, при выставлении тега клиенту или\nпри получении ключевого слова, то начавшиеся ранее (в активном режиме) сценарии\nбудут  продолжать  выполняться.  Но  при  появлении  новых  событий  или  выставлении\nтегов  или  получении  ключевых  слов  рассылка  начинаться  не  будет.  Это  состояние\nнужно для того, чтобы дать отработать рассылке для клиентов, для которых она уже\nначалась, но не порождать новые запуски.\n•  «Отключена»  —  в  этом  состоянии  рассылка  не  начинается  для  новых  клиентов  и  не\nпродолжается для тех, для кого она была начата ранее. Иными словами, клиенты не\nполучают  новые  сообщения  рассылки,  а  нажатия  на  кнопки  в  ранее  полученных\nсообщениях  не  обрабатываются.  Это  состояние  нужно  для  полного  прекращения\nрассылки.\nПредполагается,  что  основные  настройки  рассылки  маркетолог  должен  выполнять  в\nсостоянии  «Не  запущена»,  в  котором  допускается  изменение  любых  опций.  После\nзапуска  рассылки  изменение  некоторых  настроек  становится  невозможным\n(см.\nтаблицу 6).\nТаблица 6 — Возможности внесения изменений в рассылку в зависимости от ее состояния\nСостояние\nИконка  Изменение\nсценария\nИзменение\nусловий\nначала\nИзменение\nаудитории\nИзменение\nрасширенных\nнастроек\nНе запущена\nВключена в активном\nрежиме\n+\n+\n+\n—\n+\n—\n+\n+\n72\nСостояние\nИконка  Изменение\nсценария\nИзменение\nусловий\nначала\nИзменение\nаудитории\nИзменение\nрасширенных\nнастроек\nВключена в\nпассивном режиме\nОтключена\n+\n+\n—\n—\n—\n—\n+\n+\nНапример,  если рассылка  включена  в активном  или  пассивном  режимах,  то  изменение\nусловий начала (см. Рисунок 96) или аудитории (см. Рисунок 97) будет невозможно.\nРисунок 96 — Невозможно изменить условия начала для включенной в активном/пассивном\nрежиме рассылки\nРисунок 97 — Невозможно изменить аудиторию для включенной в активном/пассивном режиме\nрассылки\nМожно  также  заметить,  что  в  состоянии  «Отключена»  можно  изменять  сценарий  и\nнастройки рассылки. Тем не менее, эти изменения не оказывают никакого воздействия на\nклиентов,  которым  эта  рассылка  была  отправлена  ранее,  т. к.  действие  рассылки  в\nсостоянии «Отключена» полностью прекращено.",
    "tags": [
      "сценарии рассылок",
      "условия начала",
      "настройки рассылки",
      "условий начала",
      "активном режиме",
      "возможные состояния",
      "состояния рассылки",
      "изменить условия",
      "изменение условий",
      "иными словами",
      "основные настройки",
      "получении ключевого",
      "ключевого слова",
      "выставлении тега",
      "новые запуски",
      "расширенных настроек",
      "изменить аудиторию",
      "это состояние",
      "пассивном режиме",
      "рассылка настроена",
      "состояние нужно",
      "изменение сценария",
      "сценария изменение",
      "начала изменение",
      "изменение аудитории",
      "аудитории изменение",
      "изменение расширенных",
      "запущена включена",
      "невозможно изменить",
      "режиме рассылки"
    ]
  },
  {
    "section_id": "46_запуск_рассылки",
    "section_title": "Запуск рассылки",
    "level": 1,
    "page_start": 73,
    "page_end": 74,
    "text": "Запуск рассылки\nДля  запуска  рассылки  необходимо  вызвать  меню  нажатием  на  иконку\nрассылок или в окне просмотра рассылки).\n(в  списке\n73\nРисунок 98 — Запуск рассылки\nДля рассылок с фиксированной аудиторией (не по событию) возможен только один запуск\nрассылки. После того, как рассылка будет запущена и начнется для всех клиентов, она\nперейдет в пассивный режим. Начать ее заново (перевести в активный режим) нельзя: при\nпопытке  выполнить  такую  операцию  бот  увидит,  что  рассылка  уже  началась  для  всей\nаудитории, необработанных клиентов нет, и переведет ее опять в пассивный режим.\nРассылки,  начинающиеся  по  событию,  по  тегу  или  по  ключевым  словам,  можно\nпереводить  в  активный  режим  и  из  него  во  все  состояния  кроме  «Не  запущена»\nпроизвольное количество раз.\nЗапуск  нескольких  экземпляров  одной  рассылки  для\nодного клиента\nПри старте более чем одного экземпляра одной рассылки для одного клиента работать\nв соответствии со сценарием рассылки будет только последний запущенный экземпляр.\nВсе  остальные  (предыдущие)  отключаются:  при  этом  отключается  работа  кнопок,\nотключается отправка запланированных сообщений.\nИными словами, при повторных запусках рассылки одному и тому же клиенту работает\nтолько  последний.  Во  всех  предыдущих  нажатия  кнопок  не  обрабатываются,\nзапланированные сообщения не отправляются.\nНапример, клиенту отправлена рассылка, изображенная ниже (см. Рисунок 99).\nРисунок 99 — Пример рассылки\n74",
    "tags": [
      "фиксированной аудиторией",
      "запланированных сообщений",
      "одной рассылки",
      "произвольное количество",
      "пассивный режим",
      "иными словами",
      "запланированные сообщения",
      "запуск рассылки",
      "активный режим",
      "всей аудитории",
      "необработанных клиентов",
      "отправлена рассылка",
      "одного клиента",
      "одного экземпляра",
      "экземпляра одной",
      "клиента работать",
      "сценарием рассылки",
      "последний запущенный",
      "запущенный экземпляр",
      "отключается отправка",
      "отправка запланированных",
      "повторных запусках",
      "запусках рассылки",
      "рассылки одному",
      "клиенту работает",
      "клиенту отправлена",
      "изображенная ниже"
    ]
  },
  {
    "section_id": "47_запуск_нескольких_экземпляров_одной_рассылки_для_одного_клиента",
    "section_title": "Запуск нескольких экземпляров одной рассылки для одного клиента",
    "level": 1,
    "page_start": 74,
    "page_end": 74,
    "text": "Рисунок 98 — Запуск рассылки\nДля рассылок с фиксированной аудиторией (не по событию) возможен только один запуск\nрассылки. После того, как рассылка будет запущена и начнется для всех клиентов, она\nперейдет в пассивный режим. Начать ее заново (перевести в активный режим) нельзя: при\nпопытке  выполнить  такую  операцию  бот  увидит,  что  рассылка  уже  началась  для  всей\nаудитории, необработанных клиентов нет, и переведет ее опять в пассивный режим.\nРассылки,  начинающиеся  по  событию,  по  тегу  или  по  ключевым  словам,  можно\nпереводить  в  активный  режим  и  из  него  во  все  состояния  кроме  «Не  запущена»\nпроизвольное количество раз.\nЗапуск  нескольких  экземпляров  одной  рассылки  для\nодного клиента\nПри старте более чем одного экземпляра одной рассылки для одного клиента работать\nв соответствии со сценарием рассылки будет только последний запущенный экземпляр.\nВсе  остальные  (предыдущие)  отключаются:  при  этом  отключается  работа  кнопок,\nотключается отправка запланированных сообщений.\nИными словами, при повторных запусках рассылки одному и тому же клиенту работает\nтолько  последний.  Во  всех  предыдущих  нажатия  кнопок  не  обрабатываются,\nзапланированные сообщения не отправляются.\nНапример, клиенту отправлена рассылка, изображенная ниже (см. Рисунок 99).\nРисунок 99 — Пример рассылки\n74\nПосле  запуска  второго  экземпляра  этой  же  рассылки  для  клиента  кнопка  из  первого\n«Подробнее»  из  первого  запуска  работать  не  будет,  а  отправка  запланированного\nсообщения будет отменена.",
    "tags": [
      "фиксированной аудиторией",
      "запланированных сообщений",
      "одной рассылки",
      "запланированного сообщения",
      "произвольное количество",
      "пассивный режим",
      "иными словами",
      "запланированные сообщения",
      "запуск рассылки",
      "активный режим",
      "всей аудитории",
      "необработанных клиентов",
      "отправлена рассылка",
      "одного клиента",
      "одного экземпляра",
      "экземпляра одной",
      "клиента работать",
      "сценарием рассылки",
      "последний запущенный",
      "запущенный экземпляр",
      "отключается отправка",
      "отправка запланированных",
      "повторных запусках",
      "запусках рассылки",
      "рассылки одному",
      "клиенту работает",
      "клиенту отправлена",
      "изображенная ниже"
    ]
  },
  {
    "section_id": "48_редактирование_сценария_рассылки_без_ее_остановки",
    "section_title": "Редактирование сценария рассылки без ее остановки",
    "level": 1,
    "page_start": 75,
    "page_end": 75,
    "text": "Редактирование сценария рассылки без ее остановки\nИзменение сценария запущенной рассылки возможно как в активном, так и в пассивном\nсостоянии. При этом изменения применяются не сразу по результатам редактирования\nв  окне  просмотра\nмаркетологом,  а  только  при  нажатии  на  специальную  кнопку\nрассылки (см. Рисунок 100). Это сделано для того, чтобы промежуточные версии сценария\nне  выполнялись для клиентов,  т. к.  его  редактирование может  занять  продолжительное\nвремя.\nРисунок 100 — Изменения сценария рассылки без ее остановки\nПри изменении сценария следует помнить, что новый сценарий будет применен не только\nдля новых запусков рассылки, но и для начатых ранее рассылок.\nИзменение  условий  начала  и  аудитории  для  запущенной\nрассылки\nЕсли  в  запущенной  рассылке  заданы  некорректная  аудитория  или  нежелательные\nусловия начала, то для исправления ситуации нужно выполнить следующие действия:\n1.  Перевести  рассылку  в  состояние  «Отключена»,  нажав  на  иконку\nи  выбрав  в\nраскрывшемся меню пункт «Отключить».\n2.  Перейти к списку рассылок.\nРисунок 101 — Отключение рассылки\n3.  В  списке  рассылок  клонировать  рассылку,  нажав  на  иконку\nи  выбрав  в\nраскрывшемся меню пункт «Клонировать» (см. Рисунок 102).\n75",
    "tags": [
      "сценария рассылки",
      "условия начала",
      "раскрывшемся меню",
      "следующие действия",
      "изменения сценария",
      "редактирование сценария",
      "это сделано",
      "запущенной рассылки",
      "изменение сценария",
      "остановки изменение",
      "сценария запущенной",
      "рассылки возможно",
      "пассивном состоянии",
      "изменения применяются",
      "результатам редактирования",
      "кнопку рассылки",
      "промежуточные версии",
      "версии сценария",
      "продолжительное время",
      "изменении сценария",
      "сценария следует",
      "следует помнить",
      "новый сценарий",
      "новых запусков",
      "запусков рассылки",
      "начатых ранее",
      "ранее рассылок",
      "нежелательные условия",
      "исправления ситуации",
      "ситуации нужно",
      "нужно выполнить",
      "выполнить следующие",
      "меню пункт",
      "списку рассылок",
      "отключение рассылки"
    ]
  },
  {
    "section_id": "49_изменение_условий_начала_и_аудитории_для_запущенной_рассылки",
    "section_title": "Изменение условий начала и аудитории для запущенной рассылки",
    "level": 1,
    "page_start": 75,
    "page_end": 75,
    "text": "После  запуска  второго  экземпляра  этой  же  рассылки  для  клиента  кнопка  из  первого\n«Подробнее»  из  первого  запуска  работать  не  будет,  а  отправка  запланированного\nсообщения будет отменена.\nРедактирование сценария рассылки без ее остановки\nИзменение сценария запущенной рассылки возможно как в активном, так и в пассивном\nсостоянии. При этом изменения применяются не сразу по результатам редактирования\nв  окне  просмотра\nмаркетологом,  а  только  при  нажатии  на  специальную  кнопку\nрассылки (см. Рисунок 100). Это сделано для того, чтобы промежуточные версии сценария\nне  выполнялись для клиентов,  т. к.  его  редактирование может  занять  продолжительное\nвремя.\nРисунок 100 — Изменения сценария рассылки без ее остановки\nПри изменении сценария следует помнить, что новый сценарий будет применен не только\nдля новых запусков рассылки, но и для начатых ранее рассылок.\nИзменение  условий  начала  и  аудитории  для  запущенной\nрассылки\nЕсли  в  запущенной  рассылке  заданы  некорректная  аудитория  или  нежелательные\nусловия начала, то для исправления ситуации нужно выполнить следующие действия:\n1.  Перевести  рассылку  в  состояние  «Отключена»,  нажав  на  иконку\nи  выбрав  в\nраскрывшемся меню пункт «Отключить».\n2.  Перейти к списку рассылок.\nРисунок 101 — Отключение рассылки\n3.  В  списке  рассылок  клонировать  рассылку,  нажав  на  иконку\nи  выбрав  в\nраскрывшемся меню пункт «Клонировать» (см. Рисунок 102).\n75\n4.  Внести изменения в клонированной рассылке (сценарий, условия запуска, аудитория).\nРисунок 102 — Клонирование рассылки\n5.  Запустить клонированную рассылку.\nВажно!\n1.  При  клонировании  важно  не  забыть  перевести  в  состояние  «Отключена»  исходную\nрассылку, чтобы клиенты не получили обе рассылки.\n2.  Необходимо  внимательно  следить  за  пересечением  клиентов  в  исходной  и\nклонированной рассылках, чтобы избежать отправки двух рассылок одному клиенту.\nДля этого в клонированной рассылке можно воспользоваться настройкой «Исключить\nклиентов, добавленных в рассылки».\n3.  Если  рассылка  с  фиксированной  аудиторией  начинается  по  событию,  то  после\nклонирования обе рассылки будут начинаться при генерации одного события. Таким\nобразом, для одного клиента могут «сработать» обе рассылки. Чтобы избежать этого,\nисходную рассылку нужно перевести в пассивный режим или отключить.",
    "tags": [
      "условия запуска",
      "сценария рассылки",
      "условия начала",
      "раскрывшемся меню",
      "одному клиенту",
      "следующие действия",
      "запланированного сообщения",
      "ссылки будут",
      "рассылки будут",
      "таким образом",
      "изменения сценария",
      "редактирование сценария",
      "это сделано",
      "внести изменения",
      "запущенной рассылки",
      "пассивный режим",
      "двух рассылок",
      "изменение сценария",
      "одного клиента",
      "остановки изменение",
      "сценария запущенной",
      "рассылки возможно",
      "пассивном состоянии",
      "изменения применяются",
      "результатам редактирования",
      "кнопку рассылки",
      "промежуточные версии",
      "версии сценария",
      "продолжительное время",
      "изменении сценария",
      "сценария следует",
      "следует помнить",
      "новый сценарий",
      "новых запусков",
      "запусков рассылки",
      "начатых ранее",
      "ранее рассылок",
      "нежелательные условия",
      "исправления ситуации",
      "ситуации нужно",
      "нужно выполнить",
      "выполнить следующие",
      "меню пункт",
      "списку рассылок",
      "отключение рассылки",
      "клонированной рассылке",
      "исходную рассылку",
      "обе рассылки",
      "рассылку нужно"
    ]
  },
  {
    "section_id": "50_настройка_sms_рассылок",
    "section_title": "Настройка SMS-рассылок",
    "level": 0,
    "page_start": 76,
    "page_end": 83,
    "text": "Настройка SMS-рассылок\nРегистрация SMS-провайдера\nMaxbot  предоставляет  возможность  отправки  клиенту  SMS-рассылок.  Отправка  SMS\nосуществляется провайдером, который предоставляет такие услуги.  SMS-провайдер —\nэто  организация,  обеспечивающая  отправку  и  получение  коротких  сообщений  (SMS).\nОна предоставляет доступ к SMS-шлюзу, при помощи которого Maxbot отправляет SMS-\nрассылки  в  центр  отправки  сообщений  мобильного  оператора.  В  текущей  версии\nподдерживается следующие провайдеры:\n•  SMSC (https://smsc.ru/);\n•  МТС (https://mts.ru);\n•  СМС услуги (https://sms-uslugi.ru/);\n•  SMS.ru (https://sms.ru).\nКомпания должна зарегистрировать аккаунт у провайдера, заключить с ним договор и\nуказать данные учетной записи при создании SMS-провайдера в Maxbot.\n76\nДля создания SMS-провайдера в Maxbot необходимо:\n1.  Перейти в раздел «SMS-провайдеры» и нажать кнопку «+ Создать» в правом верхнем\nуглу (см. Рисунок 103).\nРисунок 103 — Переход к добавлению SMS-провайдера\n2.  Далее необходимо указать данные учетной записи выбранного SMS-провайдера (см.\nРисунок 104):\n•  Название — название провайдера, которое будет использоваться в Maxbot;\n•  Описание — произвольный текст о добавляемом провайдере;\n•  Использовать  по  умолчанию  —  если  флажок  установлен,  то  провайдер  будет\nдобавлен  во  все  создаваемые  рассылки  в  качестве  SMS-провайдера.  Если\nпровайдер по умолчанию не задан, то рассылки создаются без SMS-провайдера;\n•  Тип — выбрать значение «SMS ЦЕНТР», «МТС», «СМС услуги» или «SMS.ru»;\n•  Логин — логин учетной записи выбранного провайдера;\n•  Пароль — пароль учетной записи выбранного провайдера;\n•  Отправитель  —  название  отправителя  (от  чьего  имени  клиенты  будут  получать\nсообщения).  Рекомендуется,  чтобы  это  имя  совпадало  с  тем,  что  задано  в\nнастройках учетной записи самого SMS-провайдера (причем, с учетом регистра).\nВ общем случае это определяется условиями договора с SMS-провайдером.\n77\nРисунок 104 — Ввод параметров SMS-провайдера\n3.  Нажать на кнопку «Создать».\nПримечание:\nПри  создании  SMS-провайдеров  «СМС  услуги»  и  «SMS.ru»  есть  ряд  особенностей,\nкоторые описаны в Приложении В и в Приложении Г соответственно.\nДобавление SMS-провайдера в рассылку\nПосле создания SMS-провайдер может быть добавлен в любую рассылку. Это позволит\nдобавить  в  рассылку  SMS-блок  и  отправлять  SMS  клиентам,  которые  еще  не\nподключились к мессенджерам.\nДля этого необходимо открыть рассылку, перейти в раздел «Условия начала рассылки»\nи открыть подраздел «Расширенные настройки» (см. Рисунок 105).\nПримечание:\nЕсть  возможность  принудительной  отправки  SMS, даже  если клиент уже  подключился  с\nиспользованием мессенджера и подтвердил номер телефона в мессенджере. Для этого\n78\nв  файле  аудитории\nmessengers_order пустым и выставить failback_to_sms = True.\n(см.  раздел  Определение  аудитории)  нужно  задать  поле\nРисунок 105 — Выбор SMS-провайдера для рассылок\nИспользование SMS-блока в конструкторе\nПосле  выбора  SMS-провайдера  в  конструкторе  рассылки  появляется  возможность\nдобавить SMS-блок: при нажатии на кнопку «Добавить блок» появляется меню выбора из\nблоков (см. Рисунок 106).\nРисунок 106 — Доступен новый тип блока «SMS-сообщения»\nSMS-блок  добавляется  в  сценарий  так  же,  как  и  обычный  блок,  кроме  того,  что  связь\nнельзя  «снять»,  а  таймаут  —  изменить  (см.  Рисунок  107).  При  запуске  рассылки  клиенты\nбудут  получать  либо  сообщения  в  мессенджер  (как  в  обычной  рассылке),  либо  только\nSMS-блок. Получить и то, и другое клиенты рассылки при запуске не могут. Выбор между\nSMS  или  сообщением  в  мессенджер  происходит  на  основе  флага  failback_to_sms,\nзадаваемого  для  каждого  клиента  отдельно  (см.  подробнее  в  разделе  Определение\nаудитории).\n79\nРисунок 107 — SMS-блок добавлен в сценарий рассылки\nВ  рассылке  может  быть  только  один  SMS-блок,  но  он  может  содержать  произвольное\nколичество  текстовых  сообщений,  а  также  ссылку  на  посадочную  страницу  для\nподключения  мессенджера  и  автоматического  подтверждения  номера  телефона\n(добавляются нажатием на кнопку\n, см. Рисунок 108).\nПримечание:\nПодробнее о посадочных страницах см. в разделе Настройка посадочных страниц для\nподключения клиентов к боту.\nРисунок 108 — Добавление объектов к SMS-блоку\nВажно!\nПри расчете стоимости рассылки нужно учитывать, что одно сообщение в конструкторе\nможет  быть  разделено  SMS-провайдером  на  несколько,  и,  соответственно,\nтарифицироваться как отправка нескольких сообщений. Стоимость и актуальные лимиты\nна длину сообщений необходимо уточнять у SMS-провайдера.\n80\nНастройка посадочных страниц в SMS-блоке\nДобавление  ссылки  на  посадочную  страницу  (лендинг)  позволяет  автоматизировать\nрешение  основной  задачи,  для  которой  предназначены  SMS-рассылки  —  перевод\nаудитории из SMS в мессенджеры.\nКаждый  клиент  SMS-рассылки  может  получить  ссылку  на  лендинг  с  уникальным\nпараметром  (диплинком),  при  переходе  по  которой  в  любой  выбранный  мессенджер\nклиент  автоматически  подтверждает  свой  номер  телефона  (см.  подробнее  в  разделе\nМеханизм подключения клиентов).\nПримечание:\nЕсли  лендинг  будет  использоваться  в  SMS-блоке  рассылок,  то  при  переходе  из  SMS\nдиплинк,  заданный  в  настройках  лендинга,  будет  заменен  на  диплинк  подтверждения\nномера телефона. Диплинк, заданный в настройках лендинга, не сработает. Это нужно\nучитывать при выборе лендинга для SMS-рассылок.\nДля настройки лендинга в SMS-блоке необходимо:\n1.  Если  лендинг  еще  не  создан  —  создать  его.  Подробнее  см.  описание  в  подразделе\nНастройка посадочных страниц для подключения клиентов к боту.\n2.  В  SMS-блоке  нажать  на  кнопку\nмессенджеру» (см. Рисунок 109).\nи  в  меню  выбрать  пункт  «Лендинг  подключения  к\nРисунок 109 — Переход к добавлению лендинга для SMS-блока\n3.  Задать свойства для лендинга (см. Рисунок 110):\n•  «Посадочная страница» — выбрать один из созданных ранее лендингов;\n•  «Текст  до»,  «Текст  после»  —  задать  (необязательно)  текст  до  или  после  SMS-\nсообщения;\nПримечание:\nДля  сокращения  расходов  на  SMS-рассылки  в  качестве  сообщения  перед\nлендингом  следует  использовать  не  отдельное  сообщение  перед  ним,  а  поле\n«Текст до». Текст, указанный в этом поле, идет в одном SMS-сообщении вместе со\nссылкой и при небольшой длине текста необходимо будет оплатить только 1 SMS, а\nне  2.  Аналогично  и  с  полем  «Текст  после»  —  оно  также  идет  в  одном  SMS-\nсообщении со ссылкой.\n81\n•  Время  жизни  ссылки  для  подключения  к  мессенджеру  —  задать  время,  в  течение\nкоторого  ссылка  будет  действительной;  если  задать  «0»,  то  ссылка  будет\nдействовать без ограничения времени.\nРисунок 110 — Ввод данных для подключения лендинга к SMS-блоку\n4.  Нажать на кнопку «Сохранить».\nВызов внешней системы\nКак и в остальных блоках рассылки, в SMS-блоке возможен вызов внешней системы.\nЕсли  вызов  завершится  ошибкой,  то  сообщения  в  SMS-блоке  не  будут  отправлены.  При\nэтом, в отличие от остальных блоков, клиенту не будет отправлено сообщение об ошибке,\nзадать его нельзя.\nОграничение\nна\nиспользование\nпрофиля\nи\nидентификаторов диалога\nВ  SMS-блоке  существует  ограничение  на  использование  профиля  клиента  и\nидентификатора  диалога\n(thread_id).  Профиль  клиента  —  это  набор  системных\nпеременных,  хранящих  значения  характеристик  клиента.  thread_id  —  это  системная\nпеременная,  содержащая  идентификатор  диалога,  в  рамках  которого  бот  выполняет\nдействие рассылки.\nОбращение  к  системным  переменным  профиля  осуществляется  следующим  образом:\n{{profile.<название переменной>}}, к идентификатору диалога — {{thread.thread_id}}.\n82\nПоскольку  при  отправке  SMS  клиента  в  системе  еще  не  существует,  то  обращение  к\nпрофилю  из  этого  блока  невозможно,  за  исключением  одной  переменной  —\n{{ profile.phone }}.\nПодробнее об использовании характеристик клиента см. в подразделе   Использование\nсистемных переменных.\nДобавление клиентов\nДля  отправки клиентам  SMS-рассылки  их  необходимо  добавить  в аудиторию рассылки\nпо  номеру  телефона  с  флагом  failback_to_sms  =  true  (см.  подробнее  в  подразделе\nОпределение аудитории).\nЕсли на момент загрузки аудитории клиент уже подтвердил этот номер телефона, то ему\nбудет отправлена обычная рассылка в мессенджер, в котором он подтвердил этот номер\nтелефона. SMS-блок отправлен не будет.\nПримечание:\nДля принудительной отправки SMS клиенту можно задать поле messengers_order пустым\nи выставить failback_to_sms = true. Тогда клиент получит SMS даже если уже подтвердил\nномер телефона в мессенджерах.\nЕсли  клиент  был  добавлен  в  рассылку  по  номеру  телефона  и  на  момент  загрузки\nаудитории  еще  не  подтвердил  номер  телефона,  но  успел  подтвердить  его  перед\nзапуском  рассылки,  то  ему  также  будет  отправлена  обычная  рассылка  в  мессенджер.\nSMS-блок отправлен не будет.\nЕсли клиент подтвердил номер телефона в нескольких мессенджерах, то будет выбран\nпервый в соответствии с заданным в поле messengers_order порядком.\nПри запуске рассылки по событию также указывается флаг failback_to_sms (в интерфейсе\nфлажок «Отправлять SMS, если мессенджеры не используются или клиент не подключен\nк ним»). Поле «Время ожидания подтверждения номера телефона» при этом должно быть\nвыставлено в 0, иначе будет сгенерировано отложенное событие. Подробнее об этом в\nподразделе Отправка рассылок по номеру телефона.\nТакже клиенту можно отправить SMS если он подключился к мессенджеру, но отписался\nот  бота  в  мессенджере.  Для  этого  нужно выставить  флаг  failback_to_sms  (в  интерфейсе\nфлажок «Отправлять SMS, если мессенджеры не используются или клиент не подключен\nк  ним»)  и  задать  параметр  unsubscribed_ttl=0  (в  интерфейсе  в  поле  «Время  ожидания\nподписки  в  мессенджере»  задать  0).  Подробнее  об  этом  в  подразделе  «События,\nотложенные до подписки клиента в мессенджере».\nПри тестовом запуске события (см. Рисунок 111):\n83\nРисунок 111 — Тестовый запуск события для отправки клиенту SMS",
    "tags": [
      "сценарий рассылки",
      "условия начала",
      "начала рассылки",
      "рассылки нужно",
      "учетной записи",
      "логин учетной",
      "пароль учетной",
      "правом верхнем",
      "верхнем углу",
      "определение аудитории",
      "добавить блок",
      "запуске рассылки",
      "вызов внешней",
      "внешней системы",
      "отправки клиенту",
      "нужно учитывать",
      "клиент получит",
      "общем случае",
      "время ожидания",
      "также клиенту",
      "отправлено сообщение",
      "случае это",
      "далее необходимо",
      "ввод параметров",
      "это позволит",
      "произвольный текст",
      "выбрать значение",
      "подтверждения номера",
      "номера телефона",
      "настройка sms",
      "регистрация sms",
      "добавление sms",
      "произвольное количество",
      "это нужно",
      "открыть рассылку",
      "расширенные настройки",
      "ограничения времени",
      "загрузки аудитории",
      "определяется условиями",
      "отправки sms",
      "отправлять sms",
      "sms клиенту",
      "подтвердил номер",
      "номер телефона",
      "клиент подтвердил",
      "аудиторию рассылки",
      "принудительной отправки",
      "задать поле",
      "messengers_order пустым",
      "выставить failback_to_sms",
      "получит sms",
      "отправить sms",
      "номеру телефона",
      "действие рассылки",
      "провайдера maxbot",
      "клиенту sms",
      "предоставляет доступ",
      "которого maxbot",
      "maxbot отправляет",
      "отправляет sms",
      "указать данные",
      "данные учетной",
      "создании sms",
      "создания sms",
      "необходимо указать",
      "записи выбранного",
      "sms центр",
      "выбранного провайдера",
      "клиенты будут",
      "получать сообщения",
      "параметров sms",
      "необходимо открыть",
      "sms клиент",
      "выбор sms",
      "настройка посадочных",
      "посадочных страниц",
      "подключения клиентов",
      "механизм подключения",
      "sms диплинк",
      "настройках лендинга",
      "выборе лендинга",
      "настройки лендинга",
      "одном sms",
      "течение которого",
      "ввод данных",
      "подключения лендинга",
      "остальных блоках",
      "блоках рассылки",
      "блоке возможен",
      "возможен вызов",
      "остальных блоков",
      "использование профиля",
      "идентификаторов диалога",
      "системных переменных",
      "характеристик клиента",
      "системная переменная",
      "выполняет действие",
      "название переменной",
      "идентификатору диалога",
      "использование системных",
      "отправки клиентам",
      "момент загрузки",
      "отправлена обычная",
      "обычная рассылка",
      "блок отправлен",
      "поле messengers_order",
      "нескольких мессенджерах",
      "флаг failback_to_sms",
      "интерфейсе флажок",
      "ожидания подтверждения",
      "отложенное событие",
      "отправка рассылок",
      "нужно выставить",
      "ожидания подписки",
      "подписки клиента"
    ]
  },
  {
    "section_id": "51_регистрация_sms_провайдера",
    "section_title": "Регистрация SMS-провайдера",
    "level": 1,
    "page_start": 76,
    "page_end": 77,
    "text": "Регистрация SMS-провайдера\nMaxbot  предоставляет  возможность  отправки  клиенту  SMS-рассылок.  Отправка  SMS\nосуществляется провайдером, который предоставляет такие услуги.  SMS-провайдер —\nэто  организация,  обеспечивающая  отправку  и  получение  коротких  сообщений  (SMS).\nОна предоставляет доступ к SMS-шлюзу, при помощи которого Maxbot отправляет SMS-\nрассылки  в  центр  отправки  сообщений  мобильного  оператора.  В  текущей  версии\nподдерживается следующие провайдеры:\n•  SMSC (https://smsc.ru/);\n•  МТС (https://mts.ru);\n•  СМС услуги (https://sms-uslugi.ru/);\n•  SMS.ru (https://sms.ru).\nКомпания должна зарегистрировать аккаунт у провайдера, заключить с ним договор и\nуказать данные учетной записи при создании SMS-провайдера в Maxbot.\n76\nДля создания SMS-провайдера в Maxbot необходимо:\n1.  Перейти в раздел «SMS-провайдеры» и нажать кнопку «+ Создать» в правом верхнем\nуглу (см. Рисунок 103).\nРисунок 103 — Переход к добавлению SMS-провайдера\n2.  Далее необходимо указать данные учетной записи выбранного SMS-провайдера (см.\nРисунок 104):\n•  Название — название провайдера, которое будет использоваться в Maxbot;\n•  Описание — произвольный текст о добавляемом провайдере;\n•  Использовать  по  умолчанию  —  если  флажок  установлен,  то  провайдер  будет\nдобавлен  во  все  создаваемые  рассылки  в  качестве  SMS-провайдера.  Если\nпровайдер по умолчанию не задан, то рассылки создаются без SMS-провайдера;\n•  Тип — выбрать значение «SMS ЦЕНТР», «МТС», «СМС услуги» или «SMS.ru»;\n•  Логин — логин учетной записи выбранного провайдера;\n•  Пароль — пароль учетной записи выбранного провайдера;\n•  Отправитель  —  название  отправителя  (от  чьего  имени  клиенты  будут  получать\nсообщения).  Рекомендуется,  чтобы  это  имя  совпадало  с  тем,  что  задано  в\nнастройках учетной записи самого SMS-провайдера (причем, с учетом регистра).\nВ общем случае это определяется условиями договора с SMS-провайдером.\n77\nРисунок 104 — Ввод параметров SMS-провайдера\n3.  Нажать на кнопку «Создать».\nПримечание:\nПри  создании  SMS-провайдеров  «СМС  услуги»  и  «SMS.ru»  есть  ряд  особенностей,\nкоторые описаны в Приложении В и в Приложении Г соответственно.",
    "tags": [
      "учетной записи",
      "логин учетной",
      "пароль учетной",
      "правом верхнем",
      "верхнем углу",
      "общем случае",
      "случае это",
      "далее необходимо",
      "ввод параметров",
      "произвольный текст",
      "выбрать значение",
      "регистрация sms",
      "определяется условиями",
      "провайдера maxbot",
      "предоставляет доступ",
      "которого maxbot",
      "maxbot отправляет",
      "отправляет sms",
      "указать данные",
      "данные учетной",
      "создании sms",
      "создания sms",
      "необходимо указать",
      "записи выбранного",
      "sms центр",
      "выбранного провайдера",
      "получать сообщения",
      "параметров sms"
    ]
  },
  {
    "section_id": "52_добавление_sms_провайдера_в_рассылку",
    "section_title": "Добавление SMS-провайдера в рассылку",
    "level": 1,
    "page_start": 78,
    "page_end": 78,
    "text": "Добавление SMS-провайдера в рассылку\nПосле создания SMS-провайдер может быть добавлен в любую рассылку. Это позволит\nдобавить  в  рассылку  SMS-блок  и  отправлять  SMS  клиентам,  которые  еще  не\nподключились к мессенджерам.\nДля этого необходимо открыть рассылку, перейти в раздел «Условия начала рассылки»\nи открыть подраздел «Расширенные настройки» (см. Рисунок 105).\nПримечание:\nЕсть  возможность  принудительной  отправки  SMS, даже  если клиент уже  подключился  с\nиспользованием мессенджера и подтвердил номер телефона в мессенджере. Для этого\n78\nв  файле  аудитории\nmessengers_order пустым и выставить failback_to_sms = True.\n(см.  раздел  Определение  аудитории)  нужно  задать  поле\nРисунок 105 — Выбор SMS-провайдера для рассылок",
    "tags": [
      "условия начала",
      "начала рассылки",
      "это позволит",
      "добавление sms",
      "открыть рассылку",
      "расширенные настройки",
      "подтвердил номер",
      "номер телефона",
      "messengers_order пустым",
      "выставить failback_to_sms",
      "создания sms",
      "необходимо открыть",
      "выбор sms"
    ]
  },
  {
    "section_id": "53_использование_sms_блока_в_конструкторе",
    "section_title": "Использование SMS-блока в конструкторе",
    "level": 1,
    "page_start": 79,
    "page_end": 80,
    "text": "Использование SMS-блока в конструкторе\nПосле  выбора  SMS-провайдера  в  конструкторе  рассылки  появляется  возможность\nдобавить SMS-блок: при нажатии на кнопку «Добавить блок» появляется меню выбора из\nблоков (см. Рисунок 106).\nРисунок 106 — Доступен новый тип блока «SMS-сообщения»\nSMS-блок  добавляется  в  сценарий  так  же,  как  и  обычный  блок,  кроме  того,  что  связь\nнельзя  «снять»,  а  таймаут  —  изменить  (см.  Рисунок  107).  При  запуске  рассылки  клиенты\nбудут  получать  либо  сообщения  в  мессенджер  (как  в  обычной  рассылке),  либо  только\nSMS-блок. Получить и то, и другое клиенты рассылки при запуске не могут. Выбор между\nSMS  или  сообщением  в  мессенджер  происходит  на  основе  флага  failback_to_sms,\nзадаваемого  для  каждого  клиента  отдельно  (см.  подробнее  в  разделе  Определение\nаудитории).\n79\nРисунок 107 — SMS-блок добавлен в сценарий рассылки\nВ  рассылке  может  быть  только  один  SMS-блок,  но  он  может  содержать  произвольное\nколичество  текстовых  сообщений,  а  также  ссылку  на  посадочную  страницу  для\nподключения  мессенджера  и  автоматического  подтверждения  номера  телефона\n(добавляются нажатием на кнопку\n, см. Рисунок 108).\nПримечание:\nПодробнее о посадочных страницах см. в разделе Настройка посадочных страниц для\nподключения клиентов к боту.\nРисунок 108 — Добавление объектов к SMS-блоку\nВажно!\nПри расчете стоимости рассылки нужно учитывать, что одно сообщение в конструкторе\nможет  быть  разделено  SMS-провайдером  на  несколько,  и,  соответственно,\nтарифицироваться как отправка нескольких сообщений. Стоимость и актуальные лимиты\nна длину сообщений необходимо уточнять у SMS-провайдера.\n80",
    "tags": [
      "сценарий рассылки",
      "рассылки нужно",
      "определение аудитории",
      "добавить блок",
      "нужно учитывать",
      "произвольное количество",
      "клиенты будут",
      "настройка посадочных",
      "посадочных страниц",
      "подключения клиентов"
    ]
  },
  {
    "section_id": "54_настройка_посадочных_страниц_в_sms_блоке",
    "section_title": "Настройка посадочных страниц в SMS-блоке",
    "level": 1,
    "page_start": 81,
    "page_end": 81,
    "text": "Настройка посадочных страниц в SMS-блоке\nДобавление  ссылки  на  посадочную  страницу  (лендинг)  позволяет  автоматизировать\nрешение  основной  задачи,  для  которой  предназначены  SMS-рассылки  —  перевод\nаудитории из SMS в мессенджеры.\nКаждый  клиент  SMS-рассылки  может  получить  ссылку  на  лендинг  с  уникальным\nпараметром  (диплинком),  при  переходе  по  которой  в  любой  выбранный  мессенджер\nклиент  автоматически  подтверждает  свой  номер  телефона  (см.  подробнее  в  разделе\nМеханизм подключения клиентов).\nПримечание:\nЕсли  лендинг  будет  использоваться  в  SMS-блоке  рассылок,  то  при  переходе  из  SMS\nдиплинк,  заданный  в  настройках  лендинга,  будет  заменен  на  диплинк  подтверждения\nномера телефона. Диплинк, заданный в настройках лендинга, не сработает. Это нужно\nучитывать при выборе лендинга для SMS-рассылок.\nДля настройки лендинга в SMS-блоке необходимо:\n1.  Если  лендинг  еще  не  создан  —  создать  его.  Подробнее  см.  описание  в  подразделе\nНастройка посадочных страниц для подключения клиентов к боту.\n2.  В  SMS-блоке  нажать  на  кнопку\nмессенджеру» (см. Рисунок 109).\nи  в  меню  выбрать  пункт  «Лендинг  подключения  к\nРисунок 109 — Переход к добавлению лендинга для SMS-блока\n3.  Задать свойства для лендинга (см. Рисунок 110):\n•  «Посадочная страница» — выбрать один из созданных ранее лендингов;\n•  «Текст  до»,  «Текст  после»  —  задать  (необязательно)  текст  до  или  после  SMS-\nсообщения;\nПримечание:\nДля  сокращения  расходов  на  SMS-рассылки  в  качестве  сообщения  перед\nлендингом  следует  использовать  не  отдельное  сообщение  перед  ним,  а  поле\n«Текст до». Текст, указанный в этом поле, идет в одном SMS-сообщении вместе со\nссылкой и при небольшой длине текста необходимо будет оплатить только 1 SMS, а\nне  2.  Аналогично  и  с  полем  «Текст  после»  —  оно  также  идет  в  одном  SMS-\nсообщении со ссылкой.\n81\n•  Время  жизни  ссылки  для  подключения  к  мессенджеру  —  задать  время,  в  течение\nкоторого  ссылка  будет  действительной;  если  задать  «0»,  то  ссылка  будет\nдействовать без ограничения времени.\nРисунок 110 — Ввод данных для подключения лендинга к SMS-блоку\n4.  Нажать на кнопку «Сохранить».",
    "tags": [
      "нужно учитывать",
      "подтверждения номера",
      "номера телефона",
      "это нужно",
      "ограничения времени",
      "настройка посадочных",
      "посадочных страниц",
      "подключения клиентов",
      "механизм подключения",
      "sms диплинк",
      "настройках лендинга",
      "выборе лендинга",
      "настройки лендинга",
      "одном sms",
      "течение которого",
      "ввод данных",
      "подключения лендинга"
    ]
  },
  {
    "section_id": "55_вызов_внешней_системы",
    "section_title": "Вызов внешней системы",
    "level": 1,
    "page_start": 82,
    "page_end": 82,
    "text": "Вызов внешней системы\nКак и в остальных блоках рассылки, в SMS-блоке возможен вызов внешней системы.\nЕсли  вызов  завершится  ошибкой,  то  сообщения  в  SMS-блоке  не  будут  отправлены.  При\nэтом, в отличие от остальных блоков, клиенту не будет отправлено сообщение об ошибке,\nзадать его нельзя.\nОграничение\nна\nиспользование\nпрофиля\nи\nидентификаторов диалога\nВ  SMS-блоке  существует  ограничение  на  использование  профиля  клиента  и\nидентификатора  диалога\n(thread_id).  Профиль  клиента  —  это  набор  системных\nпеременных,  хранящих  значения  характеристик  клиента.  thread_id  —  это  системная\nпеременная,  содержащая  идентификатор  диалога,  в  рамках  которого  бот  выполняет\nдействие рассылки.\nОбращение  к  системным  переменным  профиля  осуществляется  следующим  образом:\n{{profile.<название переменной>}}, к идентификатору диалога — {{thread.thread_id}}.\n82",
    "tags": [
      "вызов внешней",
      "внешней системы",
      "отправлено сообщение",
      "действие рассылки",
      "остальных блоках",
      "блоках рассылки",
      "блоке возможен",
      "возможен вызов",
      "остальных блоков",
      "использование профиля",
      "идентификаторов диалога",
      "системных переменных",
      "системная переменная",
      "выполняет действие",
      "название переменной",
      "идентификатору диалога"
    ]
  },
  {
    "section_id": "56_ограничение_на_использование_профиля_и_идентификаторов_диалога",
    "section_title": "Ограничение на использование профиля и идентификаторов диалога",
    "level": 1,
    "page_start": 82,
    "page_end": 82,
    "text": "•  Время  жизни  ссылки  для  подключения  к  мессенджеру  —  задать  время,  в  течение\nкоторого  ссылка  будет  действительной;  если  задать  «0»,  то  ссылка  будет\nдействовать без ограничения времени.\nРисунок 110 — Ввод данных для подключения лендинга к SMS-блоку\n4.  Нажать на кнопку «Сохранить».\nВызов внешней системы\nКак и в остальных блоках рассылки, в SMS-блоке возможен вызов внешней системы.\nЕсли  вызов  завершится  ошибкой,  то  сообщения  в  SMS-блоке  не  будут  отправлены.  При\nэтом, в отличие от остальных блоков, клиенту не будет отправлено сообщение об ошибке,\nзадать его нельзя.\nОграничение\nна\nиспользование\nпрофиля\nи\nидентификаторов диалога\nВ  SMS-блоке  существует  ограничение  на  использование  профиля  клиента  и\nидентификатора  диалога\n(thread_id).  Профиль  клиента  —  это  набор  системных\nпеременных,  хранящих  значения  характеристик  клиента.  thread_id  —  это  системная\nпеременная,  содержащая  идентификатор  диалога,  в  рамках  которого  бот  выполняет\nдействие рассылки.\nОбращение  к  системным  переменным  профиля  осуществляется  следующим  образом:\n{{profile.<название переменной>}}, к идентификатору диалога — {{thread.thread_id}}.\n82\nПоскольку  при  отправке  SMS  клиента  в  системе  еще  не  существует,  то  обращение  к\nпрофилю  из  этого  блока  невозможно,  за  исключением  одной  переменной  —\n{{ profile.phone }}.\nПодробнее об использовании характеристик клиента см. в подразделе   Использование\nсистемных переменных.",
    "tags": [
      "вызов внешней",
      "внешней системы",
      "отправлено сообщение",
      "ограничения времени",
      "действие рассылки",
      "течение которого",
      "ввод данных",
      "подключения лендинга",
      "остальных блоках",
      "блоках рассылки",
      "блоке возможен",
      "возможен вызов",
      "остальных блоков",
      "использование профиля",
      "идентификаторов диалога",
      "системных переменных",
      "характеристик клиента",
      "системная переменная",
      "выполняет действие",
      "название переменной",
      "идентификатору диалога",
      "использование системных"
    ]
  },
  {
    "section_id": "57_добавление_клиентов",
    "section_title": "Добавление клиентов",
    "level": 1,
    "page_start": 83,
    "page_end": 83,
    "text": "Добавление клиентов\nДля  отправки клиентам  SMS-рассылки  их  необходимо  добавить  в аудиторию рассылки\nпо  номеру  телефона  с  флагом  failback_to_sms  =  true  (см.  подробнее  в  подразделе\nОпределение аудитории).\nЕсли на момент загрузки аудитории клиент уже подтвердил этот номер телефона, то ему\nбудет отправлена обычная рассылка в мессенджер, в котором он подтвердил этот номер\nтелефона. SMS-блок отправлен не будет.\nПримечание:\nДля принудительной отправки SMS клиенту можно задать поле messengers_order пустым\nи выставить failback_to_sms = true. Тогда клиент получит SMS даже если уже подтвердил\nномер телефона в мессенджерах.\nЕсли  клиент  был  добавлен  в  рассылку  по  номеру  телефона  и  на  момент  загрузки\nаудитории  еще  не  подтвердил  номер  телефона,  но  успел  подтвердить  его  перед\nзапуском  рассылки,  то  ему  также  будет  отправлена  обычная  рассылка  в  мессенджер.\nSMS-блок отправлен не будет.\nЕсли клиент подтвердил номер телефона в нескольких мессенджерах, то будет выбран\nпервый в соответствии с заданным в поле messengers_order порядком.\nПри запуске рассылки по событию также указывается флаг failback_to_sms (в интерфейсе\nфлажок «Отправлять SMS, если мессенджеры не используются или клиент не подключен\nк ним»). Поле «Время ожидания подтверждения номера телефона» при этом должно быть\nвыставлено в 0, иначе будет сгенерировано отложенное событие. Подробнее об этом в\nподразделе Отправка рассылок по номеру телефона.\nТакже клиенту можно отправить SMS если он подключился к мессенджеру, но отписался\nот  бота  в  мессенджере.  Для  этого  нужно выставить  флаг  failback_to_sms  (в  интерфейсе\nфлажок «Отправлять SMS, если мессенджеры не используются или клиент не подключен\nк  ним»)  и  задать  параметр  unsubscribed_ttl=0  (в  интерфейсе  в  поле  «Время  ожидания\nподписки  в  мессенджере»  задать  0).  Подробнее  об  этом  в  подразделе  «События,\nотложенные до подписки клиента в мессенджере».\nПри тестовом запуске события (см. Рисунок 111):\n83\nРисунок 111 — Тестовый запуск события для отправки клиенту SMS",
    "tags": [
      "определение аудитории",
      "запуске рассылки",
      "отправки клиенту",
      "клиент получит",
      "время ожидания",
      "также клиенту",
      "подтверждения номера",
      "номера телефона",
      "загрузки аудитории",
      "отправки sms",
      "отправлять sms",
      "sms клиенту",
      "подтвердил номер",
      "номер телефона",
      "клиент подтвердил",
      "аудиторию рассылки",
      "принудительной отправки",
      "задать поле",
      "messengers_order пустым",
      "выставить failback_to_sms",
      "получит sms",
      "отправить sms",
      "номеру телефона",
      "клиенту sms",
      "sms клиент",
      "отправки клиентам",
      "момент загрузки",
      "отправлена обычная",
      "обычная рассылка",
      "блок отправлен",
      "поле messengers_order",
      "нескольких мессенджерах",
      "флаг failback_to_sms",
      "интерфейсе флажок",
      "ожидания подтверждения",
      "отложенное событие",
      "отправка рассылок",
      "нужно выставить",
      "ожидания подписки",
      "подписки клиента"
    ]
  },
  {
    "section_id": "58_работа_с_тегами",
    "section_title": "Работа с тегами",
    "level": 0,
    "page_start": 84,
    "page_end": 89,
    "text": "Работа с тегами\nКаждому клиенту может быть задано произвольное количество тегов. При необходимости\nтеги могут сниматься с клиентов.\nТеги могут использоваться для решения следующих задач:\n•  Запуск рассылки;\n•  Остановка рассылки.\nПримечание:\nПри  работе  с  тегами  следует  учитывать,  что  повторные  назначения  и  снятия  тегов  не\n«засчитываются».  Т. е.  установкой  тега  считается  событие,  когда  тега  не  было  и  он\nпоявился;  снятием  тега  —  наоборот.  Для  целей  отладки  удобно  делать  рассылки,  в\nкоторых одна кнопка назначает клиенту тег, а вторая — снимает.\nЗапуск рассылки\nТег  может  быть  триггером  к  запуску  рассылки  для  клиента.  Если  в  условиях  начала\nрассылки задан определенный тег, то будут запущены рассылки для клиентов, которые\nполучат этот тег.\nНапример, в рассылке ниже (см. Рисунок 112) при нажатии на кнопку «Хочу участвовать»\nклиенту будет присвоен тег StartSpecial2021.\n84\nРисунок 112 — Рассылка, присваивающая тег клиенту при нажатии на кнопку\nПримечание:\nСимвол «+» означает, что при нажатии на кнопку тег будет присвоен клиенту. Аналогично\nв  настройках  кнопки-действия  можно  снять  тег  с  клиента.  В  этом  случае  тег  будет\nотображаться  со  знаком  «-».  Теги  со  знаками  «+»  и  «-»  отображаются  только  для\nмаркетолога, клиент их не видит).\nВ  условиях  запуска  другой  рассылки  нужно  задать  пункт  «Начинать  при  выставлении\nтега»  и  указать  тег  из  первой  рассылки  (StartSpecial2021,  см.  Рисунок  113).  После  этого\nследует запустить вторую рассылку; она будет «ожидать» назначения данного тега.\nРисунок 113 — Ввод условия начала второй рассылки\nВ результате при выполнении сценария сначала первой, а затем и второй рассылки (см.\nРисунок 114) клиент получит следующие сообщения (см. Рисунок 115).\n85\nРисунок 114 — Сценарий рассылки №2 и выполняется при нажатии клиентом на кнопку из\nрассылки №1\nРисунок 115 — Второе сообщение (рассылка №2) получено в результате установки клиенту тега в\nрассылке №1\nОстановка рассылки\nТег  может  являться  триггером  и  к  остановке  рассылки.  Например,  в  блоке  рассылки\nможно для кнопки назначить тег StopSpecial2021 (cм. Рисунок 116).\nРисунок 116 — Установка тега StopSpecial2021 для кнопки «Нет, передумал»\nЕсли  для  данной  рассылки  в  настройке  «Останавливать  рассылку  для  клиентов»\n«Получивших один из тегов» задать тег StopSpecial2021, то после нажатия на кнопку «Нет,\n86\nпередумал» она будет остановлена. При данных настройках (см. Рисунок 117) будут также\nотключены кнопки и запланированные, но еще не отправленные сообщения.\nРисунок 117 — Ввод условия остановки рассылки при получении тега\nКак видно из настроек, рассылка может быть остановлена как при добавлении тега, так\nи при удалении. Например, если рассылка была ранее запущена при назначении тега\nStartSpecial2021 (см. пример в разделе Запуск рассылки), то можно остановить ее путем\nснятия этого тега (см. Рисунок 118). Соответственно, в блок сообщений рассылки, нужно\nбудет добавить кнопку, снимающую данный тег с клиента.\nРисунок 118 — Ввод условия остановки рассылки при снятии тега\nПримечание:\nПри помощи одной кнопки можно устанавливать и снимать сразу несколько тегов.\n87\nЕсли  при  попытке  удалить  у  клиента  тег  оказывается,  что  тег  был  удален  ранее,  или\nникогда не выставлялся (т .е. тега нет), то рассылка не будет остановлена.\nНаличие тега остановки рассылки не мешает запуску новых рассылок для этого клиента.\nВажно, чтобы тег был установлен или снят (для случая, когда настроено «Останавливать\nрассылку  для  клиентов,  у  которых  удален  один  из  тегов»)  именно  после  запуска\nрассылки.\nУправление тегами клиентов\nВ разделе «Теги» (см. Рисунок 119) перечислены все теги, использующиеся в рассылках.\nРисунок 119 — Просмотр тегов\nПри этом отдельного способа создать новый тег нет. Теги создаются автоматически при\nих упоминании:\n•  в настройках кнопок-действий (см. Рисунок 120);\n•  в настройках условия запуска рассылки (см. Рисунок 121).\n88\nРисунок 120 — Создание тега при настройке кнопки-действия\nРисунок 121 — Создание тега при настройке условий запуска рассылки\nПлюс (+) справа от названия тега говорит о том, что при нажатии на Enter тег будет создан\nи добавлен в соответствующее поле.\nУдалять  теги  из  консоли маркетолога  нельзя.  Однажды добавленный  тег  не может быть\nудален, т. к. в общем случае нельзя гарантировать, что в одной из запущенных когда-то\nрассылок этот тег не будет выставляться или сниматься.\nКлиентам теги могут добавляться и удаляться двумя способами:\n•  клиентом самостоятельно — в результате нажатий на кнопки в сообщениях рассылки\n(см. подробнее в подразделе Настройка сценария рассылки);\n•  компанией  —  в  результате  выполнения  API-запроса  (см.  запрос  «Изменение  тегов\nклиентов» в разделе API консоли маркетолога).\n89\nФильтрация клиентов (сегментирование)\n(см.  раздел  Выгрузка  данных  для  выбранного  бота)  в\nПри  выгрузке  аудитории\nодноименном разделе помимо прочих данных о клиентах выгружается и список тегов (см.\nРисунок  122).  Это  позволяет  сегментировать  аудиторию  по  признаку  наличия  или\nотсутствия некоторого тега или тегов.\nРисунок 122 — Список тегов клиента в файле аудитории бота",
    "tags": [
      "консоли маркетолога",
      "условия запуска",
      "сценарий рассылки",
      "сценария рассылки",
      "условия начала",
      "начала рассылки",
      "установка тега",
      "условий запуска",
      "запуска рассылки",
      "настройка сценария",
      "сообщений рассылки",
      "добавить кнопку",
      "клиент получит",
      "общем случае",
      "ввод условия",
      "могут использоваться",
      "вторую рассылку",
      "рассылке ниже",
      "начала второй",
      "второй рассылки",
      "второе сообщение",
      "произвольное количество",
      "остановки рассылки",
      "выставлении тега",
      "рассылки тег",
      "запуск рассылки",
      "api консоли",
      "файле аудитории",
      "теги могут",
      "остановка рассылки",
      "рассылки задан",
      "тег stopspecial2021",
      "останавливать рассылку",
      "условия остановки",
      "создание тега",
      "двумя способами",
      "сообщениях рассылки",
      "тегов клиентов",
      "список тегов",
      "тегов клиента"
    ]
  },
  {
    "section_id": "59_запуск_рассылки",
    "section_title": "Запуск рассылки",
    "level": 1,
    "page_start": 84,
    "page_end": 84,
    "text": "Запуск рассылки;\n•",
    "tags": [
      "запуск рассылки"
    ]
  },
  {
    "section_id": "60_остановка_рассылки",
    "section_title": "Остановка рассылки",
    "level": 1,
    "page_start": 86,
    "page_end": 87,
    "text": "Остановка рассылки\nТег  может  являться  триггером  и  к  остановке  рассылки.  Например,  в  блоке  рассылки\nможно для кнопки назначить тег StopSpecial2021 (cм. Рисунок 116).\nРисунок 116 — Установка тега StopSpecial2021 для кнопки «Нет, передумал»\nЕсли  для  данной  рассылки  в  настройке  «Останавливать  рассылку  для  клиентов»\n«Получивших один из тегов» задать тег StopSpecial2021, то после нажатия на кнопку «Нет,\n86\nпередумал» она будет остановлена. При данных настройках (см. Рисунок 117) будут также\nотключены кнопки и запланированные, но еще не отправленные сообщения.\nРисунок 117 — Ввод условия остановки рассылки при получении тега\nКак видно из настроек, рассылка может быть остановлена как при добавлении тега, так\nи при удалении. Например, если рассылка была ранее запущена при назначении тега\nStartSpecial2021 (см. пример в разделе Запуск рассылки), то можно остановить ее путем\nснятия этого тега (см. Рисунок 118). Соответственно, в блок сообщений рассылки, нужно\nбудет добавить кнопку, снимающую данный тег с клиента.\nРисунок 118 — Ввод условия остановки рассылки при снятии тега\nПримечание:\nПри помощи одной кнопки можно устанавливать и снимать сразу несколько тегов.\n87\nЕсли  при  попытке  удалить  у  клиента  тег  оказывается,  что  тег  был  удален  ранее,  или\nникогда не выставлялся (т .е. тега нет), то рассылка не будет остановлена.\nНаличие тега остановки рассылки не мешает запуску новых рассылок для этого клиента.\nВажно, чтобы тег был установлен или снят (для случая, когда настроено «Останавливать\nрассылку  для  клиентов,  у  которых  удален  один  из  тегов»)  именно  после  запуска\nрассылки.",
    "tags": [
      "установка тега",
      "запуска рассылки",
      "сообщений рассылки",
      "добавить кнопку",
      "ввод условия",
      "остановки рассылки",
      "рассылки тег",
      "запуск рассылки",
      "остановка рассылки",
      "тег stopspecial2021",
      "останавливать рассылку",
      "условия остановки"
    ]
  },
  {
    "section_id": "61_управление_тегами_клиентов",
    "section_title": "Управление тегами клиентов",
    "level": 1,
    "page_start": 88,
    "page_end": 89,
    "text": "Управление тегами клиентов\nВ разделе «Теги» (см. Рисунок 119) перечислены все теги, использующиеся в рассылках.\nРисунок 119 — Просмотр тегов\nПри этом отдельного способа создать новый тег нет. Теги создаются автоматически при\nих упоминании:\n•  в настройках кнопок-действий (см. Рисунок 120);\n•  в настройках условия запуска рассылки (см. Рисунок 121).\n88\nРисунок 120 — Создание тега при настройке кнопки-действия\nРисунок 121 — Создание тега при настройке условий запуска рассылки\nПлюс (+) справа от названия тега говорит о том, что при нажатии на Enter тег будет создан\nи добавлен в соответствующее поле.\nУдалять  теги  из  консоли маркетолога  нельзя.  Однажды добавленный  тег  не может быть\nудален, т. к. в общем случае нельзя гарантировать, что в одной из запущенных когда-то\nрассылок этот тег не будет выставляться или сниматься.\nКлиентам теги могут добавляться и удаляться двумя способами:\n•  клиентом самостоятельно — в результате нажатий на кнопки в сообщениях рассылки\n(см. подробнее в подразделе Настройка сценария рассылки);\n•  компанией  —  в  результате  выполнения  API-запроса  (см.  запрос  «Изменение  тегов\nклиентов» в разделе API консоли маркетолога).\n89",
    "tags": [
      "консоли маркетолога",
      "условия запуска",
      "сценария рассылки",
      "условий запуска",
      "запуска рассылки",
      "настройка сценария",
      "общем случае",
      "api консоли",
      "теги могут",
      "создание тега",
      "двумя способами",
      "сообщениях рассылки",
      "тегов клиентов"
    ]
  },
  {
    "section_id": "62_фильтрация_клиентов_сегментирование",
    "section_title": "Фильтрация клиентов (сегментирование)",
    "level": 1,
    "page_start": 90,
    "page_end": 90,
    "text": "Фильтрация клиентов (сегментирование)\n(см.  раздел  Выгрузка  данных  для  выбранного  бота)  в\nПри  выгрузке  аудитории\nодноименном разделе помимо прочих данных о клиентах выгружается и список тегов (см.\nРисунок  122).  Это  позволяет  сегментировать  аудиторию  по  признаку  наличия  или\nотсутствия некоторого тега или тегов.\nРисунок 122 — Список тегов клиента в файле аудитории бота",
    "tags": [
      "файле аудитории",
      "список тегов",
      "тегов клиента"
    ]
  },
  {
    "section_id": "63_использование_событий",
    "section_title": "Использование событий",
    "level": 0,
    "page_start": 90,
    "page_end": 99,
    "text": "Использование событий\nОбщая информация о событиях\nСобытия  могут  являться  триггером  к  началу  рассылки  для  клиента.  Это  удобно  для\nрешения  некоторых  маркетинговых  задач.  Например,  можно  создать  событие  «Клиент\nвоспользовался  услугой»  и  генерировать  его  при  оплате  клиентом  услуги.  Получив\nинформацию о событии, бот может запустить одну или несколько рассылок этому клиенту:\nконтроль  качества  через  несколько  дней,  повторное  предложение  услуги  со  скидкой\nчерез месяц и т. д.\nСобытия делятся на два типа:\n1.  Системные:\n•  Добавление нового клиента;\n•  Подтверждение номера телефона.\n2.  Пользовательские.\nСистемные события\nСистемные события  генерируются,  когда  клиент  отправляет  сообщение  боту  в  первый\nраз, либо подтверждает номер телефона. Их нельзя удалить или изменить.\nВажно!\nСистемные  события срабатывают  для  всех клиентов,  которые  подключились  к  боту  или\nподтвердили  номер  телефона.  При  тестировании  таких  рассылок  нужно  быть  очень\n90\nаккуратным  и  учитывать,  что  эти  события  могут  происходить  одновременно  у  многих\nреальных клиентов.\nТестирование  таких  рассылок  лучше  производить  с  использованием  отдельного\nтестового  события,  и  потом  только  переключать  рассылку  на  начало  по  системным\nсобытиям.  Иными  словами,  аудитория  может  оказаться  шире,  чем  изначально  кажется\nмаркетологу.\nИ  рассылка  будет  затрагивать  всех  будущих  клиентов,  которые\nподключатся или подтвердят номер телефона. Соответственно, лучше проверить такую\nрассылку заранее на другом событии и уже потом переключиться на нужное.\nПользовательские события\nПользовательские  события  могут  генерироваться  из  другой  рассылки  или  с  помощью\nспециального вызова API (см. подробнее запросы группы «Генерация событий» в разделе\nAPI консоли маркетолога).\nПользовательские  события  можно  создавать  и  удалять  из  интерфейса  консоли\nмаркетолога (см. Рисунок 123).\nРисунок 123 — Переход к добавлению пользовательского события\nПри  создании  события  задается  его  идентификатор,  имя  и  аргументы  (см.  Рисунок 124).\nИдентификатор  события  используется  при  генерации  события.  Имя  используется  для\nотображения события в интерфейсе, например, при выборе события в условиях запуска\nрассылки.\n91\nРисунок 124 — Ввод аргументов события\nАргументы позволяют передавать дополнительную информацию при генерации события.\nНапример,  у  системного  события  «Подтверждение  номера  телефона»  есть  аргумент\nphone_number — номер телефона, который подтвердил клиент.\nПри  создании  пользовательских  событий  в  них  может  быть  добавлено  произвольное\nчисло  аргументов.  Например,  для  события  «Клиент  воспользовался  услугой»  можно\nдобавить аргументы «Дата оказания услуги» и «Мастер, который оказывал услугу». Эти\nаргументы можно будет использовать в текстах сообщений, кнопках рассылки и других\nтекстовых  полях  аналогично  макросам.  Таким  образом,  можно  создавать\nперсонифицированные для каждого клиента рассылки.\nРедактирование событий\nПосле  создания  пользовательского  события  маркетолог  может  произвольно\nредактировать все доступные поля и удалить его.\nЕсли хотя бы одна рассылка настроена на старт по данному событию, то его удаление\nзапрещено,  редактирование  названия  и  идентификатора  рассылки  разрешено.\nРедактирование  и  удаление  аргументов  события  ограничено  созданными  в  рассылке\nмакросами. Если аргумент события не используется в рассылке, то его можно удалять и\nизменять. Если используется, то доступно только изменение названия аргумента.\nЕсли хотя бы одна из рассылок, настроенных на старт по данному событию, запущена, то\nредактирование всех полей события и его аргументов запрещено.\n92\nТестирование рассылок, запускаемых по событию\nВ  интерфейсе  консоли маркетолога  предусмотрена  возможность  генерации  событий  в\nцелях тестирования.\nДля этого можно нажать кнопку «Сгенерировать событие» в разделе «События» напротив\nвыбранного события (см. Рисунок 125) или на странице самого события (см. Рисунок 126).\nРисунок 125 — Кнопки генерации событий в списке\nРисунок 126 — Кнопка генерации события на странице события\n93\nПосле  генерации  события  с  использованием  интерфейса  Marketer  в  области  «Список\nlaunch_result_ids»  отображаются  специальные  ссылки  (см.  Рисунок  127),  позволяющие\nперейти к отладке рассылки.\nРисунок 127 — Сгенерировано событие с идентификатором запуска (launch_result_id)\nПри  переходе  по  ссылке  отображается  интерфейс  отладки  (см.  подробнее  раздел\nОтладка),  в  котором  применен  фильтр  по  выбранному  идентификатору  запуска\n(launch_result_id), см. Рисунок 128.\nРисунок 128 — Просмотр результатов генерации события в разделе «Отладка»\n94\nДля  передачи  информации  о  запросе  разработчикам  компании,  например,  для\nинтеграции с CRM, удобно использовать кнопки копирования запроса в формате curl (см.\nРисунок 129).\nРисунок 129 — Кнопки для копирования запроса в формате curl\nПри генерации событий при помощи интерфейса консоли маркетолога система не даст\nввести  значения  аргументов,  не  соответствующие  их  типу.  При  генерации  событий  при\nпомощи  API-вызовов  также  выполняется  проверка  соответствия  типов  аргументов.\nНапример, при вызове события с некорректным значением аргумента vip:\ncurl -X POST -H \"Content-Type: application/json\" -H \"Authorization: Bearer Contoso_:eyJoXfD\nsaJkKrsGFH...\" -d '{\n\"customer_messenger_id\": 13561,\n\"event_name\": \"numeric_code_for_client\",\n\"arguments\": {\n\"code\": 133442,\n\"discount\": 15,\n\"vip\": \"no\"\n}\n}' \"https://mailing-factory.dev.maxbot.ai/v1/event\"\nсервер вернет ответ с HTTP-статусом 409:\nHTTP/2 409\n{\n\"detail\": \"Argument type error(boolean): no\",\n\"key\": \"argument_type\",\n}\n95\nСобытия, отложенные до подтверждения клиентом номера\nтелефона\nПри  генерации  событий  описанным  выше  запросом  рассылка  для  указанного  в  ней\nтаким\nклиента  стартует  сразу  после  получения  запроса.  Если  клиента  с\nидентификатором не найдено, то рассылка не будет запущена.\nВ некоторых случаях удобно иметь возможность отложить запуск рассылки для клиентов,\nкоторые  еще  не  подключились  к  боту,  и,  соответственно,  не  имеют  идентификатора.\nНапример, когда компании выгодно подключать клиентов к боту для ведения дальнейшей\nкоммуникации,  и  клиентам  предлагается  скидка,  но  только  в  том  случае  если  они\nподключатся к боту и подтвердят в нем свой номер телефона.\nВ  этом  случае  компания  может  сгенерировать  отложенное  событие,  указав  не\nидентификатор клиента, а его номер телефона. Бот будет ждать заданное время (ttl, англ.\ntime  to  live;  настройка  в  интерфейсе  называется  «Время  ожидания  подтверждения\nномера  телефона»  и  задается  в  секундах,  см.  Рисунок  130),  и  если  клиент  за  это  время\nподтвердит свой номер телефона, то событие будет сгенерировано и рассылка для него\nначнется.\nРисунок 130 — Генерация отложенного события подтверждения номера телефона\nЕсли клиент с таким номером телефона уже есть, то он сразу получит рассылку, несмотря\n(например,  если  по  приоритету  Facebook*  первый,\nна  приоритет  мессенджеров\nВКонтакте  второй,  а  Telegram*  третий,  но  клиент  не  подтвердил  номер  в  Facebook*,  то\n96\nрассылка  уйдет  во  ВКонтакте.  Среди  мессенджеров,  где  телефон  подтвержден,\nприоритет учитывается).\nПримечание:\nСгенерировать  отложенное  событие  также  можно  при  помощи  API-вызова,  задав\nненулевой параметр ttl (см. запрос «Генерация события по номеру телефона» в разделе\nAPI консоли маркетолога).\nСобытия, отложенные до подписки клиента в мессенджере\nКлиенты  всех  поддерживаемых  мессенджеров  имеют  возможность  отписаться  от\nполучения  сообщений  от  бота  в  мессенджере  (не  следует  путать  с  отпиской  от  всех\nрассылок на уровне Maxbot). Это приводит к невозможности отправлять таким клиентам\nкакие-либо сообщения.\nВ  некоторых  случаях  может  быть  целесообразно  подождать,  пока  клиент  подпишется\nобратно.  Например,  когда  клиенту  предлагают  присылать  информацию  о  статусе\nсделанного заказа.\nДля  этого  предназначен  второй  тип  ожидания  —  ожидание  подписки  клиента  в\nмессенджерах; это время также задается в секундах (см. Рисунок 131).\nРисунок 131 — Генерация отложенного события ожидания подписки в мессенджере\nПримечание:\nДанный тип ожидания может быть задан как в запросе генерации отложенного события,\nтак и в запросе генерации обычного события по идентификатору клиента. Для указания\nзадержки  используется  параметр  запроса  unsubscribed_ttl  (настройка  в  интерфейсе  —\n97\n«Время  ожидания  подписки  в  мессенджере»).  Подробнее  об  этом  см.  в  описании  API-\nзапросов группы «Генерация событий» в разделе API консоли маркетолога.\nРисунок 132 — Генерация отложенного события ожидания подписки в мессенджере (по\nидентификатору клиента)\nЕсли  клиент  подписывается  в  мессенджере  в  течение  указанного  времени,  то для  него\nначинается рассылка. Если не успевает, то рассылка не начинается, событие считается\nпросроченным.\nПримечание:\nfailback_to_sms\nКлиенту можно отправить SMS если он отписался от бота в мессенджере. Для этого нужно\nвыставить  флаг\n(в  интерфейсе  флажок  «Отправлять  SMS,  если\nмессенджеры  не  используются  или  клиент  не  подключен  к  ним»)  и  задать  параметр\nunsubscribed_ttl=0  (в  интерфейсе  в  поле  «Время  ожидания  подписки  в  мессенджере»\nзадать 0). Если при этом задать параметр  unsubscribed_ttl > 0, то бот начнет ожидание\nподписки в мессенджере, SMS рассылка не начнется.\nОтправка рассылок по номеру телефона\nВ некоторых случаях неудобно генерировать событие указывая идентификатор клиента.\nДля  таких  случаев  можно  указать  номер  телефона,  время  ожидания  подтверждения\nномера телефона = 0 и приоритет мессенджеров.\nВ этом случае бот запустит рассылку, настроенную на начало по указанному событию,\nдля  клиента  с  указанным  номером  телефона.  Если  клиент  подтвердил  свой  номер  в\nнескольких  мессенджерах,  то  будет  взят  первый  по  заданному  приоритету.  Если  нет\nклиентов, которые подтвердили указанный номер телефона, то рассылка не начнется ни\nдля кого из клиентов.\n98\nРисунок 133 — Отправка рассылки по номеру телефона с указанием приоритета мессенджеров\nОтправка  рассылок  по  номеру  телефона  и  отложенные  события  отличаются  только\nпараметром «Время ожидания подтверждения номера телефона». Внутренний механизм\nи запрос API-запрос одинаковы (см. запрос «Генерация события по номеру телефона» в\nразделе API консоли маркетолога).\nПримечание:\nПри  отправке  SMS-рассылок  флажок  «Отправлять  SMS  если  мессенджеры  не\nиспользуются  или  клиент  не  подключен  к  ним»  должен  быть  установлен,  поле  «Время\nожидания  подтверждения  номера  телефона»  должно  быть  установлено  в  0,  рассылка\nдолжна содержать SMS-блок.\nСтатусы событий\nЧасто вызывающей стороне нужно знать, чем закончилась генерация события: началась\nли  для  клиента  рассылка;  если  да,  то  какая,  когда  и  т. д.  Для  этого  предусмотрены\nстатусы  событий,  которые  можно  получить,  обработав  ответ  на  запрос  генерации\nсобытий.\nПри  генерации  событий  в  ответе  на  запрос  возвращаются  идентификаторы  запусков\n(flow), или идентификаторы отложенных событий.\n99\nЕсли  событие  сгенерировано  по  идентификатору  клиента  или  по  номеру  телефона,  и\nклиент с указанным номером уже существует, то в ответе на запрос генерации события\nвозвращается список launch_customer_ids с идентификаторами запусков рассылок.\nИнформацию  по  каждому  запуску  можно  получить  с  помощью  API-запроса  (см.  запрос\n«Получение статуса запуска рассылки» в разделе API консоли маркетолога).",
    "tags": [
      "консоли маркетолога",
      "каждого клиента",
      "некоторых случаях",
      "интерфейса консоли",
      "запуска рассылки",
      "сгенерировать событие",
      "заданное время",
      "генерация события",
      "удобно использовать",
      "рассылка должна",
      "аргументов события",
      "тому клиент",
      "время ожидания",
      "либо сообщения",
      "нового клиента",
      "произвольное число",
      "использование событий",
      "сгенерировано событие",
      "ввод аргументов",
      "генерации события",
      "выбранного события",
      "подтверждения номера",
      "номера телефона",
      "одна рассылка",
      "это время",
      "начинается рассылка",
      "получит рассылку",
      "запуск рассылки",
      "идентификатор клиента",
      "sms клиенту",
      "номер телефона",
      "указанный номер",
      "отправить sms",
      "номеру телефона",
      "api консоли",
      "рассылка настроена",
      "тому клиенту",
      "sms клиент",
      "свой номер",
      "ожидания подтверждения",
      "отправка рассылок",
      "нужно выставить",
      "задать параметр",
      "параметр unsubscribed_ttl",
      "ожидания подписки",
      "подписки клиента",
      "условиях запуска",
      "общая информация",
      "клиент воспользовался",
      "добавление нового",
      "подтверждение номера",
      "системные события",
      "события системные",
      "либо подтверждает",
      "подтверждает номер",
      "события срабатывают",
      "многих реальных",
      "реальных клиентов",
      "отдельного тестового",
      "системным событиям",
      "кажется маркетологу",
      "которые подключатся",
      "подтвердят номер",
      "проверить такую",
      "такую рассылку",
      "рассылку заранее",
      "другом событии",
      "пользовательские события",
      "события пользовательские",
      "помощью специального",
      "специального вызова",
      "вызова api",
      "подробнее запросы",
      "запросы группы",
      "генерация событий",
      "добавлению пользовательского",
      "пользовательского события",
      "отображения события",
      "выборе события",
      "события аргументы",
      "аргументы позволяют",
      "позволяют передавать",
      "передавать дополнительную",
      "дополнительную информацию",
      "аргумент phone_number",
      "который подтвердил",
      "подтвердил клиент",
      "добавить аргументы",
      "дата оказания",
      "оказания услуги",
      "который оказывал",
      "оказывал услугу",
      "текстах сообщений",
      "кнопках рассылки",
      "других текстовых",
      "создавать персонифицированные",
      "клиента рассылки",
      "доступные поля",
      "данному событию",
      "аргумент события",
      "генерации событий",
      "список launch_result_ids",
      "кнопки копирования",
      "копирования запроса",
      "формате curl",
      "вызове события",
      "подтверждения клиентом",
      "клиентом номера",
      "таким клиента",
      "случаях удобно",
      "удобно иметь",
      "иметь возможность",
      "возможность отложить",
      "отложить запуск",
      "компании выгодно",
      "выгодно подключать",
      "подключать клиентов",
      "ведения дальнейшей",
      "дальнейшей коммуникации",
      "нем свой",
      "ждать заданное",
      "время подтвердит",
      "подтвердит свой",
      "генерация отложенного",
      "отложенного события",
      "события подтверждения",
      "таким номером",
      "номером телефона",
      "сразу получит",
      "приоритет мессенджеров",
      "мессенджеров вконтакте",
      "мессенджере клиенты",
      "тип ожидания",
      "ожидание подписки",
      "события ожидания",
      "запросе генерации",
      "идентификатору клиента",
      "sms рассылка",
      "случае бот",
      "указанным номером",
      "отправка рассылки",
      "статусы событий",
      "нужно знать",
      "запрос генерации",
      "отложенных событий",
      "события возвращается",
      "запусков рассылок",
      "получение статуса",
      "статуса запуска"
    ]
  },
  {
    "section_id": "64_общая_информация_о_событиях",
    "section_title": "Общая информация о событиях",
    "level": 1,
    "page_start": 90,
    "page_end": 91,
    "text": "Общая информация о событиях\nСобытия  могут  являться  триггером  к  началу  рассылки  для  клиента.  Это  удобно  для\nрешения  некоторых  маркетинговых  задач.  Например,  можно  создать  событие  «Клиент\nвоспользовался  услугой»  и  генерировать  его  при  оплате  клиентом  услуги.  Получив\nинформацию о событии, бот может запустить одну или несколько рассылок этому клиенту:\nконтроль  качества  через  несколько  дней,  повторное  предложение  услуги  со  скидкой\nчерез месяц и т. д.\nСобытия делятся на два типа:\n1.  Системные:\n•  Добавление нового клиента;\n•  Подтверждение номера телефона.\n2.  Пользовательские.\nСистемные события\nСистемные события  генерируются,  когда  клиент  отправляет  сообщение  боту  в  первый\nраз, либо подтверждает номер телефона. Их нельзя удалить или изменить.\nВажно!\nСистемные  события срабатывают  для  всех клиентов,  которые  подключились  к  боту  или\nподтвердили  номер  телефона.  При  тестировании  таких  рассылок  нужно  быть  очень\n90\nаккуратным  и  учитывать,  что  эти  события  могут  происходить  одновременно  у  многих\nреальных клиентов.\nТестирование  таких  рассылок  лучше  производить  с  использованием  отдельного\nтестового  события,  и  потом  только  переключать  рассылку  на  начало  по  системным\nсобытиям.  Иными  словами,  аудитория  может  оказаться  шире,  чем  изначально  кажется\nмаркетологу.\nИ  рассылка  будет  затрагивать  всех  будущих  клиентов,  которые\nподключатся или подтвердят номер телефона. Соответственно, лучше проверить такую\nрассылку заранее на другом событии и уже потом переключиться на нужное.\nПользовательские события\nПользовательские  события  могут  генерироваться  из  другой  рассылки  или  с  помощью\nспециального вызова API (см. подробнее запросы группы «Генерация событий» в разделе\nAPI консоли маркетолога).\nПользовательские  события  можно  создавать  и  удалять  из  интерфейса  консоли\nмаркетолога (см. Рисунок 123).\nРисунок 123 — Переход к добавлению пользовательского события\nПри  создании  события  задается  его  идентификатор,  имя  и  аргументы  (см.  Рисунок 124).\nИдентификатор  события  используется  при  генерации  события.  Имя  используется  для\nотображения события в интерфейсе, например, при выборе события в условиях запуска\nрассылки.\n91\nРисунок 124 — Ввод аргументов события\nАргументы позволяют передавать дополнительную информацию при генерации события.\nНапример,  у  системного  события  «Подтверждение  номера  телефона»  есть  аргумент\nphone_number — номер телефона, который подтвердил клиент.\nПри  создании  пользовательских  событий  в  них  может  быть  добавлено  произвольное\nчисло  аргументов.  Например,  для  события  «Клиент  воспользовался  услугой»  можно\nдобавить аргументы «Дата оказания услуги» и «Мастер, который оказывал услугу». Эти\nаргументы можно будет использовать в текстах сообщений, кнопках рассылки и других\nтекстовых  полях  аналогично  макросам.  Таким  образом,  можно  создавать\nперсонифицированные для каждого клиента рассылки.",
    "tags": [
      "консоли маркетолога",
      "каждого клиента",
      "запуска рассылки",
      "аргументов события",
      "тому клиент",
      "нового клиента",
      "произвольное число",
      "ввод аргументов",
      "генерации события",
      "номера телефона",
      "номер телефона",
      "api консоли",
      "тому клиенту",
      "условиях запуска",
      "общая информация",
      "клиент воспользовался",
      "добавление нового",
      "подтверждение номера",
      "системные события",
      "события системные",
      "либо подтверждает",
      "подтверждает номер",
      "события срабатывают",
      "многих реальных",
      "реальных клиентов",
      "отдельного тестового",
      "системным событиям",
      "кажется маркетологу",
      "которые подключатся",
      "подтвердят номер",
      "проверить такую",
      "такую рассылку",
      "рассылку заранее",
      "другом событии",
      "пользовательские события",
      "события пользовательские",
      "помощью специального",
      "специального вызова",
      "вызова api",
      "подробнее запросы",
      "запросы группы",
      "генерация событий",
      "добавлению пользовательского",
      "пользовательского события",
      "отображения события",
      "выборе события",
      "события аргументы",
      "аргументы позволяют",
      "позволяют передавать",
      "передавать дополнительную",
      "дополнительную информацию",
      "аргумент phone_number",
      "который подтвердил",
      "подтвердил клиент",
      "добавить аргументы",
      "дата оказания",
      "оказания услуги",
      "который оказывал",
      "оказывал услугу",
      "текстах сообщений",
      "кнопках рассылки",
      "других текстовых",
      "создавать персонифицированные",
      "клиента рассылки"
    ]
  },
  {
    "section_id": "65_системные_события",
    "section_title": "Системные события",
    "level": 2,
    "page_start": 90,
    "page_end": 90,
    "text": "Системные события\nСистемные события  генерируются,  когда  клиент  отправляет  сообщение  боту  в  первый\nраз, либо подтверждает номер телефона. Их нельзя удалить или изменить.\nВажно!\nСистемные  события срабатывают  для  всех клиентов,  которые  подключились  к  боту  или\nподтвердили  номер  телефона.  При  тестировании  таких  рассылок  нужно  быть  очень\n90\nаккуратным  и  учитывать,  что  эти  события  могут  происходить  одновременно  у  многих\nреальных клиентов.\nТестирование  таких  рассылок  лучше  производить  с  использованием  отдельного\nтестового  события,  и  потом  только  переключать  рассылку  на  начало  по  системным\nсобытиям.  Иными  словами,  аудитория  может  оказаться  шире,  чем  изначально  кажется\nмаркетологу.\nИ  рассылка  будет  затрагивать  всех  будущих  клиентов,  которые\nподключатся или подтвердят номер телефона. Соответственно, лучше проверить такую\nрассылку заранее на другом событии и уже потом переключиться на нужное.",
    "tags": [
      "номер телефона",
      "системные события",
      "события системные",
      "либо подтверждает",
      "подтверждает номер",
      "события срабатывают",
      "многих реальных",
      "реальных клиентов",
      "отдельного тестового",
      "системным событиям",
      "кажется маркетологу",
      "которые подключатся",
      "подтвердят номер",
      "проверить такую",
      "такую рассылку",
      "рассылку заранее",
      "другом событии"
    ]
  },
  {
    "section_id": "66_пользовательские_события",
    "section_title": "Пользовательские события",
    "level": 2,
    "page_start": 91,
    "page_end": 91,
    "text": "Пользовательские события\nПользовательские  события  могут  генерироваться  из  другой  рассылки  или  с  помощью\nспециального вызова API (см. подробнее запросы группы «Генерация событий» в разделе\nAPI консоли маркетолога).\nПользовательские  события  можно  создавать  и  удалять  из  интерфейса  консоли\nмаркетолога (см. Рисунок 123).\nРисунок 123 — Переход к добавлению пользовательского события\nПри  создании  события  задается  его  идентификатор,  имя  и  аргументы  (см.  Рисунок 124).\nИдентификатор  события  используется  при  генерации  события.  Имя  используется  для\nотображения события в интерфейсе, например, при выборе события в условиях запуска\nрассылки.\n91\nРисунок 124 — Ввод аргументов события\nАргументы позволяют передавать дополнительную информацию при генерации события.\nНапример,  у  системного  события  «Подтверждение  номера  телефона»  есть  аргумент\nphone_number — номер телефона, который подтвердил клиент.\nПри  создании  пользовательских  событий  в  них  может  быть  добавлено  произвольное\nчисло  аргументов.  Например,  для  события  «Клиент  воспользовался  услугой»  можно\nдобавить аргументы «Дата оказания услуги» и «Мастер, который оказывал услугу». Эти\nаргументы можно будет использовать в текстах сообщений, кнопках рассылки и других\nтекстовых  полях  аналогично  макросам.  Таким  образом,  можно  создавать\nперсонифицированные для каждого клиента рассылки.",
    "tags": [
      "консоли маркетолога",
      "каждого клиента",
      "запуска рассылки",
      "аргументов события",
      "произвольное число",
      "ввод аргументов",
      "генерации события",
      "номер телефона",
      "api консоли",
      "условиях запуска",
      "пользовательские события",
      "события пользовательские",
      "помощью специального",
      "специального вызова",
      "вызова api",
      "подробнее запросы",
      "запросы группы",
      "генерация событий",
      "добавлению пользовательского",
      "пользовательского события",
      "отображения события",
      "выборе события",
      "события аргументы",
      "аргументы позволяют",
      "позволяют передавать",
      "передавать дополнительную",
      "дополнительную информацию",
      "аргумент phone_number",
      "который подтвердил",
      "подтвердил клиент",
      "добавить аргументы",
      "дата оказания",
      "оказания услуги",
      "который оказывал",
      "оказывал услугу",
      "текстах сообщений",
      "кнопках рассылки",
      "других текстовых",
      "создавать персонифицированные",
      "клиента рассылки"
    ]
  },
  {
    "section_id": "67_редактирование_событий",
    "section_title": "Редактирование событий",
    "level": 1,
    "page_start": 92,
    "page_end": 92,
    "text": "Редактирование событий\nПосле  создания  пользовательского  события  маркетолог  может  произвольно\nредактировать все доступные поля и удалить его.\nЕсли хотя бы одна рассылка настроена на старт по данному событию, то его удаление\nзапрещено,  редактирование  названия  и  идентификатора  рассылки  разрешено.\nРедактирование  и  удаление  аргументов  события  ограничено  созданными  в  рассылке\nмакросами. Если аргумент события не используется в рассылке, то его можно удалять и\nизменять. Если используется, то доступно только изменение названия аргумента.\nЕсли хотя бы одна из рассылок, настроенных на старт по данному событию, запущена, то\nредактирование всех полей события и его аргументов запрещено.\n92",
    "tags": [
      "одна рассылка",
      "рассылка настроена",
      "доступные поля",
      "данному событию",
      "аргумент события"
    ]
  },
  {
    "section_id": "68_тестирование_рассылок_запускаемых_по_событию",
    "section_title": "Тестирование рассылок, запускаемых по событию",
    "level": 1,
    "page_start": 93,
    "page_end": 96,
    "text": "Тестирование рассылок, запускаемых по событию\nВ  интерфейсе  консоли маркетолога  предусмотрена  возможность  генерации  событий  в\nцелях тестирования.\nДля этого можно нажать кнопку «Сгенерировать событие» в разделе «События» напротив\nвыбранного события (см. Рисунок 125) или на странице самого события (см. Рисунок 126).\nРисунок 125 — Кнопки генерации событий в списке\nРисунок 126 — Кнопка генерации события на странице события\n93\nПосле  генерации  события  с  использованием  интерфейса  Marketer  в  области  «Список\nlaunch_result_ids»  отображаются  специальные  ссылки  (см.  Рисунок  127),  позволяющие\nперейти к отладке рассылки.\nРисунок 127 — Сгенерировано событие с идентификатором запуска (launch_result_id)\nПри  переходе  по  ссылке  отображается  интерфейс  отладки  (см.  подробнее  раздел\nОтладка),  в  котором  применен  фильтр  по  выбранному  идентификатору  запуска\n(launch_result_id), см. Рисунок 128.\nРисунок 128 — Просмотр результатов генерации события в разделе «Отладка»\n94\nДля  передачи  информации  о  запросе  разработчикам  компании,  например,  для\nинтеграции с CRM, удобно использовать кнопки копирования запроса в формате curl (см.\nРисунок 129).\nРисунок 129 — Кнопки для копирования запроса в формате curl\nПри генерации событий при помощи интерфейса консоли маркетолога система не даст\nввести  значения  аргументов,  не  соответствующие  их  типу.  При  генерации  событий  при\nпомощи  API-вызовов  также  выполняется  проверка  соответствия  типов  аргументов.\nНапример, при вызове события с некорректным значением аргумента vip:\ncurl -X POST -H \"Content-Type: application/json\" -H \"Authorization: Bearer Contoso_:eyJoXfD\nsaJkKrsGFH...\" -d '{\n\"customer_messenger_id\": 13561,\n\"event_name\": \"numeric_code_for_client\",\n\"arguments\": {\n\"code\": 133442,\n\"discount\": 15,\n\"vip\": \"no\"\n}\n}' \"https://mailing-factory.dev.maxbot.ai/v1/event\"\nсервер вернет ответ с HTTP-статусом 409:\nHTTP/2 409\n{\n\"detail\": \"Argument type error(boolean): no\",\n\"key\": \"argument_type\",\n}\n95\nСобытия, отложенные до подтверждения клиентом номера\nтелефона\nПри  генерации  событий  описанным  выше  запросом  рассылка  для  указанного  в  ней\nтаким\nклиента  стартует  сразу  после  получения  запроса.  Если  клиента  с\nидентификатором не найдено, то рассылка не будет запущена.\nВ некоторых случаях удобно иметь возможность отложить запуск рассылки для клиентов,\nкоторые  еще  не  подключились  к  боту,  и,  соответственно,  не  имеют  идентификатора.\nНапример, когда компании выгодно подключать клиентов к боту для ведения дальнейшей\nкоммуникации,  и  клиентам  предлагается  скидка,  но  только  в  том  случае  если  они\nподключатся к боту и подтвердят в нем свой номер телефона.\nВ  этом  случае  компания  может  сгенерировать  отложенное  событие,  указав  не\nидентификатор клиента, а его номер телефона. Бот будет ждать заданное время (ttl, англ.\ntime  to  live;  настройка  в  интерфейсе  называется  «Время  ожидания  подтверждения\nномера  телефона»  и  задается  в  секундах,  см.  Рисунок  130),  и  если  клиент  за  это  время\nподтвердит свой номер телефона, то событие будет сгенерировано и рассылка для него\nначнется.\nРисунок 130 — Генерация отложенного события подтверждения номера телефона\nЕсли клиент с таким номером телефона уже есть, то он сразу получит рассылку, несмотря\n(например,  если  по  приоритету  Facebook*  первый,\nна  приоритет  мессенджеров\nВКонтакте  второй,  а  Telegram*  третий,  но  клиент  не  подтвердил  номер  в  Facebook*,  то\n96",
    "tags": [
      "консоли маркетолога",
      "некоторых случаях",
      "интерфейса консоли",
      "сгенерировать событие",
      "заданное время",
      "удобно использовать",
      "сгенерировано событие",
      "генерации события",
      "выбранного события",
      "подтверждения номера",
      "номера телефона",
      "получит рассылку",
      "запуск рассылки",
      "идентификатор клиента",
      "номер телефона",
      "свой номер",
      "генерации событий",
      "список launch_result_ids",
      "кнопки копирования",
      "копирования запроса",
      "формате curl",
      "вызове события",
      "подтверждения клиентом",
      "клиентом номера",
      "таким клиента",
      "случаях удобно",
      "удобно иметь",
      "иметь возможность",
      "возможность отложить",
      "отложить запуск",
      "компании выгодно",
      "выгодно подключать",
      "подключать клиентов",
      "ведения дальнейшей",
      "дальнейшей коммуникации",
      "нем свой",
      "ждать заданное",
      "время подтвердит",
      "подтвердит свой",
      "генерация отложенного",
      "отложенного события",
      "события подтверждения",
      "таким номером",
      "номером телефона",
      "сразу получит",
      "мессенджеров вконтакте"
    ]
  },
  {
    "section_id": "69_события_отложенные_до_подтверждения_клиентом_номера_телефона",
    "section_title": "События, отложенные до подтверждения клиентом номера телефона",
    "level": 1,
    "page_start": 96,
    "page_end": 96,
    "text": "События, отложенные до подтверждения клиентом номера\nтелефона\nПри  генерации  событий  описанным  выше  запросом  рассылка  для  указанного  в  ней\nтаким\nклиента  стартует  сразу  после  получения  запроса.  Если  клиента  с\nидентификатором не найдено, то рассылка не будет запущена.\nВ некоторых случаях удобно иметь возможность отложить запуск рассылки для клиентов,\nкоторые  еще  не  подключились  к  боту,  и,  соответственно,  не  имеют  идентификатора.\nНапример, когда компании выгодно подключать клиентов к боту для ведения дальнейшей\nкоммуникации,  и  клиентам  предлагается  скидка,  но  только  в  том  случае  если  они\nподключатся к боту и подтвердят в нем свой номер телефона.\nВ  этом  случае  компания  может  сгенерировать  отложенное  событие,  указав  не\nидентификатор клиента, а его номер телефона. Бот будет ждать заданное время (ttl, англ.\ntime  to  live;  настройка  в  интерфейсе  называется  «Время  ожидания  подтверждения\nномера  телефона»  и  задается  в  секундах,  см.  Рисунок  130),  и  если  клиент  за  это  время\nподтвердит свой номер телефона, то событие будет сгенерировано и рассылка для него\nначнется.\nРисунок 130 — Генерация отложенного события подтверждения номера телефона\nЕсли клиент с таким номером телефона уже есть, то он сразу получит рассылку, несмотря\n(например,  если  по  приоритету  Facebook*  первый,\nна  приоритет  мессенджеров\nВКонтакте  второй,  а  Telegram*  третий,  но  клиент  не  подтвердил  номер  в  Facebook*,  то\n96\nрассылка  уйдет  во  ВКонтакте.  Среди  мессенджеров,  где  телефон  подтвержден,\nприоритет учитывается).\nПримечание:\nСгенерировать  отложенное  событие  также  можно  при  помощи  API-вызова,  задав\nненулевой параметр ttl (см. запрос «Генерация события по номеру телефона» в разделе\nAPI консоли маркетолога).",
    "tags": [
      "консоли маркетолога",
      "некоторых случаях",
      "заданное время",
      "генерация события",
      "подтверждения номера",
      "номера телефона",
      "получит рассылку",
      "запуск рассылки",
      "идентификатор клиента",
      "номер телефона",
      "номеру телефона",
      "api консоли",
      "свой номер",
      "подтверждения клиентом",
      "клиентом номера",
      "таким клиента",
      "случаях удобно",
      "удобно иметь",
      "иметь возможность",
      "возможность отложить",
      "отложить запуск",
      "компании выгодно",
      "выгодно подключать",
      "подключать клиентов",
      "ведения дальнейшей",
      "дальнейшей коммуникации",
      "нем свой",
      "ждать заданное",
      "время подтвердит",
      "подтвердит свой",
      "генерация отложенного",
      "отложенного события",
      "события подтверждения",
      "таким номером",
      "номером телефона",
      "сразу получит",
      "мессенджеров вконтакте"
    ]
  },
  {
    "section_id": "70_события_отложенные_до_подписки_клиента_в_мессенджере",
    "section_title": "События, отложенные до подписки клиента в мессенджере",
    "level": 1,
    "page_start": 97,
    "page_end": 97,
    "text": "События, отложенные до подписки клиента в мессенджере\nКлиенты  всех  поддерживаемых  мессенджеров  имеют  возможность  отписаться  от\nполучения  сообщений  от  бота  в  мессенджере  (не  следует  путать  с  отпиской  от  всех\nрассылок на уровне Maxbot). Это приводит к невозможности отправлять таким клиентам\nкакие-либо сообщения.\nВ  некоторых  случаях  может  быть  целесообразно  подождать,  пока  клиент  подпишется\nобратно.  Например,  когда  клиенту  предлагают  присылать  информацию  о  статусе\nсделанного заказа.\nДля  этого  предназначен  второй  тип  ожидания  —  ожидание  подписки  клиента  в\nмессенджерах; это время также задается в секундах (см. Рисунок 131).\nРисунок 131 — Генерация отложенного события ожидания подписки в мессенджере\nПримечание:\nДанный тип ожидания может быть задан как в запросе генерации отложенного события,\nтак и в запросе генерации обычного события по идентификатору клиента. Для указания\nзадержки  используется  параметр  запроса  unsubscribed_ttl  (настройка  в  интерфейсе  —\n97\n«Время  ожидания  подписки  в  мессенджере»).  Подробнее  об  этом  см.  в  описании  API-\nзапросов группы «Генерация событий» в разделе API консоли маркетолога.\nРисунок 132 — Генерация отложенного события ожидания подписки в мессенджере (по\nидентификатору клиента)\nЕсли  клиент  подписывается  в  мессенджере  в  течение  указанного  времени,  то для  него\nначинается рассылка. Если не успевает, то рассылка не начинается, событие считается\nпросроченным.\nПримечание:\nfailback_to_sms\nКлиенту можно отправить SMS если он отписался от бота в мессенджере. Для этого нужно\nвыставить  флаг\n(в  интерфейсе  флажок  «Отправлять  SMS,  если\nмессенджеры  не  используются  или  клиент  не  подключен  к  ним»)  и  задать  параметр\nunsubscribed_ttl=0  (в  интерфейсе  в  поле  «Время  ожидания  подписки  в  мессенджере»\nзадать 0). Если при этом задать параметр  unsubscribed_ttl > 0, то бот начнет ожидание\nподписки в мессенджере, SMS рассылка не начнется.",
    "tags": [
      "консоли маркетолога",
      "либо сообщения",
      "это время",
      "начинается рассылка",
      "sms клиенту",
      "отправить sms",
      "api консоли",
      "sms клиент",
      "нужно выставить",
      "задать параметр",
      "параметр unsubscribed_ttl",
      "ожидания подписки",
      "подписки клиента",
      "генерация событий",
      "таким клиента",
      "генерация отложенного",
      "отложенного события",
      "мессенджере клиенты",
      "тип ожидания",
      "ожидание подписки",
      "события ожидания",
      "запросе генерации",
      "идентификатору клиента",
      "sms рассылка"
    ]
  },
  {
    "section_id": "71_отправка_рассылок_по_номеру_телефона",
    "section_title": "Отправка рассылок по номеру телефона",
    "level": 1,
    "page_start": 98,
    "page_end": 98,
    "text": "Отправка рассылок по номеру телефона\nВ некоторых случаях неудобно генерировать событие указывая идентификатор клиента.\nДля  таких  случаев  можно  указать  номер  телефона,  время  ожидания  подтверждения\nномера телефона = 0 и приоритет мессенджеров.\nВ этом случае бот запустит рассылку, настроенную на начало по указанному событию,\nдля  клиента  с  указанным  номером  телефона.  Если  клиент  подтвердил  свой  номер  в\nнескольких  мессенджерах,  то  будет  взят  первый  по  заданному  приоритету.  Если  нет\nклиентов, которые подтвердили указанный номер телефона, то рассылка не начнется ни\nдля кого из клиентов.\n98\nРисунок 133 — Отправка рассылки по номеру телефона с указанием приоритета мессенджеров\nОтправка  рассылок  по  номеру  телефона  и  отложенные  события  отличаются  только\nпараметром «Время ожидания подтверждения номера телефона». Внутренний механизм\nи запрос API-запрос одинаковы (см. запрос «Генерация события по номеру телефона» в\nразделе API консоли маркетолога).\nПримечание:\nПри  отправке  SMS-рассылок  флажок  «Отправлять  SMS  если  мессенджеры  не\nиспользуются  или  клиент  не  подключен  к  ним»  должен  быть  установлен,  поле  «Время\nожидания  подтверждения  номера  телефона»  должно  быть  установлено  в  0,  рассылка\nдолжна содержать SMS-блок.",
    "tags": [
      "консоли маркетолога",
      "некоторых случаях",
      "генерация события",
      "рассылка должна",
      "время ожидания",
      "подтверждения номера",
      "номера телефона",
      "идентификатор клиента",
      "номер телефона",
      "указанный номер",
      "номеру телефона",
      "api консоли",
      "ожидания подтверждения",
      "отправка рассылок",
      "приоритет мессенджеров",
      "случае бот",
      "отправка рассылки"
    ]
  },
  {
    "section_id": "72_статусы_событий",
    "section_title": "Статусы событий",
    "level": 1,
    "page_start": 99,
    "page_end": 99,
    "text": "Статусы событий\nЧасто вызывающей стороне нужно знать, чем закончилась генерация события: началась\nли  для  клиента  рассылка;  если  да,  то  какая,  когда  и  т. д.  Для  этого  предусмотрены\nстатусы  событий,  которые  можно  получить,  обработав  ответ  на  запрос  генерации\nсобытий.\nПри  генерации  событий  в  ответе  на  запрос  возвращаются  идентификаторы  запусков\n(flow), или идентификаторы отложенных событий.\n99\nЕсли  событие  сгенерировано  по  идентификатору  клиента  или  по  номеру  телефона,  и\nклиент с указанным номером уже существует, то в ответе на запрос генерации события\nвозвращается список launch_customer_ids с идентификаторами запусков рассылок.\nИнформацию  по  каждому  запуску  можно  получить  с  помощью  API-запроса  (см.  запрос\n«Получение статуса запуска рассылки» в разделе API консоли маркетолога).",
    "tags": [
      "консоли маркетолога",
      "запуска рассылки",
      "генерация события",
      "генерации события",
      "api консоли",
      "генерации событий",
      "указанным номером",
      "статусы событий",
      "нужно знать",
      "запрос генерации",
      "отложенных событий",
      "события возвращается",
      "запусков рассылок",
      "получение статуса",
      "статуса запуска"
    ]
  },
  {
    "section_id": "73_использование_макросов",
    "section_title": "Использование макросов",
    "level": 0,
    "page_start": 100,
    "page_end": 105,
    "text": "Использование макросов\nМакросы  позволяют  персонифицировать  рассылки  для  клиентов.  Например,  можно\nсоздать рассылку (см. Рисунок 134), в тексте которой используются два макроса:\n•  customer_name — имя и отчество клиента;\n•  customer_discount — персональная скидка.\nРисунок 134 — Рассылка, использующая два макроса\nДалее  можно  использовать  файл  аудитории,  в  котором  заданы  значения  для\nиспользуемых макросов. Например, файл в формате JSON может иметь следующий вид:\n{\n\"customers\": [\n{\n},\n{\n\"id\": 13561,\n\"timezone\": \"Europe/Moscow\",\n\"customer_data\": {\n\"customer_name\": \"Дмитрий Владимирович\",\n\"customer_discount\": \"15\"\n}\n\"phone\": \"79999999999\",\n\"messengers_order\": [\"telegram\", \"vkontakte\", \"facebook*\"],\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": false,\n\"customer_data\": {\n\"customer_name\": \"Владимир Валерьевич\",\n\"customer_discount\": \"10\"\n100\n}\n}\n],\n\"macroses\": [\n{\n},\n{\n}\n\"name\": \"customer_name\",\n\"type\": \"string\"\n\"name\": \"customer_discount\",\n\"type\": \"string\"\n]\n}\nКаждому  клиенту  из  аудитории  рассылки  можно  задать  свои  значения,  таким  образом,\nсделав рассылку уникальной для каждого клиента.\nПосле запуска клиенты получат рассылку, в которой бот обратится к ним по именам, а\nтакже укажет для каждого из них размер персональной скидки (для первого клиента 15%,\nдля второго — 10%).\nПоля, в которых можно использовать макросы\nМакросы можно использовать почти во всех текстовых полях конструктора рассылок:\n•  Тексты сообщений;\n•  Заголовки кнопок;\n•  URL для кнопок-ссылок;\n•  URL для медиа-контента;\n•  Сообщения при переводе в канал;\n•  Большинство  полей  настроек  вызова  внешней  системы  (кроме  названий  заголовков\nзапроса и названий параметров запроса);\n•  Аргументы события при генерации событий;\n•  Все текстовые поля SMS-блока и настройки вызова внешней системы в SMS-блоке\n•  Многие текстовые поля других действий9.\n9 Возможности использования макросов в них описываются отдельно в описании каждого действия.\n101\nСоздание и удаление макросов рассылки\nЯвного способа создания и удаления макросов в рассылке нет. Макросы создаются при\nупоминании в одном из перечисленных ранее полей.\nМакрос может состоять из латинских букв, цифр, подчеркивания и обрамляется двойной\nфигурной скобкой.\nМаркетолог  может  создать  рассылку  и  в  первом  же  сообщении  написать  «{{  abc  }}».  В\nэтом случае в рассылке будет создан макрос abc. Если маркетолог удалит этот макрос\nиз всех текстовых полей, то макрос удалится.\nПроверка наличия макросов\nВ  консоли  маркетолога  реализована  система  проверки  наличия  макросов,  целью\nкоторой  является  не  дать  маркетологу  запустить  рассылку,  в  которой  для  клиентов  не\nзаданы какие-либо макросы, либо неверно определены их значения. При этом значения\nмакросов в файле аудитории могут быть и пустыми.\nПроверки работают следующим образом:\n1.  Если аудитория задается статично, то пока ни одного клиента не задано в рассылку\nможно  добавлять  любые  макросы.  Однако,  при  загрузке  аудитории  все  заданные\nмакросы должны быть у всех добавляемых в рассылку клиентов. Иначе при загрузке\nаудитории маркетолог увидит ошибку.\n2.  Если аудитория задается статично, и аудитория рассылки уже задана, то в рассылку\nможно  добавлять  только  те  макросы,  значения  которых  есть  у  всех  клиентов  из\nаудитории  рассылки.  При  попытке  использовать  в  тексте  отсутствующий  хотя  бы  у\nодного клиента макрос маркетолог получит ошибку.\n3.  Если рассылка начинается при выставлении тега или при получении ключевого слова,\nто  использование  макросов  недопустимо.  Т.  к.  нет  способа  задавать  значения  этих\nмакросов.\n4.  Если  рассылка  начинается  при  возникновении  события,  то  в  рассылку  можно\nдобавлять  только  макросы,  названия  которых  совпадают  с  именами  аргументов\nсобытия, по которому стартует рассылка. При попытке использовать другой макрос\nвозникнет  ошибка.  При  попытке  удалить  аргумент  события,  который  используется  в\nрассылке, возникнет ошибка. При попытке сменить событие, по которому запускается\nрассылка,  требуется  чтобы  у  нового  события  были  все  аргументы,  которые\nиспользуются в рассылке.\n5.  Если  рассылка  имеет  фиксированную  аудиторию  и  начинается  по  событию,  то\nмакросы берутся и из фиксированной аудитории, и из аргументов события. При этом\nони  не  могут  пересекаться,  т. е.  нельзя  загрузить  аудиторию  с  определенным\nмакросом и использовать одноименный аргумент в событии.\n102\nОпределение значений макросов для клиентов\nДля рассылок со статической аудиторией значения макросов задаются в JSON или CSV-\nфайлах, определяющих аудиторию рассылки.\nДля рассылок, начинающихся по событию, значения макросов передаются в аргументах\nсобытия.  Например,  если  рассылка  началась  по  событию  «Создание  промокода  для\nклиента» (см. Рисунок 135), то в теле рассылки могут быть использованы макросы {{code}},\n{{discount}} и {{valid_thru}}.\nРисунок 135 — Аргументы события являются макросами для рассылки\nИспользование системных переменных\nПрофиль клиента\nИногда необходимо получить некоторые системные переменные для клиента. Например,\nего  идентификатор  для  передачи  его  во  внешнюю  систему.  В  этом  случае  можно\nвыполнить обращение к профилю клиента.\nДоступные поля:\n•  maxbot_id — идентификатор бота;\n•  maxbot_name — название бота;\n•  company_name — название компании;\n•  external_messenger_id — идентификатор (id) в Viber. Тип string;\n•  messenger_type — тип мессенджера;\n•  messenger_id — идентификатор (id) в мессенджерах (кроме Viber). Тип integer. Для Viber\nэто значение генерируется в боте.\n103\n•  customer_messenger_id — идентификатор клиента в Maxbot;\n•  phone — подтвержденный номер телефона клиента. None, если нет подтвержденного\nномера.\nПримечание:\nВ SMS-блоке доступна только одна переменная — profile.phone.\nОбратиться к переменным можно следующим образом:\n{{ profile.<field> }}\nНапример,\n{{ profile.customer_messenger_id }}\nИдентификатор диалога\nИдентификатор  диалога,  в  рамках  которого  бот  выполняет  действие  рассылки,\nсодержится  в  системной  переменной  thread.thread_id.  Эта  переменная  недоступна  в\nSMS-блоке.\nДействия  рассылки  в  рамках  одного  запуска  (launch)  выполняются  в  разных  диалогах.\nНапример, при выполнении рассылки (см. Рисунок 136) будут сгенерированы 3 различных\nидентификатора, т. к. после выполнения каждого действия бот будет закрывать диалог.\nРисунок 136 — Пример рассылки, которая генерирует 3 различных thread_id\nСоответственно,  клиент  при  выполнении  данной  рассылки  получит  сообщения\nследующего вида:\nРисунок 137 — Отображение thread_id у клиента\n104\nИспользование  макросов  в  настройках  вызова  внешней\nсистемы и в действии генерации события\nВ настройках вызова внешней системы и в действии генерации события использование\nмакросов имеет ряд особенностей.\nВ полях настроек вызова внешней системы:\n•  Адрес;\n•  Текст сообщения в случае ошибки;\n•  Значение заголовка запроса\nмакросы задаются как обычно, в двойных фигурных скобках. Например:\n{{ macros_1 }}\nПример заполнения показан на рисунке ниже (см. Рисунок 138):\nРисунок 138 — Использование макросов при вызове внешней системы\nПоля настройках вызова внешней системы:\n•  Значение параметра запроса;\n•  Тело запроса\n105\nа  также  аргументы  генерируемых  из  рассылки  событий  являются  вычислимыми  jinja-\nвыражениями,  и  параметры  запросов  задаются  там  с  приставкой  «slots.m.»  и  без\nфигурных скобок:\nslots.m.macros_1\nТак, например, можно задать следующее тело запроса:\n{\n}\n\"Macros 1\": slots.m.macros_1,\n\"Macros 2\": slots.m.macros_2,\n\"Some details\":[\nprofile.customer_messenger_id,\nprofile.messenger_type,\nslots.m.macros_3\n]\nИли аргумент события:\nРисунок 139 — Определение аргумента для события",
    "tags": [
      "каждого клиента",
      "аудитория рассылки",
      "название компании",
      "внешней системы",
      "текст сообщения",
      "использовать макросы",
      "использование макросов",
      "аргументах события",
      "создать рассылку",
      "аргументы события",
      "фигурных скобках",
      "аргументов события",
      "следующим образом",
      "рассылку клиентов",
      "вызова внешней",
      "параметров запроса",
      "генерации события",
      "формате json",
      "использованы макросы",
      "действия бот",
      "рассылка начинает",
      "рассылка начинается",
      "рассылки могут",
      "фиксированной аудитории",
      "это значение",
      "получении ключевого",
      "ключевого слова",
      "выставлении тега",
      "следующий вид",
      "аудитория задается",
      "идентификатор клиента",
      "номер телефона",
      "телефона клиент",
      "аудиторию рассылки",
      "значения макросов",
      "макросов задаются",
      "загрузке аудитории",
      "значений макросов",
      "статической аудиторией",
      "тип string",
      "одного клиента",
      "ряд особенностей",
      "файле аудитории",
      "профиль клиента",
      "системных переменных",
      "идентификатор диалога",
      "использование системных",
      "текстовых полях",
      "доступные поля",
      "аргумент события",
      "генерации событий",
      "тексты сообщений",
      "настроек вызова",
      "текстовые поля",
      "настройки вызова",
      "каждого действия",
      "наличия макросов",
      "задается статично",
      "попытке использовать",
      "возникнет ошибка",
      "необходимо получить",
      "получить некоторые",
      "некоторые системные",
      "системные переменные",
      "выполнить обращение",
      "профилю клиента",
      "идентификатор бота",
      "название бота",
      "тип мессенджера",
      "кроме viber",
      "тип integer",
      "viber это",
      "значение генерируется",
      "подтвержденный номер",
      "телефона клиента",
      "подтвержденного номера",
      "блоке доступна",
      "одна переменная",
      "диалога идентификатор",
      "выполнении рассылки",
      "будут сгенерированы",
      "различных идентификатора",
      "выполнения каждого",
      "закрывать диалог",
      "которая генерирует",
      "различных thread_id",
      "thread_id соответственно",
      "сообщения следующего",
      "следующего вида",
      "отображение thread_id",
      "клиента 104",
      "104 использование",
      "настройках вызова",
      "действии генерации",
      "события использование",
      "макросов имеет",
      "имеет ряд",
      "полях настроек",
      "случае ошибки",
      "значение заголовка",
      "заголовка запроса",
      "запроса макросы",
      "макросы задаются",
      "двойных фигурных",
      "заполнения показан",
      "вызове внешней",
      "системы поля",
      "поля настройках",
      "значение параметра",
      "параметра запроса",
      "тело запроса",
      "запроса 105",
      "тип int"
    ]
  },
  {
    "section_id": "74_поля_в_которых_можно_использовать_макросы",
    "section_title": "Поля, в которых можно использовать макросы",
    "level": 1,
    "page_start": 101,
    "page_end": 101,
    "text": "Поля, в которых можно использовать макросы\nМакросы можно использовать почти во всех текстовых полях конструктора рассылок:\n•  Тексты сообщений;\n•  Заголовки кнопок;\n•  URL для кнопок-ссылок;\n•  URL для медиа-контента;\n•  Сообщения при переводе в канал;\n•  Большинство  полей  настроек  вызова  внешней  системы  (кроме  названий  заголовков\nзапроса и названий параметров запроса);\n•  Аргументы события при генерации событий;\n•  Все текстовые поля SMS-блока и настройки вызова внешней системы в SMS-блоке\n•  Многие текстовые поля других действий9.\n9 Возможности использования макросов в них описываются отдельно в описании каждого действия.\n101",
    "tags": [
      "внешней системы",
      "использовать макросы",
      "аргументы события",
      "вызова внешней",
      "параметров запроса",
      "текстовых полях",
      "генерации событий",
      "тексты сообщений",
      "текстовые поля",
      "настройки вызова",
      "каждого действия"
    ]
  },
  {
    "section_id": "75_создание_и_удаление_макросов_рассылки",
    "section_title": "Создание и удаление макросов рассылки",
    "level": 1,
    "page_start": 102,
    "page_end": 102,
    "text": "Создание и удаление макросов рассылки\nЯвного способа создания и удаления макросов в рассылке нет. Макросы создаются при\nупоминании в одном из перечисленных ранее полей.\nМакрос может состоять из латинских букв, цифр, подчеркивания и обрамляется двойной\nфигурной скобкой.\nМаркетолог  может  создать  рассылку  и  в  первом  же  сообщении  написать  «{{  abc  }}».  В\nэтом случае в рассылке будет создан макрос abc. Если маркетолог удалит этот макрос\nиз всех текстовых полей, то макрос удалится.",
    "tags": []
  },
  {
    "section_id": "76_проверка_наличия_макросов",
    "section_title": "Проверка наличия макросов",
    "level": 1,
    "page_start": 102,
    "page_end": 102,
    "text": "Проверка наличия макросов\nВ  консоли  маркетолога  реализована  система  проверки  наличия  макросов,  целью\nкоторой  является  не  дать  маркетологу  запустить  рассылку,  в  которой  для  клиентов  не\nзаданы какие-либо макросы, либо неверно определены их значения. При этом значения\nмакросов в файле аудитории могут быть и пустыми.\nПроверки работают следующим образом:\n1.  Если аудитория задается статично, то пока ни одного клиента не задано в рассылку\nможно  добавлять  любые  макросы.  Однако,  при  загрузке  аудитории  все  заданные\nмакросы должны быть у всех добавляемых в рассылку клиентов. Иначе при загрузке\nаудитории маркетолог увидит ошибку.\n2.  Если аудитория задается статично, и аудитория рассылки уже задана, то в рассылку\nможно  добавлять  только  те  макросы,  значения  которых  есть  у  всех  клиентов  из\nаудитории  рассылки.  При  попытке  использовать  в  тексте  отсутствующий  хотя  бы  у\nодного клиента макрос маркетолог получит ошибку.\n3.  Если рассылка начинается при выставлении тега или при получении ключевого слова,\nто  использование  макросов  недопустимо.  Т.  к.  нет  способа  задавать  значения  этих\nмакросов.\n4.  Если  рассылка  начинается  при  возникновении  события,  то  в  рассылку  можно\nдобавлять  только  макросы,  названия  которых  совпадают  с  именами  аргументов\nсобытия, по которому стартует рассылка. При попытке использовать другой макрос\nвозникнет  ошибка.  При  попытке  удалить  аргумент  события,  который  используется  в\nрассылке, возникнет ошибка. При попытке сменить событие, по которому запускается\nрассылка,  требуется  чтобы  у  нового  события  были  все  аргументы,  которые\nиспользуются в рассылке.\n5.  Если  рассылка  имеет  фиксированную  аудиторию  и  начинается  по  событию,  то\nмакросы берутся и из фиксированной аудитории, и из аргументов события. При этом\nони  не  могут  пересекаться,  т. е.  нельзя  загрузить  аудиторию  с  определенным\nмакросом и использовать одноименный аргумент в событии.\n102",
    "tags": [
      "аудитория рассылки",
      "аргументов события",
      "следующим образом",
      "рассылку клиентов",
      "рассылка начинает",
      "рассылка начинается",
      "фиксированной аудитории",
      "получении ключевого",
      "ключевого слова",
      "выставлении тега",
      "аудитория задается",
      "значения макросов",
      "загрузке аудитории",
      "одного клиента",
      "файле аудитории",
      "наличия макросов",
      "задается статично",
      "попытке использовать",
      "возникнет ошибка"
    ]
  },
  {
    "section_id": "77_определение_значений_макросов_для_клиентов",
    "section_title": "Определение значений макросов для клиентов",
    "level": 1,
    "page_start": 103,
    "page_end": 103,
    "text": "Определение значений макросов для клиентов\nДля рассылок со статической аудиторией значения макросов задаются в JSON или CSV-\nфайлах, определяющих аудиторию рассылки.\nДля рассылок, начинающихся по событию, значения макросов передаются в аргументах\nсобытия.  Например,  если  рассылка  началась  по  событию  «Создание  промокода  для\nклиента» (см. Рисунок 135), то в теле рассылки могут быть использованы макросы {{code}},\n{{discount}} и {{valid_thru}}.\nРисунок 135 — Аргументы события являются макросами для рассылки",
    "tags": [
      "аргументах события",
      "аргументы события",
      "использованы макросы",
      "рассылки могут",
      "аудиторию рассылки",
      "значения макросов",
      "макросов задаются",
      "значений макросов",
      "статической аудиторией"
    ]
  },
  {
    "section_id": "78_использование_системных_переменных",
    "section_title": "Использование системных переменных",
    "level": 1,
    "page_start": 103,
    "page_end": 105,
    "text": "Использование системных переменных\nПрофиль клиента\nИногда необходимо получить некоторые системные переменные для клиента. Например,\nего  идентификатор  для  передачи  его  во  внешнюю  систему.  В  этом  случае  можно\nвыполнить обращение к профилю клиента.\nДоступные поля:\n•  maxbot_id — идентификатор бота;\n•  maxbot_name — название бота;\n•  company_name — название компании;\n•  external_messenger_id — идентификатор (id) в Viber. Тип string;\n•  messenger_type — тип мессенджера;\n•  messenger_id — идентификатор (id) в мессенджерах (кроме Viber). Тип integer. Для Viber\nэто значение генерируется в боте.\n103\n•  customer_messenger_id — идентификатор клиента в Maxbot;\n•  phone — подтвержденный номер телефона клиента. None, если нет подтвержденного\nномера.\nПримечание:\nВ SMS-блоке доступна только одна переменная — profile.phone.\nОбратиться к переменным можно следующим образом:\n{{ profile.<field> }}\nНапример,\n{{ profile.customer_messenger_id }}\nИдентификатор диалога\nИдентификатор  диалога,  в  рамках  которого  бот  выполняет  действие  рассылки,\nсодержится  в  системной  переменной  thread.thread_id.  Эта  переменная  недоступна  в\nSMS-блоке.\nДействия  рассылки  в  рамках  одного  запуска  (launch)  выполняются  в  разных  диалогах.\nНапример, при выполнении рассылки (см. Рисунок 136) будут сгенерированы 3 различных\nидентификатора, т. к. после выполнения каждого действия бот будет закрывать диалог.\nРисунок 136 — Пример рассылки, которая генерирует 3 различных thread_id\nСоответственно,  клиент  при  выполнении  данной  рассылки  получит  сообщения\nследующего вида:\nРисунок 137 — Отображение thread_id у клиента\n104\nИспользование  макросов  в  настройках  вызова  внешней\nсистемы и в действии генерации события\nВ настройках вызова внешней системы и в действии генерации события использование\nмакросов имеет ряд особенностей.\nВ полях настроек вызова внешней системы:\n•  Адрес;\n•  Текст сообщения в случае ошибки;\n•  Значение заголовка запроса\nмакросы задаются как обычно, в двойных фигурных скобках. Например:\n{{ macros_1 }}\nПример заполнения показан на рисунке ниже (см. Рисунок 138):\nРисунок 138 — Использование макросов при вызове внешней системы\nПоля настройках вызова внешней системы:\n•  Значение параметра запроса;\n•  Тело запроса\n105",
    "tags": [
      "название компании",
      "внешней системы",
      "текст сообщения",
      "использование макросов",
      "фигурных скобках",
      "следующим образом",
      "вызова внешней",
      "генерации события",
      "действия бот",
      "это значение",
      "идентификатор клиента",
      "номер телефона",
      "телефона клиент",
      "тип string",
      "ряд особенностей",
      "профиль клиента",
      "системных переменных",
      "идентификатор диалога",
      "использование системных",
      "доступные поля",
      "настроек вызова",
      "каждого действия",
      "необходимо получить",
      "получить некоторые",
      "некоторые системные",
      "системные переменные",
      "выполнить обращение",
      "профилю клиента",
      "идентификатор бота",
      "название бота",
      "тип мессенджера",
      "кроме viber",
      "тип integer",
      "viber это",
      "значение генерируется",
      "подтвержденный номер",
      "телефона клиента",
      "подтвержденного номера",
      "блоке доступна",
      "одна переменная",
      "диалога идентификатор",
      "выполнении рассылки",
      "будут сгенерированы",
      "различных идентификатора",
      "выполнения каждого",
      "закрывать диалог",
      "которая генерирует",
      "различных thread_id",
      "thread_id соответственно",
      "сообщения следующего",
      "следующего вида",
      "отображение thread_id",
      "клиента 104",
      "104 использование",
      "настройках вызова",
      "действии генерации",
      "события использование",
      "макросов имеет",
      "имеет ряд",
      "полях настроек",
      "случае ошибки",
      "значение заголовка",
      "заголовка запроса",
      "запроса макросы",
      "макросы задаются",
      "двойных фигурных",
      "заполнения показан",
      "вызове внешней",
      "системы поля",
      "поля настройках",
      "значение параметра",
      "параметра запроса",
      "тело запроса",
      "запроса 105",
      "тип int"
    ]
  },
  {
    "section_id": "79_профиль_клиента",
    "section_title": "Профиль клиента",
    "level": 2,
    "page_start": 103,
    "page_end": 103,
    "text": "Профиль клиента\nИногда необходимо получить некоторые системные переменные для клиента. Например,\nего  идентификатор  для  передачи  его  во  внешнюю  систему.  В  этом  случае  можно\nвыполнить обращение к профилю клиента.\nДоступные поля:\n•  maxbot_id — идентификатор бота;\n•  maxbot_name — название бота;\n•  company_name — название компании;\n•  external_messenger_id — идентификатор (id) в Viber. Тип string;\n•  messenger_type — тип мессенджера;\n•  messenger_id — идентификатор (id) в мессенджерах (кроме Viber). Тип integer. Для Viber\nэто значение генерируется в боте.\n103\n•  customer_messenger_id — идентификатор клиента в Maxbot;\n•  phone — подтвержденный номер телефона клиента. None, если нет подтвержденного\nномера.\nПримечание:\nВ SMS-блоке доступна только одна переменная — profile.phone.\nОбратиться к переменным можно следующим образом:\n{{ profile.<field> }}\nНапример,\n{{ profile.customer_messenger_id }}",
    "tags": [
      "название компании",
      "следующим образом",
      "это значение",
      "идентификатор клиента",
      "номер телефона",
      "телефона клиент",
      "тип string",
      "профиль клиента",
      "доступные поля",
      "необходимо получить",
      "получить некоторые",
      "некоторые системные",
      "системные переменные",
      "выполнить обращение",
      "профилю клиента",
      "идентификатор бота",
      "название бота",
      "тип мессенджера",
      "кроме viber",
      "тип integer",
      "viber это",
      "значение генерируется",
      "подтвержденный номер",
      "телефона клиента",
      "подтвержденного номера",
      "блоке доступна",
      "одна переменная",
      "тип int"
    ]
  },
  {
    "section_id": "80_идентификатор_диалога",
    "section_title": "Идентификатор диалога",
    "level": 2,
    "page_start": 104,
    "page_end": 105,
    "text": "Идентификатор диалога\nИдентификатор  диалога,  в  рамках  которого  бот  выполняет  действие  рассылки,\nсодержится  в  системной  переменной  thread.thread_id.  Эта  переменная  недоступна  в\nSMS-блоке.\nДействия  рассылки  в  рамках  одного  запуска  (launch)  выполняются  в  разных  диалогах.\nНапример, при выполнении рассылки (см. Рисунок 136) будут сгенерированы 3 различных\nидентификатора, т. к. после выполнения каждого действия бот будет закрывать диалог.\nРисунок 136 — Пример рассылки, которая генерирует 3 различных thread_id\nСоответственно,  клиент  при  выполнении  данной  рассылки  получит  сообщения\nследующего вида:\nРисунок 137 — Отображение thread_id у клиента\n104\nИспользование  макросов  в  настройках  вызова  внешней\nсистемы и в действии генерации события\nВ настройках вызова внешней системы и в действии генерации события использование\nмакросов имеет ряд особенностей.\nВ полях настроек вызова внешней системы:\n•  Адрес;\n•  Текст сообщения в случае ошибки;\n•  Значение заголовка запроса\nмакросы задаются как обычно, в двойных фигурных скобках. Например:\n{{ macros_1 }}\nПример заполнения показан на рисунке ниже (см. Рисунок 138):\nРисунок 138 — Использование макросов при вызове внешней системы\nПоля настройках вызова внешней системы:\n•  Значение параметра запроса;\n•  Тело запроса\n105",
    "tags": [
      "внешней системы",
      "текст сообщения",
      "использование макросов",
      "фигурных скобках",
      "вызова внешней",
      "генерации события",
      "действия бот",
      "ряд особенностей",
      "идентификатор диалога",
      "настроек вызова",
      "каждого действия",
      "диалога идентификатор",
      "выполнении рассылки",
      "будут сгенерированы",
      "различных идентификатора",
      "выполнения каждого",
      "закрывать диалог",
      "которая генерирует",
      "различных thread_id",
      "thread_id соответственно",
      "сообщения следующего",
      "следующего вида",
      "отображение thread_id",
      "клиента 104",
      "104 использование",
      "настройках вызова",
      "действии генерации",
      "события использование",
      "макросов имеет",
      "имеет ряд",
      "полях настроек",
      "случае ошибки",
      "значение заголовка",
      "заголовка запроса",
      "запроса макросы",
      "макросы задаются",
      "двойных фигурных",
      "заполнения показан",
      "вызове внешней",
      "системы поля",
      "поля настройках",
      "значение параметра",
      "параметра запроса",
      "тело запроса",
      "запроса 105"
    ]
  },
  {
    "section_id": "81_использование_макросов_в_настройках_вызова_внешней_системы_и_в_действии_генерации_события",
    "section_title": "Использование  макросов  в  настройках  вызова  внешней  системы  и  в действии генерации события",
    "level": 1,
    "page_start": 105,
    "page_end": 105,
    "text": "Использование  макросов  в  настройках  вызова  внешней\nсистемы и в действии генерации события\nВ настройках вызова внешней системы и в действии генерации события использование\nмакросов имеет ряд особенностей.\nВ полях настроек вызова внешней системы:\n•  Адрес;\n•  Текст сообщения в случае ошибки;\n•  Значение заголовка запроса\nмакросы задаются как обычно, в двойных фигурных скобках. Например:\n{{ macros_1 }}\nПример заполнения показан на рисунке ниже (см. Рисунок 138):\nРисунок 138 — Использование макросов при вызове внешней системы\nПоля настройках вызова внешней системы:\n•  Значение параметра запроса;\n•  Тело запроса\n105\nа  также  аргументы  генерируемых  из  рассылки  событий  являются  вычислимыми  jinja-\nвыражениями,  и  параметры  запросов  задаются  там  с  приставкой  «slots.m.»  и  без\nфигурных скобок:\nslots.m.macros_1\nТак, например, можно задать следующее тело запроса:\n{\n}\n\"Macros 1\": slots.m.macros_1,\n\"Macros 2\": slots.m.macros_2,\n\"Some details\":[\nprofile.customer_messenger_id,\nprofile.messenger_type,\nslots.m.macros_3\n]\nИли аргумент события:\nРисунок 139 — Определение аргумента для события",
    "tags": [
      "внешней системы",
      "текст сообщения",
      "использование макросов",
      "фигурных скобках",
      "вызова внешней",
      "генерации события",
      "ряд особенностей",
      "аргумент события",
      "настроек вызова",
      "настройках вызова",
      "действии генерации",
      "события использование",
      "макросов имеет",
      "имеет ряд",
      "полях настроек",
      "случае ошибки",
      "значение заголовка",
      "заголовка запроса",
      "запроса макросы",
      "макросы задаются",
      "двойных фигурных",
      "заполнения показан",
      "вызове внешней",
      "системы поля",
      "поля настройках",
      "значение параметра",
      "параметра запроса",
      "тело запроса",
      "запроса 105"
    ]
  },
  {
    "section_id": "82_опрос_клиентов_с_помощью_форм",
    "section_title": "Опрос клиентов с помощью форм",
    "level": 0,
    "page_start": 106,
    "page_end": 120,
    "text": "Опрос клиентов с помощью форм\nМаркетолог может проводить опросы клиентов с целью сбора информации, требуемой\nему или подразделениям компании. Для этого в Maxbot используется специальный блок\nрассылки – форма. Для добавления формы в рассылку необходимо открыть конструктор\nрассылки, нажать на кнопку «Добавить блок» и выбрать пункт «Форма» (см. Рисунок 140).\n106\nРисунок 140 — Добавление формы в рассылку\nПосле этого в конструкторе появится новый блок (см. Рисунок 141):\nРисунок 141 — Форма добавлена в рассылку\nФорма  состоит  из  набора  вопросов,  которые  бот  задает  клиенту  в  заданной\nпоследовательности. Пример такой формы показан на рисунке ниже:\nРисунок 142 — Экран настройки формы\nОбщие правила при работе форм\nПри  взаимодействии  клиента  с  формой  в  общем  случае  выполняется  следующий\nсценарий:\n1.  Бот задает клиенту вопросы формы и ждет ответа некоторое время.\n107\n2.  Когда клиент отвечает, бот проверяет соответствует ли ответ клиента заданному типу\nвопроса (например, число или email).\n3.  Если  ответ  клиента  соответствует  типу  вопроса,  то  бот  сохраняет  ответ  и  задает\nследующий вопрос.\n4.  Если ответ не соответствует типу вопроса, то бот задает вопрос повторно.\n5.  Когда все вопросы заданы, бот отправляет клиенту результаты опроса – перечисляет\nвопросы,  данные  на  них  ответы  и  просит  клиента  подтвердить  их,  либо  исправить\nнеточности.\n6.  После  подтверждения  клиента  бот  записывает  ответы  в  специальные  переменные\n(слоты),  к  которым  можно  обратиться  в  сценарии  рассылки.  Например,  чтобы\nотправить их в компанию с помощью вызова внешней системы.\n7.  Далее сценарий рассылки продолжается в соответствии с теми действиями, которые\nзаданы для выхода при успешном заполнении формы.\nДалее  будут  описаны  детали  реализации  приведенного  сценария,  а  также\nдополнительные возможности и неуспешные сценарии при обработке ответов клиента.\nТипы вопросов\nТип  вопроса  определяет  то,  какой  ответ  бот  будет  принимать  от  клиента.\nПоддерживаются вопросы следующих типов:\n•  Короткий текст – в ответ принимается любая последовательность символов;\n•  Email – в ответ принимаются адреса электронной почты вида customer@example.com;\n•  Число – в ответ принимаются положительные и отрицательные вещественные числа;\n•  Телефон  –  номер  телефона  как  последовательность  11 цифр.  При  этом  бот  не  будет\nпросить подтвердить отправленное ему значение;\n•  Файл – в ответ принимаются один или несколько файлов. В текущей версии  Maxbot\nпринимаются только изображения.\n•  Дата – принимаются различные форматы дат: «11.12.2021», «10 декабря», «завтра». При\nэтом клиент может указать дату из прошлого.\n•  Варианты  ответа  –  маркетолог  задает  фиксированный  набор  вариантов  ответа  в\nнастройках вопроса, клиент может выбрать один из этих вариантов.\nПри получении ответа клиента бот будет пытаться выделить необходимые данные из его\nответа. Например, если вопрос типа «Email», то клиент может ответить:\nМоя почта customer@example.com\nВ этом случае бот сохранит только «customer@example.com».\nЕсли на вопрос типа «Телефон» клиент ответит:\nМой телефон +7 (999) 999-99-99 и второй +7 931 1111111\n108\nто бот сохранит в качестве ответа «79999999999» – первое подходящее значение.\nНиже в таблице описаны особенности сохранения ответов на вопросы различных типов.\nТаблица 7 – Правила сохранения ответов на вопросы различных типов\nТип вопроса\nПравила сохранения ответа\nКороткий текст\nОтвет  сохраняется  как  есть,  целиком  (весь  текст,  введенный\nклиентом)\nEmail\nЧисло\nТелефон\nФайл\nДата\nВыделяется  первый  найденный  в  тексте  email,  остальное\nотбрасывается\nВыделяется  первое  число  со  знаком  и  вещественной  частью,\nостальное отбрасывается\nВыделяется  первый  указанный  номер  телефона  и  сохраняется  в\n(без  плюса,  пробелов  и  других\nформате\nразделителей, независимо от того, как его указал клиент)\n«7xxxxxxxxxx»\nФайлы,  отправленные  клиентом,  сохраняются  в  файловом\nхранилище. В качестве ответа на вопрос типа «Файл» бот хранит\nсписок ссылок (URL) на отправленные клиентом файлы\nВыделяется  первая  указанная  дата  и  сохраняется  в  формате\n«YYYY-MM-DD», например, «2021-11-27».\nВарианты ответа  Выделяется  один  из  заданных  в  настройках  вопроса  вариантов.\nПредполагается,  что  клиенты  будут  пользоваться  предложенными\nкнопками с вариантами ответов.\nДаже если клиент ответит текстом с неточной формулировкой, бот\nбудет  пытаться  выделить  из  текста  вариант  ответа  и  сохранит\nтолько его.\nНапример, если есть вариант ответа «Банковская карта», и клиент\nнапишет  «Наверное,  банковской  картой»,  то  в  качестве  ответа\nбудет записано «Банковская карта».\nПримечание:\nЕсли вопрос необязательный, и он пропущен, то в ответ будет записано None.\nОсновные настройки вопросов\nМаркетолог задает тип вопроса и его настройки при добавлении вопроса на форму. Для\nэтого нужно:\n1.  Нажать на форме на кнопку\n.\n2.  В открывшемся окне нажать на кнопку «Добавить вопрос» и выбрать тип вопроса из\nпредложенного списка (см. Рисунок 143).\n109\nРисунок 143 — Выбор типа добавляемого вопроса\n3.  Добавленный вопрос появится в списке слева. Справа необходимо задать настройки\nвопроса. К основным настройкам вопроса относятся:\n•  Идентификатор  ответа  на  вопрос  –  уникальный  идентификатор,  по  которому\nможно  будет  получить  ответ  клиента  на  этот  вопрос.  Подробнее  об  этом  в  см.\nразделе Использование ответов на вопросы.\n•  Вопрос  –  текст  вопроса,  который  бот  отправит  клиенту  в  мессенджер.  Для\nвопросов всех типов, кроме «Короткий текст», рекомендуется формулировать, что\nожидается от клиента. Например, не задавать вопрос «Когда вы хотите записаться\nна наши услуги?», что подразумевает разные ответы вида «В следующем месяце»,\n«В конце недели», а явно просить указать день, например: «Укажите, пожалуйста,\nкакого числа вы хотели бы записаться на наши услуги?».\n•  Краткое описание вопроса – сжатое, но емкое описание, позволяющее и клиенту,\nи  маркетологу  идентифицировать  вопрос.  Например,  «Имя»,  «Возраст»  или\n«Телефон». Маркетолог видит краткое описание вопроса в списке вопросов слева\n(см. Рисунок 144). Клиент увидит краткое описание вопроса при переходе в меню\nформы  и  при  просмотре  результатов  заполнения  формы,  когда  будет  проверять\nправильность ответов.\n•  Опция «Обязательный вопрос» – если установлена, то клиент не может пропустить\nэтот  вопрос  и  должен  дать  подходящий  ответ.  Если  опция  не  установлена,  то\nпоявляется кнопка «Пропустить этот вопрос»:\n110\nРисунок 144 — Основные настройки вопроса\nОтправка медиа-контента вместе с вопросом\nКак  и  в  сообщениях  обычных  блоков,  к  каждому  вопросу  можно  добавить  один  или\nнесколько файлов, которые будут отправлены клиенту перед текстом вопроса. Для этого\nнеобходимо:\n1.  Перейти на вкладку «Медиа».\n2.  Нажать на кнопку\n.\n3.  Выбрать  тип  добавляемого  файла  (см.  Рисунок  145)  и  добавить  нужные  файлы  при\nпомощи кнопки\n. Также можно вставить ссылку на файл, если он уже загружен.\nРисунок 145 — Добавление медиа-контента к вопросу\n111\nНастройка условий отправки вопросов\nФорма позволяет настраивать условия, при которых вопросы отправляются клиенту. Это\nполезно,  если  вопрос  уместно  задавать  только  в  некоторых  случаях.  Например,  если\nклиент  поставил  низкую  оценку  за качество  обслуживания, можно  спросить у  него,  что\nименно  ему  не  понравилось.  Но  не  нужно  задавать  этот  вопрос,  если  поставлена\nмаксимальная оценка (см. Рисунок 146).\nПри  этом  есть  очевидное  ограничение  –  условный  вопрос  должен  располагаться  в\nсписке после вопроса, ответ на который проверяется.\nВажно!\nЕсли  вопрос,  ответ  на  который  проверяется,  был  пропущен  клиентом,  то  будут\nсрабатывать  все  условия  «Не  равно»  при  любом  значении,  с  которым  происходит\nсравнение.\nРисунок 146 — Добавление вопроса, который будет задан при выполнении определенного\nусловия\nВыход клиента из формы\nЕсли форма показана клиенту, то у него есть 4 основных варианта выхода из нее:\n1.  Успешный  выход  при  ответе  на  все  обязательные  вопросы.  Это  происходит,  когда\nклиент  подтверждает  правильность  ответов  на  все  вопросы.  Если  в  этом  случае\nнеобходимо  продолжить  рассылку,  то  нужно  соединить  зеленый  выход  из  формы  со\nследующим блоком (см. Рисунок 147).\n112\nРисунок 147 — Продолжение рассылки при успешном выходе клиента (ответе на все\nобязательные вопросы)\n2.  Выход по таймауту. Происходит автоматически, когда клиент перестает отвечать на\nвопросы  формы.  Задержка  задается  в  настройках  формы.  Если  в  этом  случае\nнеобходимо продолжить рассылку, то нужно соединить фиолетовый выход из формы\nсо следующим блоком (см. Рисунок 148).\nРисунок 148 — Продолжение рассылки при выходе по таймауту\nПримечание:\nЕсли  таймаут  выхода  из  формы  превышает  таймаут  диспетчера  диалогов  (время,\nчерез которое бот автоматически деактивирует бездействующий навык), то бот будет\nожидать время, заданное для таймаута выхода из формы.\n3.  Выход по желанию клиента. Клиент может отказаться от ответов на вопросы и выйти\nиз формы. Для этого он должен перейти в меню и нажать «✕ Выйти», либо отправить\n«стоп», «прекрати», «хватит» и т. д. в любом контексте формы.\n113\nЕсли  в  этом  случае  необходимо  продолжить  рассылку,  то  нужно  соединить  желтый\nвыход из формы со следующим блоком (см. Рисунок 149).\nРисунок 149 — Продолжение рассылки при выходе по желанию клиента\n4.  Выход  при  отправке  нескольких  ответов,  не  соответствующих  типу  вопроса.\nНапример,  если  на  вопрос  формы  типа  «Email»  клиент  не  указывает  email  три  раза\nподряд, то бот закончит опрос и оправит клиенту сообщение:\nК сожалению, не удалось получить подходящий по формату ответ.\nОпрос завершен, спасибо!\nЭто сообщение и количество попыток (три) в текущей версии не изменяемы. Настроить\nвыполнение других действий в рассылке после этого исхода в текущей версии также\nневозможно. Вызов внешней системы, в отличие от всех остальных случаев, в текущей\nверсии не выполняется и не настраивается.\nВозможен  и  дополнительный,  более  сложный  сценарий  выхода  клиента  из  формы.\nСначала клиент получает рассылку следующего вида (см. Рисунок 150), где при нажатии\nна кнопку происходит перевод клиента в некоторый канал.\nРисунок 150 — Рассылка с переводом в канал\nДалее  клиент  получает  рассылку  с  формой,  после  чего  начинает  ее  заполнять.  Если  в\nпроцессе  ответов  на  вопросы  формы  клиент  по  каким-то  причинам  нажмет  на  кнопку\nперевода  в  канал  в  другой  рассылке  («Это  интересно!»  на  рисунке  выше),  то  бот\nпереведет клиента в канал, а заполнение формы будет завершено.\n114\nПри  этом  выполнится  вызов  внешней  системы  как  при  выходе  по  желанию  клиента\n(подробнее об этом ниже), но другие действия рассылки с формой, связанные с выходом\nиз формы, выполняться не будут.\nНастройки формы\nПомимо  самих  вопросов  маркетолог  может  задать  настройки,  относящиеся  к  форме  в\nцелом. Для изменения настроек формы нужно нажать на кнопку на блоке формы\n.\nНа вкладке «Основные» (см. Рисунок 151) можно задать следующие настройки:\n•  Идентификатор формы – в текущей версии Maxbot не используется.\n•  Время ответа на каждый вопрос формы – спустя заданное количество секунд после\nпоследнего сообщения от клиента сработает выход из формы по таймауту.\nРисунок 151 — Основные настройки формы\nНа  вкладке  «Сообщения»  (см.  Рисунок  152)  можно  задать  тексты  сообщений,  которые\nотправляются клиентам перед первым вопросом, при работе с меню формы и при выходе\nиз формы. Если текст какого-либо сообщения не задан, то оно отправляться не будет.\nВажно!\nПосле внесения любых изменений в тексты форм или вопросов необходимо обязательно\nпроверить работу рассылки, чтобы убедиться в согласованности текстов друг с другом.\nИз  настроек  форм  это  не  всегда  видно,  что  может  привести  к  нежелательным\nрезультатам.\n115\nРисунок 152 — Настройка сообщений формы\nВызов внешних систем\nФорма поддерживает выполнение нескольких вызовов внешних систем в разных случаях.\nна  блоке\nДля  открытия  настройки  вызова  (см.  Рисунок  153)  нужно  нажать  на  кнопку\nформы.\nРисунок 153 — Настройка вызовов внешней системы из формы\nВызов  внешней  системы  «При  входе  на  форму»  происходит  перед  отправкой  первого\nвопроса и возможного сообщения перед ним. Если вызов завершается успешно, форма\nначинает выполняться.\n116\nЕсли вызов завершается ошибкой, то форма не выполняется. Клиент получит сообщение\nоб  ошибке,  если  оно  задано  в  настройках  вызова  внешней  системы.  Все  остальное\nаналогично вызову внешней системы в обычных блоках (подробнее см. в разделе Вызов\nвнешней системы).\nОстальные вызовы внешней системы происходят при соответствующих им выходах.\nКроме  того,  вызов  внешней  системы  по  желанию  клиента  происходит  и  тогда,  когда\nклиент переходит в канал в процессе заполнения формы.\nИспользование ответов на вопросы\nЗадача  форм  –  получить  от  клиентов  некоторые  данные.  К  собранным  данным  можно\nобращаться  аналогично  макросам  рассылки.  Там,  где  используются  jinja-шаблоны,\nнужно указывать:\n{{ form.<идентификатор_ответа_на_вопрос> }}\nНапример, в сообщениях рассылки:\nРисунок 154 — Использование ответа на вопрос в блоке рассылки\nПримечание:\nИдентификатор  ответа  задается  в  настройках  вопроса,  см.  подробнее  в  подразделе\nОсновные настройки вопросов.\nТам, где используются jinja-выражения, нужно использовать\nslots.<идентификатор_ответа_на_вопрос>\nНапример (см. Рисунок 155):\n117\nРисунок 155 — Использование ответа на вопрос при вызове внешней системы\nТаким образом, можно передавать все ответы клиента во внешнюю систему при любом 10\nвыходе  из  формы,  указав  их  в  теле  и/или  параметрах  запроса  при  вызове  внешней\nсистемы.\nЕсли совершен выход по таймауту или по желанию клиента, то ответы будут только у тех\nвопросов, на которые успел до этого ответить клиент. В ответах на остальные вопросы\nбудет None.\nПодобные  jinja-шаблоны  и  jinja-выражения  можно  использовать  во  всех  остальных\nдействиях  рассылки,  где  предусмотрено  использование  макросов:  при  генерации\nсобытий из рассылки, при генерации интентов, переводе в канал, отправке сообщений и\nт. д.\nОсобо стоит описать ответы на вопросы типа «Файл». Ответом в данном случае является\nсписок строк – URL файлов, которые клиент прислал боту, а бот загрузил в хранилище\nфайлов. Чтобы передавать его, в некоторых случаях нужно привести этот список к строке.\nДля этого можно воспользоваться jinja-фильтрами | list|join(', '), а также проверять ответ на\nпустоту.\n10 Кроме выхода клиента из формы при вводе трех неподходящих ответов.\n118\nНапример, чтобы  передать  ответ  на  вопрос  типа «Файл»  в  параметре  запроса  вызова\nвнешней  системы  или  как  аргумент  события,  которое  генерируется  в  рассылке,  нужно\nиспользовать конструкцию вида:\nslots.answer5|list|join(', ') if slots.answer5 else None\nгде answer5 – это идентификатор вопроса типа «Файл».\nНапример (см. Рисунок 156):\nРисунок 156 — Использование ответа на вопрос типа «Файл» при генерации события\nПри  использовании  jinja-шаблонов  применение  фильтров  и  проверка  на  пустоту  для\nответов на вопрос типа «Файл» не требуется. Можно просто писать:\n{{ form.answer5 }}\nОсобенности и «трюки» при использовании форм\n•  Форма  может  быть  добавлена  только  в  целевую  рассылку.  Информационные\nрассылки не поддерживают работу форм.\n•  Одна  целевая  рассылка  может  содержать  только  одну  форму.  При  необходимости\nпроведения  большого  или  растянутого  опроса  можно  использовать  цепочку\nрассылок, где каждая рассылка будет содержать свою форму и запускать следующую\nпутем генерации события из своего сценария.\nНапример, можно сделать так, чтобы следующая рассылка запускалась только если\nклиент успешно ответил на все вопросы формы в предыдущей рассылке (см. Рисунок\n157).  При  необходимости,  в следующую  рассылку можно  передавать уже  собранные\nответы  клиента\n(с  помощью  аргументов  событий,  генерируемых  для  старта\nпоследующих рассылок).\n119\nРисунок 157 — Сценарий рассылки с формой, где при успешном заполнении формы\nгенерируется событие, запускающее рассылку со следующей формой\n•  Во время работы формы оператор не должен открывать диалог с клиентом по своей\nинициативе (и не сможет, если у него нет соответствующих прав на канал Bot).\n•  Во время работы формы другие целевые рассылки не будут приходить клиенту (как и\nв случае, когда клиент ведет диалог с оператором).\n•  Возможен  повторный  запуск  формы  в  рамках  одной  рассылки.  Маркетолог  может\nсоздать зацикленный сценарий, в котором, например, при выходе по таймауту клиенту\nприходит  сообщение  с  предложением  начать  опрос  заново.  Сценарий  такой\nрассылки приведен ниже (см. Рисунок 158).\nПри повторном запуске формы все ответы, данные ранее, стираются.\nРисунок 158 — Повторный вызов формы в рамках одной рассылки\n•  Работа макросов в формах пока не поддерживается нигде, кроме текстов вопросов.\n120\n•  Если все вопросы формы не обязательные, то при пропуске всех вопросов форма все\nравно  считается  успешно  заполненной.  Значение  всех  ответов  при  этом  будет\nсохранено как «None».\n•  Для  переноса  строки  в  текстах  сообщений  и  вопросов  форм  не  нужно  явно\nиспользовать \\n, как в остальных блоках рассылки.",
    "tags": [
      "каждая рассылка",
      "сценарий рассылки",
      "некоторых случаях",
      "информационные рассылки",
      "нужно использовать",
      "целевые рассылки",
      "открывшемся окне",
      "помощи кнопки",
      "выбрать тип",
      "выбор типа",
      "конструктор рассылки",
      "настройка условий",
      "добавить блок",
      "следующих типов",
      "вызов внешней",
      "внешней системы",
      "выбрать пункт",
      "добавление медиа",
      "отправляются клиенту",
      "которые будут",
      "одной рассылки",
      "клиент напишет",
      "клиент получит",
      "клиент увидит",
      "необходимо задать",
      "следующие настройки",
      "канал bot",
      "которое бот",
      "перевод клиента",
      "либо сообщения",
      "данном случае",
      "внешнюю систему",
      "вызова внешней",
      "вызов завершается",
      "завершается ошибкой",
      "текущей версии",
      "блоке рассылки",
      "генерируется событие",
      "генерации события",
      "необходимости проведения",
      "опрос клиентов",
      "помощью форм",
      "таким образом",
      "случае необходимо",
      "действия рассылки",
      "начинает выполняться",
      "это полезно",
      "блок рассылки",
      "рассылки примечание",
      "основные настройки",
      "рассылка запуск",
      "будут отправлены",
      "необходимо открыть",
      "остальных блоках",
      "блоках рассылки",
      "сообщениях рассылки",
      "генерации событий",
      "случае бот",
      "следующего вида",
      "вызове внешней",
      "maxbot используется",
      "форма добавлена",
      "бот задает",
      "задает клиенту",
      "настройки формы",
      "вопросы формы",
      "ответ клиента",
      "типу вопроса",
      "соответствует типу",
      "клиента бот",
      "успешном заполнении",
      "заполнении формы",
      "тип вопроса",
      "короткий текст",
      "текст ответ",
      "последовательность символов",
      "ответ принимаются",
      "несколько файлов",
      "версии maxbot",
      "варианты ответа",
      "маркетолог задает",
      "настройках вопроса",
      "пытаться выделить",
      "вопрос типа",
      "бот сохранит",
      "клиент ответит",
      "качестве ответа",
      "сохранения ответов",
      "вопросы различных",
      "различных типов",
      "правила сохранения",
      "остальное отбрасывается",
      "отбрасывается выделяется",
      "отправленные клиентом",
      "вариант ответа",
      "банковская карта",
      "настройки вопросов",
      "вопросов маркетолог",
      "задать настройки",
      "настройки вопроса",
      "использование ответов",
      "задавать вопрос",
      "наши услуги",
      "краткое описание",
      "описание вопроса",
      "меню формы",
      "заполнения формы",
      "правильность ответов",
      "вопросов форма",
      "который проверяется",
      "обязательные вопросы",
      "необходимо продолжить",
      "продолжить рассылку",
      "нужно соединить",
      "следующим блоком",
      "продолжение рассылки",
      "желанию клиента",
      "вопрос формы",
      "количество попыток",
      "выхода клиента",
      "клиент получает",
      "получает рассылку",
      "последнего сообщения",
      "формы вызов",
      "внешних систем",
      "клиент переходит",
      "используются jinja",
      "использование ответа",
      "ответы клиента",
      "случаях нужно",
      "рассылка запускалась",
      "время работы",
      "работы формы",
      "своей инициативе",
      "рамках одной"
    ]
  },
  {
    "section_id": "83_общие_правила_при_работе_форм",
    "section_title": "Общие правила при работе форм",
    "level": 1,
    "page_start": 107,
    "page_end": 107,
    "text": "Общие правила при работе форм\nПри  взаимодействии  клиента  с  формой  в  общем  случае  выполняется  следующий\nсценарий:\n1.  Бот задает клиенту вопросы формы и ждет ответа некоторое время.\n107\n2.  Когда клиент отвечает, бот проверяет соответствует ли ответ клиента заданному типу\nвопроса (например, число или email).\n3.  Если  ответ  клиента  соответствует  типу  вопроса,  то  бот  сохраняет  ответ  и  задает\nследующий вопрос.\n4.  Если ответ не соответствует типу вопроса, то бот задает вопрос повторно.\n5.  Когда все вопросы заданы, бот отправляет клиенту результаты опроса – перечисляет\nвопросы,  данные  на  них  ответы  и  просит  клиента  подтвердить  их,  либо  исправить\nнеточности.\n6.  После  подтверждения  клиента  бот  записывает  ответы  в  специальные  переменные\n(слоты),  к  которым  можно  обратиться  в  сценарии  рассылки.  Например,  чтобы\nотправить их в компанию с помощью вызова внешней системы.\n7.  Далее сценарий рассылки продолжается в соответствии с теми действиями, которые\nзаданы для выхода при успешном заполнении формы.\nДалее  будут  описаны  детали  реализации  приведенного  сценария,  а  также\nдополнительные возможности и неуспешные сценарии при обработке ответов клиента.",
    "tags": [
      "сценарий рассылки",
      "внешней системы",
      "вызова внешней",
      "бот задает",
      "задает клиенту",
      "вопросы формы",
      "ответ клиента",
      "типу вопроса",
      "соответствует типу",
      "успешном заполнении",
      "заполнении формы"
    ]
  },
  {
    "section_id": "84_типы_вопросов",
    "section_title": "Типы вопросов",
    "level": 1,
    "page_start": 108,
    "page_end": 108,
    "text": "Типы вопросов\nТип  вопроса  определяет  то,  какой  ответ  бот  будет  принимать  от  клиента.\nПоддерживаются вопросы следующих типов:\n•  Короткий текст – в ответ принимается любая последовательность символов;\n•  Email – в ответ принимаются адреса электронной почты вида customer@example.com;\n•  Число – в ответ принимаются положительные и отрицательные вещественные числа;\n•  Телефон  –  номер  телефона  как  последовательность  11 цифр.  При  этом  бот  не  будет\nпросить подтвердить отправленное ему значение;\n•  Файл – в ответ принимаются один или несколько файлов. В текущей версии  Maxbot\nпринимаются только изображения.\n•  Дата – принимаются различные форматы дат: «11.12.2021», «10 декабря», «завтра». При\nэтом клиент может указать дату из прошлого.\n•  Варианты  ответа  –  маркетолог  задает  фиксированный  набор  вариантов  ответа  в\nнастройках вопроса, клиент может выбрать один из этих вариантов.\nПри получении ответа клиента бот будет пытаться выделить необходимые данные из его\nответа. Например, если вопрос типа «Email», то клиент может ответить:\nМоя почта customer@example.com\nВ этом случае бот сохранит только «customer@example.com».\nЕсли на вопрос типа «Телефон» клиент ответит:\nМой телефон +7 (999) 999-99-99 и второй +7 931 1111111\n108\nто бот сохранит в качестве ответа «79999999999» – первое подходящее значение.\nНиже в таблице описаны особенности сохранения ответов на вопросы различных типов.\nТаблица 7 – Правила сохранения ответов на вопросы различных типов\nТип вопроса\nПравила сохранения ответа\nКороткий текст\nОтвет  сохраняется  как  есть,  целиком  (весь  текст,  введенный\nклиентом)\nEmail\nЧисло\nТелефон\nФайл\nДата\nВыделяется  первый  найденный  в  тексте  email,  остальное\nотбрасывается\nВыделяется  первое  число  со  знаком  и  вещественной  частью,\nостальное отбрасывается\nВыделяется  первый  указанный  номер  телефона  и  сохраняется  в\n(без  плюса,  пробелов  и  других\nформате\nразделителей, независимо от того, как его указал клиент)\n«7xxxxxxxxxx»\nФайлы,  отправленные  клиентом,  сохраняются  в  файловом\nхранилище. В качестве ответа на вопрос типа «Файл» бот хранит\nсписок ссылок (URL) на отправленные клиентом файлы\nВыделяется  первая  указанная  дата  и  сохраняется  в  формате\n«YYYY-MM-DD», например, «2021-11-27».\nВарианты ответа  Выделяется  один  из  заданных  в  настройках  вопроса  вариантов.\nПредполагается,  что  клиенты  будут  пользоваться  предложенными\nкнопками с вариантами ответов.\nДаже если клиент ответит текстом с неточной формулировкой, бот\nбудет  пытаться  выделить  из  текста  вариант  ответа  и  сохранит\nтолько его.\nНапример, если есть вариант ответа «Банковская карта», и клиент\nнапишет  «Наверное,  банковской  картой»,  то  в  качестве  ответа\nбудет записано «Банковская карта».\nПримечание:\nЕсли вопрос необязательный, и он пропущен, то в ответ будет записано None.",
    "tags": [
      "следующих типов",
      "клиент напишет",
      "текущей версии",
      "случае бот",
      "клиента бот",
      "тип вопроса",
      "короткий текст",
      "текст ответ",
      "последовательность символов",
      "ответ принимаются",
      "несколько файлов",
      "варианты ответа",
      "настройках вопроса",
      "пытаться выделить",
      "вопрос типа",
      "бот сохранит",
      "клиент ответит",
      "качестве ответа",
      "сохранения ответов",
      "вопросы различных",
      "различных типов",
      "правила сохранения",
      "остальное отбрасывается",
      "отбрасывается выделяется",
      "отправленные клиентом",
      "вариант ответа",
      "банковская карта"
    ]
  },
  {
    "section_id": "85_основные_настройки_вопросов",
    "section_title": "Основные настройки вопросов",
    "level": 1,
    "page_start": 109,
    "page_end": 110,
    "text": "Основные настройки вопросов\nМаркетолог задает тип вопроса и его настройки при добавлении вопроса на форму. Для\nэтого нужно:\n1.  Нажать на форме на кнопку\n.\n2.  В открывшемся окне нажать на кнопку «Добавить вопрос» и выбрать тип вопроса из\nпредложенного списка (см. Рисунок 143).\n109\nРисунок 143 — Выбор типа добавляемого вопроса\n3.  Добавленный вопрос появится в списке слева. Справа необходимо задать настройки\nвопроса. К основным настройкам вопроса относятся:\n•  Идентификатор  ответа  на  вопрос  –  уникальный  идентификатор,  по  которому\nможно  будет  получить  ответ  клиента  на  этот  вопрос.  Подробнее  об  этом  в  см.\nразделе Использование ответов на вопросы.\n•  Вопрос  –  текст  вопроса,  который  бот  отправит  клиенту  в  мессенджер.  Для\nвопросов всех типов, кроме «Короткий текст», рекомендуется формулировать, что\nожидается от клиента. Например, не задавать вопрос «Когда вы хотите записаться\nна наши услуги?», что подразумевает разные ответы вида «В следующем месяце»,\n«В конце недели», а явно просить указать день, например: «Укажите, пожалуйста,\nкакого числа вы хотели бы записаться на наши услуги?».\n•  Краткое описание вопроса – сжатое, но емкое описание, позволяющее и клиенту,\nи  маркетологу  идентифицировать  вопрос.  Например,  «Имя»,  «Возраст»  или\n«Телефон». Маркетолог видит краткое описание вопроса в списке вопросов слева\n(см. Рисунок 144). Клиент увидит краткое описание вопроса при переходе в меню\nформы  и  при  просмотре  результатов  заполнения  формы,  когда  будет  проверять\nправильность ответов.\n•  Опция «Обязательный вопрос» – если установлена, то клиент не может пропустить\nэтот  вопрос  и  должен  дать  подходящий  ответ.  Если  опция  не  установлена,  то\nпоявляется кнопка «Пропустить этот вопрос»:\n110\nРисунок 144 — Основные настройки вопроса",
    "tags": [
      "открывшемся окне",
      "выбрать тип",
      "выбор типа",
      "клиент увидит",
      "необходимо задать",
      "основные настройки",
      "тип вопроса",
      "короткий текст",
      "маркетолог задает",
      "настройки вопросов",
      "вопросов маркетолог",
      "задать настройки",
      "настройки вопроса",
      "использование ответов",
      "задавать вопрос",
      "наши услуги",
      "краткое описание",
      "описание вопроса",
      "меню формы",
      "правильность ответов"
    ]
  },
  {
    "section_id": "86_отправка_медиа_контента_вместе_с_вопросом",
    "section_title": "Отправка медиа-контента вместе с вопросом",
    "level": 1,
    "page_start": 111,
    "page_end": 111,
    "text": "Отправка медиа-контента вместе с вопросом\nКак  и  в  сообщениях  обычных  блоков,  к  каждому  вопросу  можно  добавить  один  или\nнесколько файлов, которые будут отправлены клиенту перед текстом вопроса. Для этого\nнеобходимо:\n1.  Перейти на вкладку «Медиа».\n2.  Нажать на кнопку\n.\n3.  Выбрать  тип  добавляемого  файла  (см.  Рисунок  145)  и  добавить  нужные  файлы  при\nпомощи кнопки\n. Также можно вставить ссылку на файл, если он уже загружен.\nРисунок 145 — Добавление медиа-контента к вопросу\n111",
    "tags": [
      "помощи кнопки",
      "добавление медиа",
      "которые будут",
      "будут отправлены",
      "несколько файлов"
    ]
  },
  {
    "section_id": "87_настройка_условий_отправки_вопросов",
    "section_title": "Настройка условий отправки вопросов",
    "level": 1,
    "page_start": 112,
    "page_end": 112,
    "text": "Настройка условий отправки вопросов\nФорма позволяет настраивать условия, при которых вопросы отправляются клиенту. Это\nполезно,  если  вопрос  уместно  задавать  только  в  некоторых  случаях.  Например,  если\nклиент  поставил  низкую  оценку  за качество  обслуживания, можно  спросить у  него,  что\nименно  ему  не  понравилось.  Но  не  нужно  задавать  этот  вопрос,  если  поставлена\nмаксимальная оценка (см. Рисунок 146).\nПри  этом  есть  очевидное  ограничение  –  условный  вопрос  должен  располагаться  в\nсписке после вопроса, ответ на который проверяется.\nВажно!\nЕсли  вопрос,  ответ  на  который  проверяется,  был  пропущен  клиентом,  то  будут\nсрабатывать  все  условия  «Не  равно»  при  любом  значении,  с  которым  происходит\nсравнение.\nРисунок 146 — Добавление вопроса, который будет задан при выполнении определенного\nусловия",
    "tags": [
      "настройка условий",
      "отправляются клиенту",
      "это полезно",
      "вопросов форма",
      "который проверяется"
    ]
  },
  {
    "section_id": "88_выход_клиента_из_формы",
    "section_title": "Выход клиента из формы",
    "level": 1,
    "page_start": 112,
    "page_end": 114,
    "text": "Выход клиента из формы\nЕсли форма показана клиенту, то у него есть 4 основных варианта выхода из нее:\n1.  Успешный  выход  при  ответе  на  все  обязательные  вопросы.  Это  происходит,  когда\nклиент  подтверждает  правильность  ответов  на  все  вопросы.  Если  в  этом  случае\nнеобходимо  продолжить  рассылку,  то  нужно  соединить  зеленый  выход  из  формы  со\nследующим блоком (см. Рисунок 147).\n112\nРисунок 147 — Продолжение рассылки при успешном выходе клиента (ответе на все\nобязательные вопросы)\n2.  Выход по таймауту. Происходит автоматически, когда клиент перестает отвечать на\nвопросы  формы.  Задержка  задается  в  настройках  формы.  Если  в  этом  случае\nнеобходимо продолжить рассылку, то нужно соединить фиолетовый выход из формы\nсо следующим блоком (см. Рисунок 148).\nРисунок 148 — Продолжение рассылки при выходе по таймауту\nПримечание:\nЕсли  таймаут  выхода  из  формы  превышает  таймаут  диспетчера  диалогов  (время,\nчерез которое бот автоматически деактивирует бездействующий навык), то бот будет\nожидать время, заданное для таймаута выхода из формы.\n3.  Выход по желанию клиента. Клиент может отказаться от ответов на вопросы и выйти\nиз формы. Для этого он должен перейти в меню и нажать «✕ Выйти», либо отправить\n«стоп», «прекрати», «хватит» и т. д. в любом контексте формы.\n113\nЕсли  в  этом  случае  необходимо  продолжить  рассылку,  то  нужно  соединить  желтый\nвыход из формы со следующим блоком (см. Рисунок 149).\nРисунок 149 — Продолжение рассылки при выходе по желанию клиента\n4.  Выход  при  отправке  нескольких  ответов,  не  соответствующих  типу  вопроса.\nНапример,  если  на  вопрос  формы  типа  «Email»  клиент  не  указывает  email  три  раза\nподряд, то бот закончит опрос и оправит клиенту сообщение:\nК сожалению, не удалось получить подходящий по формату ответ.\nОпрос завершен, спасибо!\nЭто сообщение и количество попыток (три) в текущей версии не изменяемы. Настроить\nвыполнение других действий в рассылке после этого исхода в текущей версии также\nневозможно. Вызов внешней системы, в отличие от всех остальных случаев, в текущей\nверсии не выполняется и не настраивается.\nВозможен  и  дополнительный,  более  сложный  сценарий  выхода  клиента  из  формы.\nСначала клиент получает рассылку следующего вида (см. Рисунок 150), где при нажатии\nна кнопку происходит перевод клиента в некоторый канал.\nРисунок 150 — Рассылка с переводом в канал\nДалее  клиент  получает  рассылку  с  формой,  после  чего  начинает  ее  заполнять.  Если  в\nпроцессе  ответов  на  вопросы  формы  клиент  по  каким-то  причинам  нажмет  на  кнопку\nперевода  в  канал  в  другой  рассылке  («Это  интересно!»  на  рисунке  выше),  то  бот\nпереведет клиента в канал, а заполнение формы будет завершено.\n114\nПри  этом  выполнится  вызов  внешней  системы  как  при  выходе  по  желанию  клиента\n(подробнее об этом ниже), но другие действия рассылки с формой, связанные с выходом\nиз формы, выполняться не будут.",
    "tags": [
      "вызов внешней",
      "внешней системы",
      "которое бот",
      "перевод клиента",
      "текущей версии",
      "случае необходимо",
      "действия рассылки",
      "следующего вида",
      "обязательные вопросы",
      "необходимо продолжить",
      "продолжить рассылку",
      "нужно соединить",
      "следующим блоком",
      "продолжение рассылки",
      "желанию клиента",
      "количество попыток",
      "клиент получает",
      "получает рассылку"
    ]
  },
  {
    "section_id": "89_настройки_формы",
    "section_title": "Настройки формы",
    "level": 1,
    "page_start": 115,
    "page_end": 115,
    "text": "Настройки формы\nПомимо  самих  вопросов  маркетолог  может  задать  настройки,  относящиеся  к  форме  в\nцелом. Для изменения настроек формы нужно нажать на кнопку на блоке формы\n.\nНа вкладке «Основные» (см. Рисунок 151) можно задать следующие настройки:\n•  Идентификатор формы – в текущей версии Maxbot не используется.\n•  Время ответа на каждый вопрос формы – спустя заданное количество секунд после\nпоследнего сообщения от клиента сработает выход из формы по таймауту.\nРисунок 151 — Основные настройки формы\nНа  вкладке  «Сообщения»  (см.  Рисунок  152)  можно  задать  тексты  сообщений,  которые\nотправляются клиентам перед первым вопросом, при работе с меню формы и при выходе\nиз формы. Если текст какого-либо сообщения не задан, то оно отправляться не будет.\nВажно!\nПосле внесения любых изменений в тексты форм или вопросов необходимо обязательно\nпроверить работу рассылки, чтобы убедиться в согласованности текстов друг с другом.\nИз  настроек  форм  это  не  всегда  видно,  что  может  привести  к  нежелательным\nрезультатам.\n115\nРисунок 152 — Настройка сообщений формы",
    "tags": [
      "следующие настройки",
      "либо сообщения",
      "текущей версии",
      "основные настройки",
      "настройки формы",
      "версии maxbot",
      "меню формы",
      "вопрос формы",
      "последнего сообщения"
    ]
  },
  {
    "section_id": "90_вызов_внешних_систем",
    "section_title": "Вызов внешних систем",
    "level": 1,
    "page_start": 116,
    "page_end": 116,
    "text": "Вызов внешних систем\nФорма поддерживает выполнение нескольких вызовов внешних систем в разных случаях.\nна  блоке\nДля  открытия  настройки  вызова  (см.  Рисунок  153)  нужно  нажать  на  кнопку\nформы.\nРисунок 153 — Настройка вызовов внешней системы из формы\nВызов  внешней  системы  «При  входе  на  форму»  происходит  перед  отправкой  первого\nвопроса и возможного сообщения перед ним. Если вызов завершается успешно, форма\nначинает выполняться.\n116\nЕсли вызов завершается ошибкой, то форма не выполняется. Клиент получит сообщение\nоб  ошибке,  если  оно  задано  в  настройках  вызова  внешней  системы.  Все  остальное\nаналогично вызову внешней системы в обычных блоках (подробнее см. в разделе Вызов\nвнешней системы).\nОстальные вызовы внешней системы происходят при соответствующих им выходах.\nКроме  того,  вызов  внешней  системы  по  желанию  клиента  происходит  и  тогда,  когда\nклиент переходит в канал в процессе заполнения формы.",
    "tags": [
      "вызов внешней",
      "внешней системы",
      "клиент получит",
      "вызов завершается",
      "завершается ошибкой",
      "начинает выполняться",
      "заполнения формы",
      "формы вызов",
      "внешних систем",
      "клиент переходит"
    ]
  },
  {
    "section_id": "91_использование_ответов_на_вопросы",
    "section_title": "Использование ответов на вопросы",
    "level": 1,
    "page_start": 117,
    "page_end": 118,
    "text": "Использование ответов на вопросы\nЗадача  форм  –  получить  от  клиентов  некоторые  данные.  К  собранным  данным  можно\nобращаться  аналогично  макросам  рассылки.  Там,  где  используются  jinja-шаблоны,\nнужно указывать:\n{{ form.<идентификатор_ответа_на_вопрос> }}\nНапример, в сообщениях рассылки:\nРисунок 154 — Использование ответа на вопрос в блоке рассылки\nПримечание:\nИдентификатор  ответа  задается  в  настройках  вопроса,  см.  подробнее  в  подразделе\nОсновные настройки вопросов.\nТам, где используются jinja-выражения, нужно использовать\nslots.<идентификатор_ответа_на_вопрос>\nНапример (см. Рисунок 155):\n117\nРисунок 155 — Использование ответа на вопрос при вызове внешней системы\nТаким образом, можно передавать все ответы клиента во внешнюю систему при любом 10\nвыходе  из  формы,  указав  их  в  теле  и/или  параметрах  запроса  при  вызове  внешней\nсистемы.\nЕсли совершен выход по таймауту или по желанию клиента, то ответы будут только у тех\nвопросов, на которые успел до этого ответить клиент. В ответах на остальные вопросы\nбудет None.\nПодобные  jinja-шаблоны  и  jinja-выражения  можно  использовать  во  всех  остальных\nдействиях  рассылки,  где  предусмотрено  использование  макросов:  при  генерации\nсобытий из рассылки, при генерации интентов, переводе в канал, отправке сообщений и\nт. д.\nОсобо стоит описать ответы на вопросы типа «Файл». Ответом в данном случае является\nсписок строк – URL файлов, которые клиент прислал боту, а бот загрузил в хранилище\nфайлов. Чтобы передавать его, в некоторых случаях нужно привести этот список к строке.\nДля этого можно воспользоваться jinja-фильтрами | list|join(', '), а также проверять ответ на\nпустоту.\n10 Кроме выхода клиента из формы при вводе трех неподходящих ответов.\n118\nНапример, чтобы  передать  ответ  на  вопрос  типа «Файл»  в  параметре  запроса  вызова\nвнешней  системы  или  как  аргумент  события,  которое  генерируется  в  рассылке,  нужно\nиспользовать конструкцию вида:\nslots.answer5|list|join(', ') if slots.answer5 else None\nгде answer5 – это идентификатор вопроса типа «Файл».\nНапример (см. Рисунок 156):\nРисунок 156 — Использование ответа на вопрос типа «Файл» при генерации события\nПри  использовании  jinja-шаблонов  применение  фильтров  и  проверка  на  пустоту  для\nответов на вопрос типа «Файл» не требуется. Можно просто писать:\n{{ form.answer5 }}",
    "tags": [
      "некоторых случаях",
      "нужно использовать",
      "внешней системы",
      "данном случае",
      "внешнюю систему",
      "вызова внешней",
      "блоке рассылки",
      "генерации события",
      "таким образом",
      "рассылки примечание",
      "основные настройки",
      "сообщениях рассылки",
      "генерации событий",
      "вызове внешней",
      "вопрос типа",
      "настройки вопросов",
      "использование ответов",
      "желанию клиента",
      "выхода клиента",
      "используются jinja",
      "использование ответа",
      "ответы клиента",
      "случаях нужно"
    ]
  },
  {
    "section_id": "92_особенности_и_трюки_при_использовании_форм",
    "section_title": "Особенности и «трюки» при использовании форм",
    "level": 1,
    "page_start": 119,
    "page_end": 120,
    "text": "Особенности и «трюки» при использовании форм\n•  Форма  может  быть  добавлена  только  в  целевую  рассылку.  Информационные\nрассылки не поддерживают работу форм.\n•  Одна  целевая  рассылка  может  содержать  только  одну  форму.  При  необходимости\nпроведения  большого  или  растянутого  опроса  можно  использовать  цепочку\nрассылок, где каждая рассылка будет содержать свою форму и запускать следующую\nпутем генерации события из своего сценария.\nНапример, можно сделать так, чтобы следующая рассылка запускалась только если\nклиент успешно ответил на все вопросы формы в предыдущей рассылке (см. Рисунок\n157).  При  необходимости,  в следующую  рассылку можно  передавать уже  собранные\nответы  клиента\n(с  помощью  аргументов  событий,  генерируемых  для  старта\nпоследующих рассылок).\n119\nРисунок 157 — Сценарий рассылки с формой, где при успешном заполнении формы\nгенерируется событие, запускающее рассылку со следующей формой\n•  Во время работы формы оператор не должен открывать диалог с клиентом по своей\nинициативе (и не сможет, если у него нет соответствующих прав на канал Bot).\n•  Во время работы формы другие целевые рассылки не будут приходить клиенту (как и\nв случае, когда клиент ведет диалог с оператором).\n•  Возможен  повторный  запуск  формы  в  рамках  одной  рассылки.  Маркетолог  может\nсоздать зацикленный сценарий, в котором, например, при выходе по таймауту клиенту\nприходит  сообщение  с  предложением  начать  опрос  заново.  Сценарий  такой\nрассылки приведен ниже (см. Рисунок 158).\nПри повторном запуске формы все ответы, данные ранее, стираются.\nРисунок 158 — Повторный вызов формы в рамках одной рассылки\n•  Работа макросов в формах пока не поддерживается нигде, кроме текстов вопросов.\n120\n•  Если все вопросы формы не обязательные, то при пропуске всех вопросов форма все\nравно  считается  успешно  заполненной.  Значение  всех  ответов  при  этом  будет\nсохранено как «None».\n•  Для  переноса  строки  в  текстах  сообщений  и  вопросов  форм  не  нужно  явно\nиспользовать \\n, как в остальных блоках рассылки.",
    "tags": [
      "каждая рассылка",
      "сценарий рассылки",
      "информационные рассылки",
      "целевые рассылки",
      "одной рассылки",
      "канал bot",
      "генерируется событие",
      "генерации события",
      "необходимости проведения",
      "рассылка запуск",
      "остальных блоках",
      "блоках рассылки",
      "вопросы формы",
      "успешном заполнении",
      "заполнении формы",
      "вопросов форма",
      "рассылка запускалась",
      "время работы",
      "работы формы",
      "своей инициативе",
      "рамках одной"
    ]
  },
  {
    "section_id": "93_отписка_от_рассылок",
    "section_title": "Отписка от рассылок",
    "level": 0,
    "page_start": 121,
    "page_end": 122,
    "text": "Отписка от рассылок\nМаркетолог  может  предоставить  клиентам  возможность  отписаться  от  рассылок.  Для\nэтого  нужно  выставить  соответствующую опцию  в  любой  кнопке-действии  (см.  Рисунок\n159).\nРисунок 159 — Настройка отписки от рассылок при нажатии на кнопку-действие\nДругим  способом  отписки  от  рассылок  является  отправка  боту  клиентом  одного  из\nтекстовых сообщений:\nstop subscriptions\nstop subscription\nстоп рассылки\nстоп рассылка\nstart subscriptions\nstart subscription\nстарт рассылки\nстарт рассылка\nЕсли клиент отписался в одной из рассылок, то отписка действует на все рассылки.  Уже\nзапущенные рассылки работают в соответствии с настройками при отписке клиента (см.\nподробнее в разделе Расширенные настройки). После того, как клиент отписался, новые\n121\nрассылки для него не начинаются, если не установлен флажок «Отправлять сообщения\nдаже если клиент отписался от рассылок» в расширенных настройках.\nПодписка на рассылки возможна двумя способами:\n1.  Отправка клиентом боту одного из сообщений:\nстарт рассылки\nstart subscriptions\n2.  Специальный  API-вызов  (см.  запрос  «Подписка  клиента  на  рассылки»  API  консоли\nмаркетолога).\nВажно  отличать  отписку  от  рассылок  и  отписку  от  бота.  Отписка  от  рассылок\nреализуется специальным флагом для клиента на уровне консоли маркетолога и может\nбыть проигнорирована ботом.\nОтписка  от  бота  выполняется  клиентом  на  уровне  его  мессенджера  и  не  может  быть\nпроигнорирована  ботом.  В  этом  случае  ни  маркетинговые  рассылки,  ни  сообщения  от\nоператоров из консоли операторов не будут получены клиентом, пока он не разрешит\nполучать сообщения от бота по своей инициативе.\nТакже  нужно  помнить, что  некоторые  мессенджеры,  например,  Facebook*  и  Instagram*,\nблокируют возможность отправки сообщений клиенту если тот не отправлял сообщения\nботу  в  течение  последних  24  часов.  Отправка  рассылки  клиенту  Facebook*  возможна,\nесли в расширенных настройках рассылки задан специальный тег. Подробнее об этом\nнаписано в пункте «Теги сообщений» раздела «Расширенные настройки» .\nНастройка  виджетов  подключения  к  боту  для\nсайта компании\nВиджеты  предназначены  для  того,  чтобы клиенты  могли  перейти  к  диалогу с  ботом  или\nоператором  компании  прямо  со  страницы  сайта  компании  (см.  Рисунок  160).  Таким\nобразом, в частности, решается задача накопления аудитории.\nРисунок 160 — Расположение виджетов на странице сайта\n122",
    "tags": [
      "консоли маркетолога",
      "стоп рассылки",
      "stop subscriptions",
      "отправлять сообщения",
      "будут получены",
      "таким образом",
      "расширенные настройки",
      "настройках рассылки",
      "боту одно",
      "возможность отправки",
      "отправки сообщений",
      "получать сообщения",
      "текстовых сообщений",
      "рассылки задан",
      "двумя способами",
      "своей инициативе",
      "start subscriptions",
      "старт рассылки",
      "клиент отписался",
      "расширенных настройках",
      "проигнорирована ботом",
      "сайта компании"
    ]
  },
  {
    "section_id": "94_настройка_виджетов_подключения_к_боту_для_сайта_компании",
    "section_title": "Настройка виджетов подключения к боту для сайта компании",
    "level": 0,
    "page_start": 122,
    "page_end": 126,
    "text": "рассылки для него не начинаются, если не установлен флажок «Отправлять сообщения\nдаже если клиент отписался от рассылок» в расширенных настройках.\nПодписка на рассылки возможна двумя способами:\n1.  Отправка клиентом боту одного из сообщений:\nстарт рассылки\nstart subscriptions\n2.  Специальный  API-вызов  (см.  запрос  «Подписка  клиента  на  рассылки»  API  консоли\nмаркетолога).\nВажно  отличать  отписку  от  рассылок  и  отписку  от  бота.  Отписка  от  рассылок\nреализуется специальным флагом для клиента на уровне консоли маркетолога и может\nбыть проигнорирована ботом.\nОтписка  от  бота  выполняется  клиентом  на  уровне  его  мессенджера  и  не  может  быть\nпроигнорирована  ботом.  В  этом  случае  ни  маркетинговые  рассылки,  ни  сообщения  от\nоператоров из консоли операторов не будут получены клиентом, пока он не разрешит\nполучать сообщения от бота по своей инициативе.\nТакже  нужно  помнить, что  некоторые  мессенджеры,  например,  Facebook*  и  Instagram*,\nблокируют возможность отправки сообщений клиенту если тот не отправлял сообщения\nботу  в  течение  последних  24  часов.  Отправка  рассылки  клиенту  Facebook*  возможна,\nесли в расширенных настройках рассылки задан специальный тег. Подробнее об этом\nнаписано в пункте «Теги сообщений» раздела «Расширенные настройки» .\nНастройка  виджетов  подключения  к  боту  для\nсайта компании\nВиджеты  предназначены  для  того,  чтобы клиенты  могли  перейти  к  диалогу с  ботом  или\nоператором  компании  прямо  со  страницы  сайта  компании  (см.  Рисунок  160).  Таким\nобразом, в частности, решается задача накопления аудитории.\nРисунок 160 — Расположение виджетов на странице сайта\n122\nВиджет  позволяет  перейти  к  диалогу  с  ботом,  используя  один  из  поддерживаемых\nмессенджеров на выбор.\nДля создания виджета необходимо:\n1.  Выбрать в верхнем правом углу окна бота, для которого будет создаваться виджет.\n2.  Перейти в раздел «Инструменты роста» и на вкладке «Виджеты» нажать на кнопку «+\nСоздать» в правом верхнем углу (см. Рисунок 161).\nРисунок 161 — Переход к созданию виджета\n3.  Ввести название виджета и нажать на кнопку «Создать» (см. Рисунок 162).\nРисунок 162 — Ввод названия виджета\n4.  В  списке  виджетов  нажать  на  название  только  что  созданного  виджета  для\nредактирования его настроек (см. Рисунок 163).\nНастройки  виджета  разделены  на  две  вкладки  «Desktop»  и  «Mobile»  и  позволяют,\nсоответственно,  задать  отображение  для  десктопной  и  мобильной  версии.  Каждая\nверсия настраивается независимо и имеет одинаковый набор настроек.\n123\nРисунок 163 — Настройка виджета\nВажно!\nТип отображения (Desktop или Mobile) определяется не типом устройства, на котором\nоткрыта  страница  с  виджетом,  а  шириной  окна  браузера11.  На  узких  экранах\nмобильных устройств будет отображаться мобильная версия. При этом ее можно также\nувидеть  на  широком  экране,  если  сузить  окно  браузера  с  сайтом,  на  котором\nустановлен виджет. И наоборот, на планшетах с достаточной шириной экрана будет\nвыводиться десктопная версия.\nПоле  «Deeplink»  определяет,  какой  диплинк  будет  передаваться  боту  при  переходе\nклиента к диалогу с ботом через этот виджет. Так, например, можно настроить виджет,\nкоторый будет переводить клиентов в заданный канал. Для этого нужно выбрать deeplink,\nпереводящий в этот канал (см. Рисунок 164).\n11 Значение ширины, различающее десктопное и мобильное отображения, составляет 640 пикселей; высоты\n— 560 пикселей.\n124\nРисунок 164 — Выбор диплинка для передачи боту\nСписок мессенджеров в нижней части настроек определяет, какие мессенджеры будут\nдоступны клиентам (см. Рисунок 165). Если какой-то мессенджер недоступен для выбора,\nэто означает, что интеграция для этого мессенджера в настройках бота не настроена.\nРисунок 165 — Список доступных мессенджеров в настройках виджета\n*\nДля  установки  созданного  виджета  на  страницу  сайта  нужно  нажать  на  кнопку\n«Документация»  в  правом  верхнем  углу  и  поместить  предоставленный  там  js-код  (см.\nРисунок 166) на эту страницу.\nРисунок 166 — Код виджета для вставки на страницу сайта\n125\nПосле этого посетители страницы смогут пользоваться созданным виджетом.\nВажно!\nПри  изменении  настроек  виджета  не  следует  менять  js-код,  добавленный  на  страницу\nсайта.\nПри  необходимости  отключить  виджет  это  можно  сделать  переключателем  слева  от\nназвания  виджета.  Также  отдельно  могут  быть  отключены  мобильная  или  десктопная\nверсии виджета. При временном отключении виджета убирать js-код со страницы сайта\nтакже не обязательно (см. Рисунок 167).\nРисунок 167 — Элементы интерфейса для включения и отключения виджета в целом и для\nотдельных типов отображения\nНастройка\nподключения клиентов к боту\nпосадочных\nстраниц\nдля\nПосадочные страницы (лендинги) используются для подключения клиентов к боту через\nудобный для клиента мессенджер. При этом лендинг размещается на сайте Maxbot, для\nэтого  не  нужно  самостоятельно  разворачивать  новый  сайт  или  создавать\nдополнительную страницу на существующем сайте. Ниже приведено описание процесса\nсоздания  и  настройки  посадочной  страницы,  а  далее  в  подразделе  Механизм\nподключения клиентов — описание того, что увидит клиент в процессе подключения.\nСоздание и настройка посадочной страницы\nДля создания лендинга необходимо:\n1.  Выбрать в верхнем правом углу окна бота, для которого будет создаваться лендинг.\n2.  Открыть раздел «Инструменты роста» и на вкладке «Лендинги» нажать  на кнопку «+\nСоздать» в правом верхнем углу (см. Рисунок 168).\n126",
    "tags": [
      "консоли маркетолога",
      "правом верхнем",
      "верхнем углу",
      "отправлять сообщения",
      "будут доступны",
      "нужно выбрать",
      "будут получены",
      "таким образом",
      "расширенные настройки",
      "настройках рассылки",
      "это означает",
      "боту одно",
      "части настроек",
      "список мессенджеров",
      "возможность отправки",
      "отправки сообщений",
      "получать сообщения",
      "посадочных страниц",
      "подключения клиентов",
      "механизм подключения",
      "рассылки задан",
      "двумя способами",
      "поддерживаемых мессенджеров",
      "своей инициативе",
      "start subscriptions",
      "старт рассылки",
      "клиент отписался",
      "расширенных настройках",
      "проигнорирована ботом",
      "сайта компании",
      "страницы сайта",
      "верхнем правом",
      "правом углу",
      "углу окна",
      "окна бота",
      "инструменты роста",
      "названия виджета",
      "переходе клиента",
      "переводить клиентов",
      "заданный канал",
      "выбрать deeplink",
      "нижней части",
      "какие мессенджеры",
      "мессенджеры будут",
      "доступны клиентам",
      "мессенджер недоступен",
      "настройках бота",
      "доступных мессенджеров",
      "страницу сайта",
      "лендинг размещается",
      "ниже приведено",
      "приведено описание",
      "посадочной страницы",
      "настройка посадочной",
      "создания лендинга",
      "лендинга необходимо",
      "создаваться лендинг"
    ]
  },
  {
    "section_id": "95_настройка_посадочных_страниц_для_подключения_клиентов_к_боту",
    "section_title": "Настройка посадочных страниц для подключения клиентов к боту",
    "level": 0,
    "page_start": 126,
    "page_end": 129,
    "text": "После этого посетители страницы смогут пользоваться созданным виджетом.\nВажно!\nПри  изменении  настроек  виджета  не  следует  менять  js-код,  добавленный  на  страницу\nсайта.\nПри  необходимости  отключить  виджет  это  можно  сделать  переключателем  слева  от\nназвания  виджета.  Также  отдельно  могут  быть  отключены  мобильная  или  десктопная\nверсии виджета. При временном отключении виджета убирать js-код со страницы сайта\nтакже не обязательно (см. Рисунок 167).\nРисунок 167 — Элементы интерфейса для включения и отключения виджета в целом и для\nотдельных типов отображения\nНастройка\nподключения клиентов к боту\nпосадочных\nстраниц\nдля\nПосадочные страницы (лендинги) используются для подключения клиентов к боту через\nудобный для клиента мессенджер. При этом лендинг размещается на сайте Maxbot, для\nэтого  не  нужно  самостоятельно  разворачивать  новый  сайт  или  создавать\nдополнительную страницу на существующем сайте. Ниже приведено описание процесса\nсоздания  и  настройки  посадочной  страницы,  а  далее  в  подразделе  Механизм\nподключения клиентов — описание того, что увидит клиент в процессе подключения.\nСоздание и настройка посадочной страницы\nДля создания лендинга необходимо:\n1.  Выбрать в верхнем правом углу окна бота, для которого будет создаваться лендинг.\n2.  Открыть раздел «Инструменты роста» и на вкладке «Лендинги» нажать  на кнопку «+\nСоздать» в правом верхнем углу (см. Рисунок 168).\n126\nРисунок 168 — Переход к созданию лендинга\n3.  Ввести имя лендинга (см. Рисунок 169) и нажать на кнопку «Создать».\nРисунок 169 — Ввод имени лендинга\n4.  В  списке  лендингов  нажать  на  имя  только  что  созданного  лендинга  для\nредактирования его настроек (см. Рисунок 170). Слева задаются настройки лендинга,\nсправа отображается макет лендинга в соответствии с заданными настройками.\nСсылка на лендинг размещается справа от его названия.\nДля отключения лендинга предназначен переключатель слева от его названия.\nСписок  мессенджеров  в  нижней  части  настроек  вкладки  «Основные»  определяет,\nкакие мессенджеры будут доступны клиентам. Если какой-то мессенджер недоступен\nдля выбора, это означает, что транспорт для этого мессенджера в настройках бота\nне настроен.\n127\nРисунок 170 — Страница настройки лендинга\nПоле  «Deeplink»  на  вкладке  «Интеграция»  определяет,  какой  диплинк  будет\nпередаваться  боту  при  переходе  клиента  по  ссылкам  на  странице  лендинга.  Так,\nнапример,  можно  настроить  лендинг,  который  будет  переводить  клиентов  в  заданный\nканал. Для этого нужно выбрать Deeplink, переводящий в этот канал.\nВажно!\nЕсли  лендинг  будет  использоваться  в  SMS-блоке  рассылок,  то  при  переходе  из  SMS\nдиплинк,  заданный  в  настройках  лендинга,  будет  заменен  на  диплинк  подтверждения\nномера телефона. Диплинк, заданный в настройках лендинга, не сработает. Это нужно\nучитывать при выборе лендинга для SMS-рассылок.\nЛендинги  поддерживают  интеграцию  с  различными  метриками  —  Яндекс.Метрикой,\nGoogle  Analytics,  пикселями  ВКонтакте  и  Facebook*.  Они  настраиваются  в  разделе\n«Интеграция».  Для  настройки  метрики  необходимо  зарегистрироваться  в  выбранной\nсистеме  и  получить  идентификатор  или  ключ  для  интеграции  и  ввести  его  в  поле\nсоответствующей метрики (см. Рисунок 171).\n128\nРисунок 171 — Ввод настроек интеграции\nПри  работе  с  пикселем  ВКонтакте  необходимо  учитывать,  что  в  отличие  от  остальных\nметрик, в том числе Facebook*, учитываются только посещения клиентов, авторизованных\nв этой социальной сети.\nМеханизм подключения клиентов\nМеханизм подключения для клиента выглядит при этом следующим образом:\n1.  Клиент переходит по присланной ему ссылке (см. Рисунок 172).\nРисунок 172 — SMS-рассылка со ссылкой на лендинг\n2.  Клиенту отображается лендинг, размещаемый на ресурсе  Maxbot (т. е. для этого не\nнужно самостоятельно  создавать  отдельный  сайт  или страницу  на сайте компании).\nНа  странице  отображается  список  мессенджеров,  с  помощью  которых  можно\nподключиться (см. Рисунок 173).\n129\nРисунок 173 — Лендинг с перечнем доступных мессенджеров, которые можно использовать для\nобщения с ботом\n3.  Клиент выбирает удобный ему мессенджер.\nПримечание:\nЕсли  какая-либо  кнопка  не  срабатывает,  значит  соответствующее  приложение\nмессенджера не установлено и его сначала необходимо установить.\n4.  Клиент запускает приложение соответствующего мессенджера (в нашем примере —\nTelegram,  см.  Рисунок  174).  После  старта  бота  происходит  автоматическое\nподтверждение номера телефона.\nРисунок 174 — Клиент подтвердил номер телефона и продолжил общение с ботом в Telegram",
    "tags": [
      "ввод имени",
      "правом верхнем",
      "верхнем углу",
      "нужно учитывать",
      "клиенту отображается",
      "следующим образом",
      "будут доступны",
      "нужно выбрать",
      "подтверждения номера",
      "номера телефона",
      "это нужно",
      "это означает",
      "подтвердил номер",
      "номер телефона",
      "клиент подтвердил",
      "посадочных страниц",
      "подключения клиентов",
      "механизм подключения",
      "sms диплинк",
      "настройках лендинга",
      "выборе лендинга",
      "настройки лендинга",
      "подтверждение номера",
      "клиент переходит",
      "страницы сайта",
      "верхнем правом",
      "правом углу",
      "углу окна",
      "окна бота",
      "инструменты роста",
      "заданный канал",
      "выбрать deeplink",
      "какие мессенджеры",
      "мессенджеры будут",
      "доступны клиентам",
      "мессенджер недоступен",
      "настройках бота",
      "доступных мессенджеров",
      "страницу сайта",
      "лендинг размещается",
      "нужно самостоятельно",
      "ниже приведено",
      "приведено описание",
      "посадочной страницы",
      "настройка посадочной",
      "создания лендинга",
      "лендинга необходимо",
      "создаваться лендинг"
    ]
  },
  {
    "section_id": "96_создание_и_настройка_посадочной_страницы",
    "section_title": "Создание и настройка посадочной страницы",
    "level": 1,
    "page_start": 126,
    "page_end": 128,
    "text": "Создание и настройка посадочной страницы\nДля создания лендинга необходимо:\n1.  Выбрать в верхнем правом углу окна бота, для которого будет создаваться лендинг.\n2.  Открыть раздел «Инструменты роста» и на вкладке «Лендинги» нажать  на кнопку «+\nСоздать» в правом верхнем углу (см. Рисунок 168).\n126\nРисунок 168 — Переход к созданию лендинга\n3.  Ввести имя лендинга (см. Рисунок 169) и нажать на кнопку «Создать».\nРисунок 169 — Ввод имени лендинга\n4.  В  списке  лендингов  нажать  на  имя  только  что  созданного  лендинга  для\nредактирования его настроек (см. Рисунок 170). Слева задаются настройки лендинга,\nсправа отображается макет лендинга в соответствии с заданными настройками.\nСсылка на лендинг размещается справа от его названия.\nДля отключения лендинга предназначен переключатель слева от его названия.\nСписок  мессенджеров  в  нижней  части  настроек  вкладки  «Основные»  определяет,\nкакие мессенджеры будут доступны клиентам. Если какой-то мессенджер недоступен\nдля выбора, это означает, что транспорт для этого мессенджера в настройках бота\nне настроен.\n127\nРисунок 170 — Страница настройки лендинга\nПоле  «Deeplink»  на  вкладке  «Интеграция»  определяет,  какой  диплинк  будет\nпередаваться  боту  при  переходе  клиента  по  ссылкам  на  странице  лендинга.  Так,\nнапример,  можно  настроить  лендинг,  который  будет  переводить  клиентов  в  заданный\nканал. Для этого нужно выбрать Deeplink, переводящий в этот канал.\nВажно!\nЕсли  лендинг  будет  использоваться  в  SMS-блоке  рассылок,  то  при  переходе  из  SMS\nдиплинк,  заданный  в  настройках  лендинга,  будет  заменен  на  диплинк  подтверждения\nномера телефона. Диплинк, заданный в настройках лендинга, не сработает. Это нужно\nучитывать при выборе лендинга для SMS-рассылок.\nЛендинги  поддерживают  интеграцию  с  различными  метриками  —  Яндекс.Метрикой,\nGoogle  Analytics,  пикселями  ВКонтакте  и  Facebook*.  Они  настраиваются  в  разделе\n«Интеграция».  Для  настройки  метрики  необходимо  зарегистрироваться  в  выбранной\nсистеме  и  получить  идентификатор  или  ключ  для  интеграции  и  ввести  его  в  поле\nсоответствующей метрики (см. Рисунок 171).\n128\nРисунок 171 — Ввод настроек интеграции\nПри  работе  с  пикселем  ВКонтакте  необходимо  учитывать,  что  в  отличие  от  остальных\nметрик, в том числе Facebook*, учитываются только посещения клиентов, авторизованных\nв этой социальной сети.",
    "tags": [
      "ввод имени",
      "правом верхнем",
      "верхнем углу",
      "нужно учитывать",
      "будут доступны",
      "нужно выбрать",
      "подтверждения номера",
      "номера телефона",
      "это нужно",
      "это означает",
      "sms диплинк",
      "настройках лендинга",
      "выборе лендинга",
      "настройки лендинга",
      "верхнем правом",
      "правом углу",
      "углу окна",
      "окна бота",
      "инструменты роста",
      "заданный канал",
      "выбрать deeplink",
      "какие мессенджеры",
      "мессенджеры будут",
      "доступны клиентам",
      "мессенджер недоступен",
      "настройках бота",
      "лендинг размещается",
      "посадочной страницы",
      "настройка посадочной",
      "создания лендинга",
      "лендинга необходимо",
      "создаваться лендинг"
    ]
  },
  {
    "section_id": "97_механизм_подключения_клиентов",
    "section_title": "Механизм подключения клиентов",
    "level": 1,
    "page_start": 129,
    "page_end": 129,
    "text": "Механизм подключения клиентов\nМеханизм подключения для клиента выглядит при этом следующим образом:\n1.  Клиент переходит по присланной ему ссылке (см. Рисунок 172).\nРисунок 172 — SMS-рассылка со ссылкой на лендинг\n2.  Клиенту отображается лендинг, размещаемый на ресурсе  Maxbot (т. е. для этого не\nнужно самостоятельно  создавать  отдельный  сайт  или страницу  на сайте компании).\nНа  странице  отображается  список  мессенджеров,  с  помощью  которых  можно\nподключиться (см. Рисунок 173).\n129\nРисунок 173 — Лендинг с перечнем доступных мессенджеров, которые можно использовать для\nобщения с ботом\n3.  Клиент выбирает удобный ему мессенджер.\nПримечание:\nЕсли  какая-либо  кнопка  не  срабатывает,  значит  соответствующее  приложение\nмессенджера не установлено и его сначала необходимо установить.\n4.  Клиент запускает приложение соответствующего мессенджера (в нашем примере —\nTelegram,  см.  Рисунок  174).  После  старта  бота  происходит  автоматическое\nподтверждение номера телефона.\nРисунок 174 — Клиент подтвердил номер телефона и продолжил общение с ботом в Telegram",
    "tags": [
      "клиенту отображается",
      "следующим образом",
      "номера телефона",
      "подтвердил номер",
      "номер телефона",
      "клиент подтвердил",
      "подключения клиентов",
      "механизм подключения",
      "подтверждение номера",
      "клиент переходит",
      "доступных мессенджеров",
      "нужно самостоятельно"
    ]
  },
  {
    "section_id": "98_просмотр_журнала_рассылок",
    "section_title": "Просмотр журнала рассылок",
    "level": 0,
    "page_start": 130,
    "page_end": 131,
    "text": "Просмотр журнала рассылок\nВ  разделе  «Журнал»  маркетолог  может  узнать  количество  клиентов,  для  которых\nрассылка запускалась и с какими статусами  произошли запуски. В Журнале рассылок\nотображаются все созданные и запущенные рассылки для выбранного бота (см. Рисунок\n175)\n130\nРисунок 175 — Отображение вкладки \"Журнал\"\nВ  этом  разделе  при  помощи  фильтра  по  названию  можно  найти  данные  по  нужной\nрассылки. Данные представленные в формате таблицы:\n•  Название рассылки – при клике переход на рассылку;\n•  Статистика по рассылке – при клике переход на статистику;\n•  Запуск – время последнего перехода рассылки в активный режим;\n•  Состояние – текущее состояние рассылки.\nСледующие  столбцы  представлены  в  виде  таблицы  (см.  Таблица  8)  с  описанием  их\nзначения.\nТаблица 8 — Описание столбцов в журнале рассылок\nНазвание столбца\nОписание\nВсего клиентов\nВсего клиентов, которым была запущена рассылка\nУспех\nУспех (sms)\nОшибка\nКол-во клиентов, которым рассылка дошла успешно\nКол-во клиентов, которым успешно отправлены sms\nКол-во клиентов, для которых рассылка не началась из-\nза ошибки при запуске\nОшибка при отправке sms\nКол-во  клиентов,  для  которых  провайдер,  через\nкоторого отправлялись смс, вернул ошибку\nНет SMS-блока\nКол-во  клиентов,  которые  пропущены,  т.к.  в  рассылке\nнет sms-блока\nКлиенты других рассылок\nКол-во  клиентов,  исключенных  из  рассылки,  т.к.  они\nвходят в аудиторию других рассылок\nОтписались\nКол-во  клиентов,  которые  отписались  от  целевых\nрассылок.\n131\nНазвание столбца\nОписание\nПропущено\nКол-во клиентов, которым рассылка уже отправлялась.\nВ  рассылке  не  стоит  флаг  «Отправлять  клиентам,\nкоторые уже получали эту рассылку»\nОшибка\ndeeplink (sms)\nпри\nгенерации\nКол-во  клиентов,  у  которых  при  отправке  sms  не\nудалось сгенерировать deeplink\nОшибка при вызове внешней\nсистемы (sms)\nКол-во  клиентов,  у  которых  вызов  внешней  системы\nперед отправкой sms завершился с ошибкой\nНе оплачены\nРассылка\nначаться\nне\nуспела\nКол-во  клиентов,  которые  не  получили  рассылку  из-за\nтого, что клиентов больше, чем предусмотрено текущим\nтарифом.\nКол-во  клиентов,  для  которых  рассылка  не  успела\nначаться из-за ограничения времени начала рассылки,\nлибо  из-за  того,  что  маркетолог  вручную  остановил\nрассылку.",
    "tags": [
      "начала рассылки",
      "название рассылки",
      "журнала рассылок",
      "состояние рассылки",
      "внешней системы",
      "других рассылок",
      "запущена рассылка",
      "которых рассылка",
      "ограничения времени",
      "рассылка запуск",
      "активный режим",
      "выбранного бота",
      "отправке sms",
      "вызове внешней",
      "рассылка запускалась",
      "рассылок отображаются",
      "текущее состояние",
      "sms кол",
      "целевых рассылок",
      "успела начаться",
      "рассылка начать"
    ]
  },
  {
    "section_id": "99_выгрузка_данных_для_выбранного_бота",
    "section_title": "Выгрузка данных для выбранного бота",
    "level": 0,
    "page_start": 132,
    "page_end": 134,
    "text": "Выгрузка данных для выбранного бота\nВыгрузка аудитории\nВ  разделе  «Выгрузка  данных»  маркетолог  может  выгрузить  всех  клиентов  выбранного\nбота (см. Рисунок 176).\nРисунок 176 — Выгрузка аудитории для выбранного бота\nДанные аудитории выгружаются в формате CSV. Формат файла:\n132\ncustomer_messenger_id;name;messenger_type;create_date;add_phone_date;phone;unsubscribed;\nallow_message;timezone;tags;first_customer_message_date;last_customer_message_date\nгде:\n•  customer_messenger_id — идентификатор клиента в Maxbot;\n•  name — имя клиента в мессенджере;\n•  messenger_type — тип мессенджера;\n•  create_date — дата первого подключения к боту;\n•  add_phone_date — дата подтверждения номера телефона;\n•  phone — номер телефона;\n•  unsubscribed — признак того, отписан ли клиент от рассылок (true или false);\n•  allow_message — признак возможности отправки клиенту сообщений в мессенджере\n(если клиент отписался от бота, то будет значение false);\n•\n•\n•\n•\ntimezone — часовой пояс клиента (может быть не задан, если клиент не добавлялся в\nаудиторию рассылок);\ntags — список тегов клиента, в квадратных скобках через запятую;\nfirst_customer_message_date — дата первого сообщения от клиента;\nlast_customer_message_date — дата последнего сообщения клиента.\nВыгрузка статистики рассылок\nВ  разделе  «Выгрузка  данных»  также  можно  скачать  «сырую»\nстатистику рассылок для выбранного бота и выбранной рассылки (см. Рисунок 177)12.\n(необработанную)\nРисунок 177 — Выгрузка статистики рассылок для выбранного бота\n12  В  панели  маркетолога  также  есть  раздел  «Статистика»,  в  котором  можно  посмотреть  другие,\nобработанные данные.\n133\nСтатистика  выгружается  в  формате  CSV  и  содержит  информацию  о  блоках  действий,\nвыполненных  для  клиентов  в  рамках  выбранных  рассылок.  Если  не  указано  ни  одной\nрассылки, то выгружается статистика по всем рассылкам, за заданный период.\nНапример, клиенту отправлена рассылка, изображенная ниже (см. Рисунок 178).\nЕсли  в  рассылке  клиент  нажмет  на  кнопку «Подробнее»,  то  в  статистику  добавится  три\nзаписи:  о  выполнении  блока  «Основная  информация»,  блока  «Подробности»  и  блока\n«Напоминание» с датой и временем выполнения каждого блока, информацией о клиенте,\nрассылке и т. д.\nЕсли  другой  клиент  после  получения  блока  «Основная  информация»  отпишется  от\nрассылок,  то  в  статистику  добавится  только  одна  запись  –  о  выполнении  блока\n«Основная информация».\nРисунок 178 — Пример рассылки с 3-мя блоками для сохранения статистики\nСкачиваемый  CSV-файл  со  статистикой  имеет  поля,  описание  которых  приведено  в\nтаблице ниже.\nТаблица 9 – Структура полей выгружаемого CSV-файла со статистикой\nНазвание поля\nОписание\nmailing_id\nmailing_type\nmailing_title\nИдентификатор рассылки\nТип рассылки (target - целевая, info - информационная)\nНазвание рассылки\ncustomer_messenger_id\nИдентификатор клиента\ncustomer_create_date\nДата и время первого подключения клиента к боту\n134\nНазвание поля\nОписание\ncustomer_name\nИмя клиента (как было задано в мессенджере во время\nпервого подключения к боту)\ncustomer_phone\nПодтвержденный клиентом номер телефона\nstats_create_datestats_time  Дата и время выполнения действий блока (node_to)\nnode_from_id\nИдентификатор блока–источника перехода\nnode_from_name\nnode_to_id\nНазвание  блока–источника  перехода\nstart)\n(или  событие\nИдентификатор  блока,  действия\nвыполнены\nкоторого  были\nnode_to_name\nНазвание блока, действия которого были выполнены\nedge_type\nedge_button_id\nedge_button_name\nargs",
    "tags": [
      "название рассылки",
      "тип рассылки",
      "действий блок",
      "отправки клиенту",
      "формат файла",
      "одной рассылки",
      "сообщения клиента",
      "время выполнения",
      "подтверждения номера",
      "номера телефона",
      "действий блока",
      "заданный период",
      "время выполнен",
      "дата первого",
      "дата последнего",
      "идентификатор клиента",
      "часовой пояс",
      "пояс клиента",
      "выгрузка аудитории",
      "выбранного бота",
      "номер телефона",
      "отправлена рассылка",
      "формате csv",
      "клиенту отправлена",
      "изображенная ниже",
      "выгрузка данных",
      "список тегов",
      "тегов клиента",
      "customer_name имя",
      "тип мессенджера",
      "messenger_id идентификатор",
      "customer_messenger_id идентификатор",
      "phone подтвержденный",
      "выполнения каждого",
      "последнего сообщения",
      "клиент отписался",
      "подключения клиента",
      "имя клиента",
      "первого подключения",
      "выгрузка статистики",
      "статистики рассылок",
      "всем рассылкам",
      "основная информация",
      "поля описание",
      "название поля",
      "идентификатор рассылки",
      "время первого",
      "идентификатор блока",
      "источника перехода",
      "название блока",
      "действия которого"
    ]
  },
  {
    "section_id": "100_выгрузка_аудитории",
    "section_title": "Выгрузка аудитории",
    "level": 1,
    "page_start": 132,
    "page_end": 132,
    "text": "Выгрузка аудитории\nВ  разделе  «Выгрузка  данных»  маркетолог  может  выгрузить  всех  клиентов  выбранного\nбота (см. Рисунок 176).\nРисунок 176 — Выгрузка аудитории для выбранного бота\nДанные аудитории выгружаются в формате CSV. Формат файла:\n132\ncustomer_messenger_id;name;messenger_type;create_date;add_phone_date;phone;unsubscribed;\nallow_message;timezone;tags;first_customer_message_date;last_customer_message_date\nгде:\n•  customer_messenger_id — идентификатор клиента в Maxbot;\n•  name — имя клиента в мессенджере;\n•  messenger_type — тип мессенджера;\n•  create_date — дата первого подключения к боту;\n•  add_phone_date — дата подтверждения номера телефона;\n•  phone — номер телефона;\n•  unsubscribed — признак того, отписан ли клиент от рассылок (true или false);\n•  allow_message — признак возможности отправки клиенту сообщений в мессенджере\n(если клиент отписался от бота, то будет значение false);\n•\n•\n•\n•\ntimezone — часовой пояс клиента (может быть не задан, если клиент не добавлялся в\nаудиторию рассылок);\ntags — список тегов клиента, в квадратных скобках через запятую;\nfirst_customer_message_date — дата первого сообщения от клиента;\nlast_customer_message_date — дата последнего сообщения клиента.",
    "tags": [
      "отправки клиенту",
      "формат файла",
      "сообщения клиента",
      "подтверждения номера",
      "номера телефона",
      "дата первого",
      "дата последнего",
      "идентификатор клиента",
      "часовой пояс",
      "пояс клиента",
      "выгрузка аудитории",
      "выбранного бота",
      "номер телефона",
      "формате csv",
      "список тегов",
      "тегов клиента",
      "тип мессенджера",
      "последнего сообщения",
      "клиент отписался",
      "имя клиента",
      "первого подключения"
    ]
  },
  {
    "section_id": "101_выгрузка_статистики_рассылок",
    "section_title": "Выгрузка статистики рассылок",
    "level": 1,
    "page_start": 133,
    "page_end": 134,
    "text": "Выгрузка статистики рассылок\nВ  разделе  «Выгрузка  данных»  также  можно  скачать  «сырую»\nстатистику рассылок для выбранного бота и выбранной рассылки (см. Рисунок 177)12.\n(необработанную)\nРисунок 177 — Выгрузка статистики рассылок для выбранного бота\n12  В  панели  маркетолога  также  есть  раздел  «Статистика»,  в  котором  можно  посмотреть  другие,\nобработанные данные.\n133\nСтатистика  выгружается  в  формате  CSV  и  содержит  информацию  о  блоках  действий,\nвыполненных  для  клиентов  в  рамках  выбранных  рассылок.  Если  не  указано  ни  одной\nрассылки, то выгружается статистика по всем рассылкам, за заданный период.\nНапример, клиенту отправлена рассылка, изображенная ниже (см. Рисунок 178).\nЕсли  в  рассылке  клиент  нажмет  на  кнопку «Подробнее»,  то  в  статистику  добавится  три\nзаписи:  о  выполнении  блока  «Основная  информация»,  блока  «Подробности»  и  блока\n«Напоминание» с датой и временем выполнения каждого блока, информацией о клиенте,\nрассылке и т. д.\nЕсли  другой  клиент  после  получения  блока  «Основная  информация»  отпишется  от\nрассылок,  то  в  статистику  добавится  только  одна  запись  –  о  выполнении  блока\n«Основная информация».\nРисунок 178 — Пример рассылки с 3-мя блоками для сохранения статистики\nСкачиваемый  CSV-файл  со  статистикой  имеет  поля,  описание  которых  приведено  в\nтаблице ниже.\nТаблица 9 – Структура полей выгружаемого CSV-файла со статистикой\nНазвание поля\nОписание\nmailing_id\nmailing_type\nmailing_title\nИдентификатор рассылки\nТип рассылки (target - целевая, info - информационная)\nНазвание рассылки\ncustomer_messenger_id\nИдентификатор клиента\ncustomer_create_date\nДата и время первого подключения клиента к боту\n134\nНазвание поля\nОписание\ncustomer_name\nИмя клиента (как было задано в мессенджере во время\nпервого подключения к боту)\ncustomer_phone\nПодтвержденный клиентом номер телефона\nstats_create_datestats_time  Дата и время выполнения действий блока (node_to)\nnode_from_id\nИдентификатор блока–источника перехода\nnode_from_name\nnode_to_id\nНазвание  блока–источника  перехода\nstart)\n(или  событие\nИдентификатор  блока,  действия\nвыполнены\nкоторого  были\nnode_to_name\nНазвание блока, действия которого были выполнены\nedge_type\nedge_button_id\nedge_button_name\nargs",
    "tags": [
      "название рассылки",
      "тип рассылки",
      "действий блок",
      "одной рассылки",
      "время выполнения",
      "действий блока",
      "заданный период",
      "время выполнен",
      "идентификатор клиента",
      "выбранного бота",
      "номер телефона",
      "отправлена рассылка",
      "клиенту отправлена",
      "изображенная ниже",
      "customer_name имя",
      "messenger_id идентификатор",
      "customer_messenger_id идентификатор",
      "phone подтвержденный",
      "выполнения каждого",
      "подключения клиента",
      "имя клиента",
      "первого подключения",
      "выгрузка статистики",
      "статистики рассылок",
      "всем рассылкам",
      "основная информация",
      "поля описание",
      "название поля",
      "идентификатор рассылки",
      "время первого",
      "идентификатор блока",
      "источника перехода",
      "название блока",
      "действия которого"
    ]
  },
  {
    "section_id": "102_отладка",
    "section_title": "Отладка",
    "level": 0,
    "page_start": 135,
    "page_end": 145,
    "text": "Отладка\nТип связи между блоком-источником и блоком, действия\nкоторого были выполнены:\ntimeout  –  задержка  после  отправки  сообщения  из\nблока-источника;\nbutton_click – нажатие кнопки в блоке-источнике;\ndirect – связь от события start (при этом задержка может\nбыть ненулевой).\nИдентификатор  кнопки,  которая  нажата  в  блоке-\nисточнике перехода\nНазвание  кнопки,  которая  нажата  в  блоке-источнике\nперехода\nАргументы, указанные при генерации события, которое\nинициировало  начало  этой  рассылки  для  данного\nклиента\nПри  работе  с  рассылками,  которые  начинаются  при  возникновении  события,  часто\nнеобходимо  узнать,  почему  клиент  или  множество  клиентов  не  получили  рассылку.  В\nконсоли  маркетолога  есть  специальный  раздел  «Отладка»,  который  помогает\nразобраться,  что  произошло  после  возникновения  определенного  события  (вкладка\n«События») или запуска рассылки (вкладка «Рассылки»).\n135\nРисунок 179 — Раздел «Отладка»\nАудит вызовов событий\nНа вкладке «События» можно найти информацию о попытках сгенерировать то или иное\nсобытие. Поиск возможен по дате события, а также по его характеристикам. (для этого\nнужно нажать на иконку фильтра, см. Рисунок 180):\nРисунок 180 — Поиск события по его характеристикам\nПеречень  доступных  фильтров  и  их  описание  приведены  в  таблице  10.  Между  собой\nфильтры применяются по условию «И», т. е. возвращаются результаты, удовлетворяющие\nвсем фильтрам.\n136\nТаблица 10 — Описание фильтров для поиска событий\nФильтр\nДата\nНазвание события\nСписок\nидентификаторов\nрассылок\nСписок\nlaunch_result_ids\nИдентификатор\nбота\nИдентификатор\nклиента\nИмя клиента\nНомер телефона\nТипы запуска\nрассылки по\nсобытию\nОписание\nДата попытки сгенерировать событие. Единственный\nобязательный фильтр для выполнения поиска.\nВ этом фильтре может быть указано полное название события\nили его часть (выполняется поиск заданной подстроки в\nназвании события).\nИдентификаторы рассылок, которые начаты в результате\nвызова события. Фильтр применяется по условию «ИЛИ», т. е.\nвозвращаются результаты, удовлетворяющие хотя бы одному из\nзаданных значений.\nИдентификаторы запусков (launch_customer_ids или\nsms_launch_customer_ids или delayed_trigger_event_id, или\nunsubscribed_trigger_event_id), полученные в результате\nгенерирования событий. Фильтр применяется по условию\n«ИЛИ», т. е. возвращаются результаты, удовлетворяющие хотя\nбы одному из заданных значений.\nВ этом фильтре может быть указано полное системное название\nбота или его часть, т. е. выполняется поиск заданной подстроки.\nИдентификатор клиента, для которого началась рассылка в\nрезультате возникновения события.\nИмя клиента, для которого началась рассылка в результате\nвозникновения события.\nПолный номер телефона клиента или его часть, для которого\nначалась рассылка в результате возникновения события. Т.е.\nвыполняется поиск заданной подстроки\nПозволяет отфильтровать события по «последствиям» запуска.\nМожно задать одно или несколько значений из:\nвызова\n•  «Ожидание  подтверждения  телефона»  –  события,  в\nожидание\nкоторых\nрезультате\nподтверждения клиентом номера телефона (случай, когда\nв\nвозвращается\ndelayed_trigger_event_id).\nрезультате\nначалось\nсобытия\nвызова\n•  «Ожидание подписки на бота в мессенджере» – события, в\nрезультате вызова которых началось ожидание подписки\n(случай,  когда  в\nклиента  на  бота  в  мессенджере\nрезультате\nвозвращается\nсобытия\nunsubscribed_trigger_event_id).\nвызова\n•  «Передано  в  транспорт  мессенджера»  –  события,  в\nрезультате вызова которых началось отправка рассылки в\nмессенджер  (случай,  когда  в  результате  вызова  события\nвозвращается launch_customer_ids).\n137\nФильтр\nОписание\n•  «Передано  в  SMS-провайдер»  –  события,  в  результате\nвызова которых началось отправка SMS-рассылки (через\nSMS-провайдер,  случай,  когда  в  результате  вызова\nсобытия возвращается sms_launch_customer_ids).\nРезультат вызова\nсобытия\nСтатус-код запроса вызова события:\n•  200 — запрос выполнен успешно;\n•  40X – различные виды ошибок.\nСписок возможных\nисточников события\nОдин или несколько источников, откуда сгенерировано\nсобытие:\n•  Рассылка  –  события,  сгенерированные  из  сценария\nв\n«Сгенерировать\n(действие\nсобытие»\nрассылки\nконструкторе рассылок);\n•  Интерфейс  –  события,  сгенерированные  из  консоли\nмаркетолога;\n•  API  –  события,  сгенерированные  путем  вызова  одного  из\nзапросов API;\n•  Системное\nсобытие\nсобытия,\n–\nсгенерированные  ботом  (в  текущей  версии  Maxbot  это\n«Подтверждение номера телефона» и «Добавление нового\nклиента»).\nсистемные\nСостояние запусков\nрассылки для\nклиента\nСтатус запуска рассылки для клиента:\n•  «Готов к отправке» — рассылка готова к началу, но еще не\nначалась;\n•  «Рассылка началась успешно»;\n•  «Ошибка при запуске рассылки»;\n•  «Пропущен, в рассылке нет SMS-блока» — сгенерировано\nсобытие для отправки SMS, но в рассылке нет SMS-блока;\n•  «Пропущен, входит в аудиторию другой рассылки»;\n•  «Клиент отписался от рассылок»;\n•  «Клиент не оплачен»;\n•  «Клиент уже получал рассылку»;\n•  «Рассылка не успела начаться» – рассылка не началась,\nт. к. ее остановили, не успев начать ее для клиента;\n•  «Ошибка при запуске SMS-рассылки»;\n138\nФильтр\nОписание\n•  «Ошибка при вызове внешней системы в SMS-блоке»;\n•  «Ошибка при генерации диплинка для SMS-блока» — при\nотправке  SMS-рассылки  с  лендингом  при  генерации\nдиплинка возникла ошибка;\n•  «Телефон  подтвержден  до  попытки  отправить  SMS»  —\nклиент  подтвердил  номер  телефона  до  отправки  SMS,\nотправка будет осуществлена через мессенджер;\n•  «Ожидает  подписки  клиента  в  мессенджере»  —  начало\nрассылки  отложено  до  подписки  клиентом  на  бота  в\nмессенджере;\n•  «Ожидает  подтверждения  номера  телефона»  —  начало\nрассылки  отложено  до  подтверждения  клиентом  номера\nтелефона.\nВ  результате  применения  фильтров  отображаются  записи  о  попытках  сгенерировать\nсобытия, удовлетворяющие всем заданным условиям.\nЕсть два режима отображения результатов:\n•  режим карточек (см. Рисунок 181);\n•  режим списка (см. Рисунок 182).\nРисунок 181 — Просмотр найденных событий (режим карточек)\n139\nРисунок 182 — Просмотр найденных событий (режим списка)\nРежимы  отличаются  только  визуально,  переключение  между  ними  выполняется  при\nпомощи иконки справа от фильтра.\nПри нажатии на ссылку в поле «ID» можно перейти на страницу с детальной информацией\nо сгенерированном событии. Эта страница разделяется на две части. В верхней части\nстраницы  отображается  общая  информация  о  сгенерированном  событии  (см.  Рисунок\n183):\n•\nID — идентификатор записи о генерации события в журнале аудита событий;\n•  Источник  —  источник,  откуда  пришел  запрос  на  генерацию  события.  См.  «Список\nвозможных источников события» выше;\n•  Рассылка  —  название  рассылки,  если  событие  было  сгенерировано  из  сценария\nрассылки;\n•  Дата — дата генерации события;\n•  Название события из запроса — название события, как оно было указано в запросе;\n•\n•\nID события — идентификатор события в системе;\nID клиента — идентификатор клиента, для которого было сгенерировано событие;\n•  Мессенджер — мессенджер клиента, для которого было сгенерировано событие;\n•  Телефон — телефон клиента, для которого было сгенерировано событие;\n•  Тип — тип запроса на генерацию события. Возможные варианты:\n•  По идентификатору клиента;\n•  По номеру телефона;\n•  Для рассылок с фиксированной аудиторией;\n140\n•  Запрос — тело запроса на генерацию события. Для просмотра и копирования нужно\nнавести мышью на «глазок»;\n•  Статус-код — HTTP status code ответа на запрос генерации события;\n•  Ответ  —  тело  ответа  на  запрос  генерации  события.  Для  просмотра  и  копирования\nнужно навести мышью на «глазок».\nРисунок 183 — Общая информация о сгенерированном событии\nВ  нижней  части  страницы  отображается  информация  о  рассылках,  начавшихся  в\nрезультате  возникновения  события,  либо  информация  о  начавшемся  ожидании\nподтверждения номера телефона или подписки клиента в мессенджере. Информация на\nстранице  с  деталями  события  позволяет  понять,  началась  ли  рассылка  при  вызове\nсобытия,  а  также  ответить  на  вопросы  –  если  рассылка  началась,  то  какая,  и  если  не\nначалась,  то  почему.  Далее  в  подразделах  приведены  примеры  вывода  такой\nинформации.\nРассылка  в  мессенджер  (одна  или  несколько)  началась  сразу  после  возникновения\nсобытия\nСведения о начавшихся рассылках в мессенджере содержат (см. Рисунок 184):\n•\nID — идентификатор записи о генерации события в журнале аудита событий;\n•  Дата — дата генерации события;\n•  MID — идентификатор начавшейся рассылки. При нажатии на ссылку можно перейти\nна  страницу  с  информацией  о  ходе  выполнения  рассылки  для  этого  клиента.\nПодробнее это описано в разделе Просмотр хода выполнения рассылок;\n•  Рассылка — название рассылки, которая началась в результате вызова события. При\nклике по ссылке можно перейти на страницу редактирования рассылки;\n•  Launch  —  идентификатор  запуска  рассылки,  получаемый  при  генерации  события  (в\nполе launch_customer_ids ответа на запрос генерации события);\n141\n•  Запуск, Остановка — даты запуска и остановки рассылки соответственно (в текущей\nверсии Maxbot) не заполняется;\n•  Состояние — текущее состояние рассылки;\n•  CID — идентификатор клиента, для которого началась рассылка;\n•  Статус  —  состояние  запуска  рассылки  для  клиента,  см.  ранее  описание  фильтра\n«Состояние запусков рассылки для клиента»;\n•  Попыток — количество попыток начать рассылку;\n•  Последняя попытка — дата последней попытки начать рассылку для клиента.\n•  Аргументы  —  аргументы  события,  переданные  при  генерации.  Для  просмотра  и\nкопирования нужно навести мышью на «глазок».\nРисунок 184 — Пример вывода информации о рассылках в мессенджер, которые начались сразу\nпосле возникновения события\nSMS-рассылка (одна или несколько) началась сразу после возникновения события\nСведения о начавшихся SMS-рассылках практически аналогичны варианту с рассылкой\nв мессенджер. Дополнительно для SMS-рассылок отображаются следующие данные (см.\nРисунок 185):\n•  Телефон — телефон, для которого сгенерировано событие;\n•  Мессенджеры — список messenger_order, как он был указан при вызове события;\n•  Временная зона — значение поля timezone, указанное при вызове события.\n142\nРисунок 185 — Пример вывода информации о SMS-рассылке, которая началась сразу после\nвозникновения события\nЕсли  сообщения  не  приходят,  то  разобраться  в  причине  можно,  изучив  ответ  от  SMS-\nпровайдера. Для этого необходимо нажать на иконку\nв поле «Ошибка» (если ошибка\nимеет место), см. рисунок 186:\nРисунок 186 — Просмотр информации об ошибке при отправке SMS-рассылок\nВызов события отложен до подтверждения номера телефона\nСведения  о  событиях,  отложенных  до  подтверждения  номера  телефона,  практически\nаналогичны  вариантам,  описанным  ранее.  Дополнительно  отображаются  следующие\nданные (см. Рисунок 187):\n143\n•  TTL  —  таймаут  ожидания  подтверждения  номера  телефона,  заданный  при  вызове\nсобытия;\n•  Истечение — дата, когда истекло ожидание.\nРисунок 187 — Пример вывода информации о событии, отложенном до подтверждения номера\nтелефона\nВызов события отложен до подписки на бота в мессенджере\nСведения  о  событиях,  отложенных  до  подписки  на  бота  в  мессенджера,  практически\nаналогичны  вариантам,  описанным  ранее.  Дополнительно  отображаются  следующие\nданные (см. Рисунок 188):\n•  TTL  —  таймаут  ожидания  подписки  на  бота  в  мессенджере,  заданный  при  вызове\nсобытия;\n•  Истечение — дата, когда истекло ожидание подписки.\nРисунок 188 — Пример вывода информации о событии, отложенном до подписки на бота в\nмессенджере\n144\nАудит запусков рассылок\nВ  некоторых  случаях  исследование  проблем  удобнее  проводить  от  рассылки,  а  не  от\nсобытия.  Кроме  того,  не  все  рассылки  начинаются  по  событию,  некоторые  начинаются\nпри выставлении тега или в заданное время. В этом случае удобно использовать вкладку\n«Рассылки».  На  данной  вкладке  можно  выполнить  поиск  информации  о  запусках\nрассылок  по  дате,  а  также  по  их  характеристикам  (для  этого  нужно  нажать  на  иконку\nфильтра, см. Рисунок 189).\nРисунок 189 — Поиск рассылок по их характеристикам\nПеречень  доступных  фильтров  и  их  описание  приведены  в  таблице  11.  Для  поиска\nнеобходимо  задать  хотя  бы  один  из  обязательных  фильтров  –  «Идентификатор»,\n«Название рассылки» или «Дата начала рассылки для клиента».\nТаблица 11 — Описание фильтров для поиска рассылок\nФильтр\nОписание\nИдентификатор\nИдентификатор рассылки.\nСостояние рассылки\nТекущее состояние рассылки.\nИмя клиента\nЧасть или полное имя клиента, для которого началась\nрассылка.\nМессенджер\nМессенджер, через который началась рассылка.\nНомер телефона\nНомер телефона клиента, для которого началась рассылка.\nСостояние запусков\nрассылки для клиента\nСм. аналогичное поле ранее в таблице 10.\n145\nВ  результате  применения  фильтров  отображаются  записи  о  запусках  рассылок,\nудовлетворяющие всем заданным условиям. Есть два режима отображения результатов:\n•  режим карточек (см. Рисунок 190);\n•  режим списка (см. Рисунок 191).\nРежимы  отличаются  только  визуально,  переключение  между  ними  выполняется  при\nпомощи иконки справа от фильтра.\nРисунок 190 — Вывод информации о найденных рассылках (режим карточек)\nРисунок 191 — Вывод информации о найденных рассылках (режим списка)\nИнформационные  поля  аналогичны  тем,  что  описаны  в  подразделе  Аудит  вызовов\nсобытий.\nПри нажатии на ссылку в поле «MID» выполняется переход на страницу с информацией о\nходе выполнения рассылки для клиента.\nПри  нажатии  на  ссылку  в  поле  «Состояние»  выполняется  переход  на  страницу  со\nстатистикой по рассылке (см. подробнее в подразделе",
    "tags": [
      "консоли маркетолога",
      "сценария рассылки",
      "рассылки конструкторе",
      "начала рассылки",
      "выполнения рассылки",
      "название рассылки",
      "запуска рассылки",
      "фиксированной аудиторией",
      "состояние рассылки",
      "помощи иконки",
      "сгенерировать событие",
      "события start",
      "запуске рассылки",
      "возникновения события",
      "заданное время",
      "внешней системы",
      "удобно использовать",
      "нового клиента",
      "текущей версии",
      "сгенерировано событие",
      "генерации события",
      "подтверждения номера",
      "номера телефона",
      "верхней части",
      "остановки рассылки",
      "начать рассылку",
      "рассылка началась",
      "началась рассылка",
      "подробнее это",
      "это описано",
      "начало рассылки",
      "ходе выполнения",
      "идентификатор записи",
      "выставлении тега",
      "идентификатор клиента",
      "отправки sms",
      "телефон клиента",
      "номер телефона",
      "телефона клиент",
      "номеру телефона",
      "попыток начать",
      "запусков рассылки",
      "отправка sms",
      "отправке sms",
      "подписки клиента",
      "общая информация",
      "добавление нового",
      "подтверждение номера",
      "идентификатор события",
      "список launch_result_ids",
      "вызове события",
      "подтверждения клиентом",
      "клиентом номера",
      "клиента номер",
      "ожидание подписки",
      "идентификатору клиента",
      "отправка рассылки",
      "запрос генерации",
      "идентификаторы запусков",
      "события возвращается",
      "запусков рассылок",
      "идентификатор бота",
      "название бота",
      "телефона клиента",
      "вызове внешней",
      "тело запроса",
      "версии maxbot",
      "количество попыток",
      "запроса вызова",
      "клиент отписался",
      "рассылок отображаются",
      "текущее состояние",
      "успела начаться",
      "имя клиента",
      "идентификатор рассылки",
      "действия которого",
      "аудит вызовов",
      "вызовов событий",
      "попытках сгенерировать",
      "иконку фильтра",
      "характеристикам перечень",
      "возвращаются результаты",
      "удовлетворяющие всем",
      "описание фильтров",
      "событий фильтр",
      "название события",
      "события список",
      "указано полное",
      "выполняется поиск",
      "поиск заданной",
      "заданной подстроки",
      "результате вызова",
      "вызова события",
      "фильтр применяется",
      "удовлетворяющие хотя",
      "заданных значений",
      "которого началась",
      "результате возникновения",
      "клиента часть",
      "вызова которых",
      "которых началось",
      "началось отправка",
      "фильтр описание",
      "список возможных",
      "возможных источников",
      "источников события",
      "запросов api",
      "состояние запусков",
      "запуске sms",
      "генерации диплинка",
      "всем заданным",
      "заданным условиям",
      "режима отображения",
      "отображения результатов",
      "режим карточек",
      "режим списка",
      "найденных событий",
      "иконки справа",
      "сгенерированном событии",
      "части страницы",
      "журнале аудита",
      "аудита событий",
      "генерацию события",
      "дата генерации",
      "которого сгенерировано",
      "мессенджер мессенджер",
      "копирования нужно",
      "нужно навести",
      "навести мышью",
      "http status",
      "status code",
      "code ответа",
      "ожидании подтверждения",
      "вывода информации",
      "началась сразу",
      "события сведения",
      "начавшихся рассылках",
      "мессенджере содержат",
      "идентификатор начавшейся",
      "начавшейся рассылки",
      "хода выполнения",
      "выполнения рассылок",
      "которая началась",
      "страницу редактирования",
      "редактирования рассылки",
      "поле launch_customer_ids",
      "launch_customer_ids ответа",
      "даты запуска",
      "рассылки соответственно",
      "последняя попытка",
      "дата последней",
      "последней попытки",
      "попытки начать",
      "которые начались",
      "начались сразу",
      "начавшихся sms",
      "рассылках практически",
      "практически аналогичны",
      "аналогичны варианту",
      "отображаются следующие",
      "следующие данные",
      "список messenger_order",
      "временная зона",
      "значение поля",
      "поля timezone",
      "ошибка имеет",
      "имеет место",
      "вызов события",
      "события отложен",
      "телефона сведения",
      "истекло ожидание",
      "мессенджере сведения",
      "мессенджере 144",
      "запусках рассылок",
      "описание идентификатор",
      "вывод информации",
      "найденных рассылках",
      "выполняется переход"
    ]
  },
  {
    "section_id": "103_аудит_вызовов_событий",
    "section_title": "Аудит вызовов событий",
    "level": 1,
    "page_start": 136,
    "page_end": 144,
    "text": "Аудит вызовов событий\nНа вкладке «События» можно найти информацию о попытках сгенерировать то или иное\nсобытие. Поиск возможен по дате события, а также по его характеристикам. (для этого\nнужно нажать на иконку фильтра, см. Рисунок 180):\nРисунок 180 — Поиск события по его характеристикам\nПеречень  доступных  фильтров  и  их  описание  приведены  в  таблице  10.  Между  собой\nфильтры применяются по условию «И», т. е. возвращаются результаты, удовлетворяющие\nвсем фильтрам.\n136\nТаблица 10 — Описание фильтров для поиска событий\nФильтр\nДата\nНазвание события\nСписок\nидентификаторов\nрассылок\nСписок\nlaunch_result_ids\nИдентификатор\nбота\nИдентификатор\nклиента\nИмя клиента\nНомер телефона\nТипы запуска\nрассылки по\nсобытию\nОписание\nДата попытки сгенерировать событие. Единственный\nобязательный фильтр для выполнения поиска.\nВ этом фильтре может быть указано полное название события\nили его часть (выполняется поиск заданной подстроки в\nназвании события).\nИдентификаторы рассылок, которые начаты в результате\nвызова события. Фильтр применяется по условию «ИЛИ», т. е.\nвозвращаются результаты, удовлетворяющие хотя бы одному из\nзаданных значений.\nИдентификаторы запусков (launch_customer_ids или\nsms_launch_customer_ids или delayed_trigger_event_id, или\nunsubscribed_trigger_event_id), полученные в результате\nгенерирования событий. Фильтр применяется по условию\n«ИЛИ», т. е. возвращаются результаты, удовлетворяющие хотя\nбы одному из заданных значений.\nВ этом фильтре может быть указано полное системное название\nбота или его часть, т. е. выполняется поиск заданной подстроки.\nИдентификатор клиента, для которого началась рассылка в\nрезультате возникновения события.\nИмя клиента, для которого началась рассылка в результате\nвозникновения события.\nПолный номер телефона клиента или его часть, для которого\nначалась рассылка в результате возникновения события. Т.е.\nвыполняется поиск заданной подстроки\nПозволяет отфильтровать события по «последствиям» запуска.\nМожно задать одно или несколько значений из:\nвызова\n•  «Ожидание  подтверждения  телефона»  –  события,  в\nожидание\nкоторых\nрезультате\nподтверждения клиентом номера телефона (случай, когда\nв\nвозвращается\ndelayed_trigger_event_id).\nрезультате\nначалось\nсобытия\nвызова\n•  «Ожидание подписки на бота в мессенджере» – события, в\nрезультате вызова которых началось ожидание подписки\n(случай,  когда  в\nклиента  на  бота  в  мессенджере\nрезультате\nвозвращается\nсобытия\nunsubscribed_trigger_event_id).\nвызова\n•  «Передано  в  транспорт  мессенджера»  –  события,  в\nрезультате вызова которых началось отправка рассылки в\nмессенджер  (случай,  когда  в  результате  вызова  события\nвозвращается launch_customer_ids).\n137\nФильтр\nОписание\n•  «Передано  в  SMS-провайдер»  –  события,  в  результате\nвызова которых началось отправка SMS-рассылки (через\nSMS-провайдер,  случай,  когда  в  результате  вызова\nсобытия возвращается sms_launch_customer_ids).\nРезультат вызова\nсобытия\nСтатус-код запроса вызова события:\n•  200 — запрос выполнен успешно;\n•  40X – различные виды ошибок.\nСписок возможных\nисточников события\nОдин или несколько источников, откуда сгенерировано\nсобытие:\n•  Рассылка  –  события,  сгенерированные  из  сценария\nв\n«Сгенерировать\n(действие\nсобытие»\nрассылки\nконструкторе рассылок);\n•  Интерфейс  –  события,  сгенерированные  из  консоли\nмаркетолога;\n•  API  –  события,  сгенерированные  путем  вызова  одного  из\nзапросов API;\n•  Системное\nсобытие\nсобытия,\n–\nсгенерированные  ботом  (в  текущей  версии  Maxbot  это\n«Подтверждение номера телефона» и «Добавление нового\nклиента»).\nсистемные\nСостояние запусков\nрассылки для\nклиента\nСтатус запуска рассылки для клиента:\n•  «Готов к отправке» — рассылка готова к началу, но еще не\nначалась;\n•  «Рассылка началась успешно»;\n•  «Ошибка при запуске рассылки»;\n•  «Пропущен, в рассылке нет SMS-блока» — сгенерировано\nсобытие для отправки SMS, но в рассылке нет SMS-блока;\n•  «Пропущен, входит в аудиторию другой рассылки»;\n•  «Клиент отписался от рассылок»;\n•  «Клиент не оплачен»;\n•  «Клиент уже получал рассылку»;\n•  «Рассылка не успела начаться» – рассылка не началась,\nт. к. ее остановили, не успев начать ее для клиента;\n•  «Ошибка при запуске SMS-рассылки»;\n138\nФильтр\nОписание\n•  «Ошибка при вызове внешней системы в SMS-блоке»;\n•  «Ошибка при генерации диплинка для SMS-блока» — при\nотправке  SMS-рассылки  с  лендингом  при  генерации\nдиплинка возникла ошибка;\n•  «Телефон  подтвержден  до  попытки  отправить  SMS»  —\nклиент  подтвердил  номер  телефона  до  отправки  SMS,\nотправка будет осуществлена через мессенджер;\n•  «Ожидает  подписки  клиента  в  мессенджере»  —  начало\nрассылки  отложено  до  подписки  клиентом  на  бота  в\nмессенджере;\n•  «Ожидает  подтверждения  номера  телефона»  —  начало\nрассылки  отложено  до  подтверждения  клиентом  номера\nтелефона.\nВ  результате  применения  фильтров  отображаются  записи  о  попытках  сгенерировать\nсобытия, удовлетворяющие всем заданным условиям.\nЕсть два режима отображения результатов:\n•  режим карточек (см. Рисунок 181);\n•  режим списка (см. Рисунок 182).\nРисунок 181 — Просмотр найденных событий (режим карточек)\n139\nРисунок 182 — Просмотр найденных событий (режим списка)\nРежимы  отличаются  только  визуально,  переключение  между  ними  выполняется  при\nпомощи иконки справа от фильтра.\nПри нажатии на ссылку в поле «ID» можно перейти на страницу с детальной информацией\nо сгенерированном событии. Эта страница разделяется на две части. В верхней части\nстраницы  отображается  общая  информация  о  сгенерированном  событии  (см.  Рисунок\n183):\n•\nID — идентификатор записи о генерации события в журнале аудита событий;\n•  Источник  —  источник,  откуда  пришел  запрос  на  генерацию  события.  См.  «Список\nвозможных источников события» выше;\n•  Рассылка  —  название  рассылки,  если  событие  было  сгенерировано  из  сценария\nрассылки;\n•  Дата — дата генерации события;\n•  Название события из запроса — название события, как оно было указано в запросе;\n•\n•\nID события — идентификатор события в системе;\nID клиента — идентификатор клиента, для которого было сгенерировано событие;\n•  Мессенджер — мессенджер клиента, для которого было сгенерировано событие;\n•  Телефон — телефон клиента, для которого было сгенерировано событие;\n•  Тип — тип запроса на генерацию события. Возможные варианты:\n•  По идентификатору клиента;\n•  По номеру телефона;\n•  Для рассылок с фиксированной аудиторией;\n140\n•  Запрос — тело запроса на генерацию события. Для просмотра и копирования нужно\nнавести мышью на «глазок»;\n•  Статус-код — HTTP status code ответа на запрос генерации события;\n•  Ответ  —  тело  ответа  на  запрос  генерации  события.  Для  просмотра  и  копирования\nнужно навести мышью на «глазок».\nРисунок 183 — Общая информация о сгенерированном событии\nВ  нижней  части  страницы  отображается  информация  о  рассылках,  начавшихся  в\nрезультате  возникновения  события,  либо  информация  о  начавшемся  ожидании\nподтверждения номера телефона или подписки клиента в мессенджере. Информация на\nстранице  с  деталями  события  позволяет  понять,  началась  ли  рассылка  при  вызове\nсобытия,  а  также  ответить  на  вопросы  –  если  рассылка  началась,  то  какая,  и  если  не\nначалась,  то  почему.  Далее  в  подразделах  приведены  примеры  вывода  такой\nинформации.\nРассылка  в  мессенджер  (одна  или  несколько)  началась  сразу  после  возникновения\nсобытия\nСведения о начавшихся рассылках в мессенджере содержат (см. Рисунок 184):\n•\nID — идентификатор записи о генерации события в журнале аудита событий;\n•  Дата — дата генерации события;\n•  MID — идентификатор начавшейся рассылки. При нажатии на ссылку можно перейти\nна  страницу  с  информацией  о  ходе  выполнения  рассылки  для  этого  клиента.\nПодробнее это описано в разделе Просмотр хода выполнения рассылок;\n•  Рассылка — название рассылки, которая началась в результате вызова события. При\nклике по ссылке можно перейти на страницу редактирования рассылки;\n•  Launch  —  идентификатор  запуска  рассылки,  получаемый  при  генерации  события  (в\nполе launch_customer_ids ответа на запрос генерации события);\n141\n•  Запуск, Остановка — даты запуска и остановки рассылки соответственно (в текущей\nверсии Maxbot) не заполняется;\n•  Состояние — текущее состояние рассылки;\n•  CID — идентификатор клиента, для которого началась рассылка;\n•  Статус  —  состояние  запуска  рассылки  для  клиента,  см.  ранее  описание  фильтра\n«Состояние запусков рассылки для клиента»;\n•  Попыток — количество попыток начать рассылку;\n•  Последняя попытка — дата последней попытки начать рассылку для клиента.\n•  Аргументы  —  аргументы  события,  переданные  при  генерации.  Для  просмотра  и\nкопирования нужно навести мышью на «глазок».\nРисунок 184 — Пример вывода информации о рассылках в мессенджер, которые начались сразу\nпосле возникновения события\nSMS-рассылка (одна или несколько) началась сразу после возникновения события\nСведения о начавшихся SMS-рассылках практически аналогичны варианту с рассылкой\nв мессенджер. Дополнительно для SMS-рассылок отображаются следующие данные (см.\nРисунок 185):\n•  Телефон — телефон, для которого сгенерировано событие;\n•  Мессенджеры — список messenger_order, как он был указан при вызове события;\n•  Временная зона — значение поля timezone, указанное при вызове события.\n142\nРисунок 185 — Пример вывода информации о SMS-рассылке, которая началась сразу после\nвозникновения события\nЕсли  сообщения  не  приходят,  то  разобраться  в  причине  можно,  изучив  ответ  от  SMS-\nпровайдера. Для этого необходимо нажать на иконку\nв поле «Ошибка» (если ошибка\nимеет место), см. рисунок 186:\nРисунок 186 — Просмотр информации об ошибке при отправке SMS-рассылок\nВызов события отложен до подтверждения номера телефона\nСведения  о  событиях,  отложенных  до  подтверждения  номера  телефона,  практически\nаналогичны  вариантам,  описанным  ранее.  Дополнительно  отображаются  следующие\nданные (см. Рисунок 187):\n143\n•  TTL  —  таймаут  ожидания  подтверждения  номера  телефона,  заданный  при  вызове\nсобытия;\n•  Истечение — дата, когда истекло ожидание.\nРисунок 187 — Пример вывода информации о событии, отложенном до подтверждения номера\nтелефона\nВызов события отложен до подписки на бота в мессенджере\nСведения  о  событиях,  отложенных  до  подписки  на  бота  в  мессенджера,  практически\nаналогичны  вариантам,  описанным  ранее.  Дополнительно  отображаются  следующие\nданные (см. Рисунок 188):\n•  TTL  —  таймаут  ожидания  подписки  на  бота  в  мессенджере,  заданный  при  вызове\nсобытия;\n•  Истечение — дата, когда истекло ожидание подписки.\nРисунок 188 — Пример вывода информации о событии, отложенном до подписки на бота в\nмессенджере\n144",
    "tags": [
      "консоли маркетолога",
      "сценария рассылки",
      "рассылки конструкторе",
      "название рассылки",
      "запуска рассылки",
      "фиксированной аудиторией",
      "состояние рассылки",
      "помощи иконки",
      "сгенерировать событие",
      "запуске рассылки",
      "возникновения события",
      "внешней системы",
      "нового клиента",
      "текущей версии",
      "сгенерировано событие",
      "генерации события",
      "подтверждения номера",
      "номера телефона",
      "верхней части",
      "остановки рассылки",
      "начать рассылку",
      "рассылка началась",
      "началась рассылка",
      "подробнее это",
      "это описано",
      "начало рассылки",
      "идентификатор записи",
      "идентификатор клиента",
      "отправки sms",
      "телефон клиента",
      "номер телефона",
      "телефона клиент",
      "номеру телефона",
      "попыток начать",
      "запусков рассылки",
      "отправка sms",
      "отправке sms",
      "подписки клиента",
      "общая информация",
      "добавление нового",
      "подтверждение номера",
      "идентификатор события",
      "список launch_result_ids",
      "вызове события",
      "подтверждения клиентом",
      "клиентом номера",
      "клиента номер",
      "ожидание подписки",
      "идентификатору клиента",
      "отправка рассылки",
      "запрос генерации",
      "идентификаторы запусков",
      "события возвращается",
      "идентификатор бота",
      "название бота",
      "телефона клиента",
      "вызове внешней",
      "тело запроса",
      "версии maxbot",
      "количество попыток",
      "запроса вызова",
      "клиент отписался",
      "рассылок отображаются",
      "текущее состояние",
      "успела начаться",
      "имя клиента",
      "аудит вызовов",
      "вызовов событий",
      "попытках сгенерировать",
      "иконку фильтра",
      "характеристикам перечень",
      "возвращаются результаты",
      "удовлетворяющие всем",
      "описание фильтров",
      "событий фильтр",
      "название события",
      "события список",
      "указано полное",
      "выполняется поиск",
      "поиск заданной",
      "заданной подстроки",
      "результате вызова",
      "вызова события",
      "фильтр применяется",
      "удовлетворяющие хотя",
      "заданных значений",
      "которого началась",
      "результате возникновения",
      "вызова которых",
      "которых началось",
      "началось отправка",
      "фильтр описание",
      "список возможных",
      "возможных источников",
      "источников события",
      "запросов api",
      "состояние запусков",
      "запуске sms",
      "генерации диплинка",
      "всем заданным",
      "заданным условиям",
      "режима отображения",
      "отображения результатов",
      "режим карточек",
      "режим списка",
      "найденных событий",
      "иконки справа",
      "сгенерированном событии",
      "части страницы",
      "журнале аудита",
      "аудита событий",
      "генерацию события",
      "дата генерации",
      "которого сгенерировано",
      "копирования нужно",
      "нужно навести",
      "навести мышью",
      "http status",
      "status code",
      "code ответа",
      "ожидании подтверждения",
      "вывода информации",
      "началась сразу",
      "события сведения",
      "начавшихся рассылках",
      "мессенджере содержат",
      "идентификатор начавшейся",
      "начавшейся рассылки",
      "хода выполнения",
      "выполнения рассылок",
      "которая началась",
      "страницу редактирования",
      "редактирования рассылки",
      "поле launch_customer_ids",
      "launch_customer_ids ответа",
      "даты запуска",
      "рассылки соответственно",
      "последняя попытка",
      "дата последней",
      "последней попытки",
      "попытки начать",
      "которые начались",
      "начались сразу",
      "начавшихся sms",
      "рассылках практически",
      "практически аналогичны",
      "аналогичны варианту",
      "отображаются следующие",
      "следующие данные",
      "список messenger_order",
      "временная зона",
      "значение поля",
      "поля timezone",
      "ошибка имеет",
      "имеет место",
      "вызов события",
      "события отложен",
      "телефона сведения",
      "истекло ожидание",
      "мессенджере сведения",
      "мессенджере 144"
    ]
  },
  {
    "section_id": "104_рассылка_в_мессенджер_одна_или_несколько_началась_сразу_после_возникновения_события",
    "section_title": "Рассылка  в  мессенджер  (одна  или  несколько)  началась  сразу  после возникновения события",
    "level": 2,
    "page_start": 141,
    "page_end": 141,
    "text": "•  Запрос — тело запроса на генерацию события. Для просмотра и копирования нужно\nнавести мышью на «глазок»;\n•  Статус-код — HTTP status code ответа на запрос генерации события;\n•  Ответ  —  тело  ответа  на  запрос  генерации  события.  Для  просмотра  и  копирования\nнужно навести мышью на «глазок».\nРисунок 183 — Общая информация о сгенерированном событии\nВ  нижней  части  страницы  отображается  информация  о  рассылках,  начавшихся  в\nрезультате  возникновения  события,  либо  информация  о  начавшемся  ожидании\nподтверждения номера телефона или подписки клиента в мессенджере. Информация на\nстранице  с  деталями  события  позволяет  понять,  началась  ли  рассылка  при  вызове\nсобытия,  а  также  ответить  на  вопросы  –  если  рассылка  началась,  то  какая,  и  если  не\nначалась,  то  почему.  Далее  в  подразделах  приведены  примеры  вывода  такой\nинформации.\nРассылка  в  мессенджер  (одна  или  несколько)  началась  сразу  после  возникновения\nсобытия\nСведения о начавшихся рассылках в мессенджере содержат (см. Рисунок 184):\n•\nID — идентификатор записи о генерации события в журнале аудита событий;\n•  Дата — дата генерации события;\n•  MID — идентификатор начавшейся рассылки. При нажатии на ссылку можно перейти\nна  страницу  с  информацией  о  ходе  выполнения  рассылки  для  этого  клиента.\nПодробнее это описано в разделе Просмотр хода выполнения рассылок;\n•  Рассылка — название рассылки, которая началась в результате вызова события. При\nклике по ссылке можно перейти на страницу редактирования рассылки;\n•  Launch  —  идентификатор  запуска  рассылки,  получаемый  при  генерации  события  (в\nполе launch_customer_ids ответа на запрос генерации события);\n141\n•  Запуск, Остановка — даты запуска и остановки рассылки соответственно (в текущей\nверсии Maxbot) не заполняется;\n•  Состояние — текущее состояние рассылки;\n•  CID — идентификатор клиента, для которого началась рассылка;\n•  Статус  —  состояние  запуска  рассылки  для  клиента,  см.  ранее  описание  фильтра\n«Состояние запусков рассылки для клиента»;\n•  Попыток — количество попыток начать рассылку;\n•  Последняя попытка — дата последней попытки начать рассылку для клиента.\n•  Аргументы  —  аргументы  события,  переданные  при  генерации.  Для  просмотра  и\nкопирования нужно навести мышью на «глазок».\nРисунок 184 — Пример вывода информации о рассылках в мессенджер, которые начались сразу\nпосле возникновения события",
    "tags": [
      "название рассылки",
      "состояние рассылки",
      "возникновения события",
      "текущей версии",
      "генерации события",
      "подтверждения номера",
      "номера телефона",
      "остановки рассылки",
      "начать рассылку",
      "началась рассылка",
      "подробнее это",
      "это описано",
      "идентификатор записи",
      "идентификатор клиента",
      "попыток начать",
      "запусков рассылки",
      "подписки клиента",
      "общая информация",
      "вызове события",
      "запрос генерации",
      "тело запроса",
      "версии maxbot",
      "количество попыток",
      "текущее состояние",
      "результате вызова",
      "вызова события",
      "которого началась",
      "состояние запусков",
      "сгенерированном событии",
      "журнале аудита",
      "аудита событий",
      "генерацию события",
      "дата генерации",
      "копирования нужно",
      "нужно навести",
      "навести мышью",
      "http status",
      "status code",
      "code ответа",
      "ожидании подтверждения",
      "вывода информации",
      "события сведения",
      "начавшихся рассылках",
      "мессенджере содержат",
      "идентификатор начавшейся",
      "начавшейся рассылки",
      "хода выполнения",
      "выполнения рассылок",
      "которая началась",
      "страницу редактирования",
      "редактирования рассылки",
      "поле launch_customer_ids",
      "launch_customer_ids ответа",
      "даты запуска",
      "рассылки соответственно",
      "последняя попытка",
      "дата последней",
      "последней попытки",
      "попытки начать",
      "которые начались",
      "начались сразу"
    ]
  },
  {
    "section_id": "105_sms_рассылка_одна_или_несколько_началась_сразу_после_возникновения_события",
    "section_title": "SMS-рассылка (одна или несколько) началась сразу после возникновения события",
    "level": 2,
    "page_start": 142,
    "page_end": 142,
    "text": "SMS-рассылка (одна или несколько) началась сразу после возникновения события\nСведения о начавшихся SMS-рассылках практически аналогичны варианту с рассылкой\nв мессенджер. Дополнительно для SMS-рассылок отображаются следующие данные (см.\nРисунок 185):\n•  Телефон — телефон, для которого сгенерировано событие;\n•  Мессенджеры — список messenger_order, как он был указан при вызове события;\n•  Временная зона — значение поля timezone, указанное при вызове события.\n142\nРисунок 185 — Пример вывода информации о SMS-рассылке, которая началась сразу после\nвозникновения события\nЕсли  сообщения  не  приходят,  то  разобраться  в  причине  можно,  изучив  ответ  от  SMS-\nпровайдера. Для этого необходимо нажать на иконку\nв поле «Ошибка» (если ошибка\nимеет место), см. рисунок 186:\nРисунок 186 — Просмотр информации об ошибке при отправке SMS-рассылок",
    "tags": [
      "возникновения события",
      "сгенерировано событие",
      "отправке sms",
      "вызове события",
      "рассылок отображаются",
      "которого сгенерировано",
      "вывода информации",
      "началась сразу",
      "события сведения",
      "которая началась",
      "начавшихся sms",
      "рассылках практически",
      "практически аналогичны",
      "аналогичны варианту",
      "отображаются следующие",
      "следующие данные",
      "список messenger_order",
      "временная зона",
      "значение поля",
      "поля timezone",
      "ошибка имеет",
      "имеет место"
    ]
  },
  {
    "section_id": "106_вызов_события_отложен_до_подтверждения_номера_телефона",
    "section_title": "Вызов события отложен до подтверждения номера телефона",
    "level": 2,
    "page_start": 143,
    "page_end": 143,
    "text": "Вызов события отложен до подтверждения номера телефона\nСведения  о  событиях,  отложенных  до  подтверждения  номера  телефона,  практически\nаналогичны  вариантам,  описанным  ранее.  Дополнительно  отображаются  следующие\nданные (см. Рисунок 187):\n143\n•  TTL  —  таймаут  ожидания  подтверждения  номера  телефона,  заданный  при  вызове\nсобытия;\n•  Истечение — дата, когда истекло ожидание.\nРисунок 187 — Пример вывода информации о событии, отложенном до подтверждения номера\nтелефона",
    "tags": [
      "подтверждения номера",
      "номера телефона",
      "вызове события",
      "вывода информации",
      "практически аналогичны",
      "следующие данные",
      "вызов события",
      "события отложен",
      "телефона сведения",
      "истекло ожидание"
    ]
  },
  {
    "section_id": "107_вызов_события_отложен_до_подписки_на_бота_в_мессенджере",
    "section_title": "Вызов события отложен до подписки на бота в мессенджере",
    "level": 2,
    "page_start": 144,
    "page_end": 144,
    "text": "Вызов события отложен до подписки на бота в мессенджере\nСведения  о  событиях,  отложенных  до  подписки  на  бота  в  мессенджера,  практически\nаналогичны  вариантам,  описанным  ранее.  Дополнительно  отображаются  следующие\nданные (см. Рисунок 188):\n•  TTL  —  таймаут  ожидания  подписки  на  бота  в  мессенджере,  заданный  при  вызове\nсобытия;\n•  Истечение — дата, когда истекло ожидание подписки.\nРисунок 188 — Пример вывода информации о событии, отложенном до подписки на бота в\nмессенджере\n144",
    "tags": [
      "вызове события",
      "ожидание подписки",
      "вывода информации",
      "практически аналогичны",
      "следующие данные",
      "вызов события",
      "события отложен",
      "истекло ожидание",
      "мессенджере сведения",
      "мессенджере 144"
    ]
  },
  {
    "section_id": "108_аудит_запусков_рассылок",
    "section_title": "Аудит запусков рассылок",
    "level": 1,
    "page_start": 145,
    "page_end": 145,
    "text": "Аудит запусков рассылок\nВ  некоторых  случаях  исследование  проблем  удобнее  проводить  от  рассылки,  а  не  от\nсобытия.  Кроме  того,  не  все  рассылки  начинаются  по  событию,  некоторые  начинаются\nпри выставлении тега или в заданное время. В этом случае удобно использовать вкладку\n«Рассылки».  На  данной  вкладке  можно  выполнить  поиск  информации  о  запусках\nрассылок  по  дате,  а  также  по  их  характеристикам  (для  этого  нужно  нажать  на  иконку\nфильтра, см. Рисунок 189).\nРисунок 189 — Поиск рассылок по их характеристикам\nПеречень  доступных  фильтров  и  их  описание  приведены  в  таблице  11.  Для  поиска\nнеобходимо  задать  хотя  бы  один  из  обязательных  фильтров  –  «Идентификатор»,\n«Название рассылки» или «Дата начала рассылки для клиента».\nТаблица 11 — Описание фильтров для поиска рассылок\nФильтр\nОписание\nИдентификатор\nИдентификатор рассылки.\nСостояние рассылки\nТекущее состояние рассылки.\nИмя клиента\nЧасть или полное имя клиента, для которого началась\nрассылка.\nМессенджер\nМессенджер, через который началась рассылка.\nНомер телефона\nНомер телефона клиента, для которого началась рассылка.\nСостояние запусков\nрассылки для клиента\nСм. аналогичное поле ранее в таблице 10.\n145\nВ  результате  применения  фильтров  отображаются  записи  о  запусках  рассылок,\nудовлетворяющие всем заданным условиям. Есть два режима отображения результатов:\n•  режим карточек (см. Рисунок 190);\n•  режим списка (см. Рисунок 191).\nРежимы  отличаются  только  визуально,  переключение  между  ними  выполняется  при\nпомощи иконки справа от фильтра.\nРисунок 190 — Вывод информации о найденных рассылках (режим карточек)\nРисунок 191 — Вывод информации о найденных рассылках (режим списка)\nИнформационные  поля  аналогичны  тем,  что  описаны  в  подразделе  Аудит  вызовов\nсобытий.\nПри нажатии на ссылку в поле «MID» выполняется переход на страницу с информацией о\nходе выполнения рассылки для клиента.\nПри  нажатии  на  ссылку  в  поле  «Состояние»  выполняется  переход  на  страницу  со\nстатистикой по рассылке (см. подробнее в подразделе Работа со статистикой).",
    "tags": [
      "начала рассылки",
      "выполнения рассылки",
      "название рассылки",
      "состояние рассылки",
      "помощи иконки",
      "заданное время",
      "удобно использовать",
      "началась рассылка",
      "ходе выполнения",
      "выставлении тега",
      "номер телефона",
      "телефона клиент",
      "запусков рассылки",
      "запусков рассылок",
      "телефона клиента",
      "текущее состояние",
      "имя клиента",
      "идентификатор рассылки",
      "вызовов событий",
      "иконку фильтра",
      "характеристикам перечень",
      "удовлетворяющие всем",
      "описание фильтров",
      "которого началась",
      "клиента часть",
      "фильтр описание",
      "состояние запусков",
      "всем заданным",
      "заданным условиям",
      "режима отображения",
      "отображения результатов",
      "режим карточек",
      "режим списка",
      "иконки справа",
      "мессенджер мессенджер",
      "запусках рассылок",
      "описание идентификатор",
      "вывод информации",
      "найденных рассылках",
      "выполняется переход"
    ]
  },
  {
    "section_id": "109_просмотр_хода_выполнения_рассылок",
    "section_title": "Просмотр хода выполнения рассылок",
    "level": 1,
    "page_start": 146,
    "page_end": 148,
    "text": "Просмотр хода выполнения рассылок\nВ  некоторых  случаях  нужно  знать  не  только  когда  рассылка  началась  и  для  каких\nклиентов,  но  и  знать,  как  она  выполнялась  для  конкретного  пользователя  —  что  делал\nклиент (какие нажимал кнопки, что писал) и что ему отвечал бот в рамках рассылок.\n146\nДля этого предназначена специальная страница — «Ход исполнения рассылок». Попасть\nна  нее можно  из  раздела  «Отладка»  по ссылкам  из  полей  «MID»  в результатах  поиска.\nИнформация  на  данной  странице  делится  на  два  блока.  Верхний  блок  —  общая\nинформация  о  рассылке,  клиенте  и  запусках  этой  рассылки  для  этого  клиента  (см.\nРисунок 192).\nПомимо сведений о рассылке и о клиенте здесь отображаются два признака:\n•  «Разрешена отправка сообщений» — признак свидетельствует о текущем состоянии\nподписки  клиента  на  бота  в  мессенджере.  Если  флажок  установлен,  то  клиент\nподписан,  если  снята  —  отписан.  Не  следует  путать  это  с  подпиской/отпиской  на\nрассылки.\n•  «Пользователь  добавлен  в  таблицу  ″Оплаченных  пользователей″»  -  признак\nсвидетельствует  о  том,  оплачено  ли  обслуживание  этого  клиента  или  нет  в\nсоответствии с текущим тарифом.\nРисунок 192 — Общая информация о рассылке\nЕсли SMS не приходят, то разобраться можно, изучив ответ от SMS-провайдера. Для этого\nв  поле  «Ошибка»  (если  ошибка  имеет  место),  см.\nнеобходимо  нажать  на  иконку\nрисунок 193:\n147\nРисунок 193 — Информация об ошибке при запуске SMS-рассылки\nНижний  блок  содержит  описание  хода  выполнения  всех  запусков  рассылки  для  этого\nклиента (см. Рисунок 194).\nСлева выводятся возникающие события — начало рассылки, реакция клиента (например,\nнажатие  на  кнопку),  события  от  планировщика  для  отправки  сообщений  с  заданным\nтаймаутом и т. д.\nСправа  выводится  действия  бота  —  реакция  на  возникающие  события.  Здесь  же\nвыводятся некоторые пояснения по ходу выполнения рассылки. Например, «От события\n\"старт\"  ждем  120  секунд  и  закрытия  треда,  а  затем  переходим  в  блок  \"Блок\"»  или\n«Обработка нажатий на кнопки выключена». Нажатие на ссылки «response» или «event»\nпозволяет раскрыть детали события или действия.\nРисунок 194 — Ход выполнения рассылки для клиента\nИнформация  в  этом  блоке  позволяет  восстановить  ход  выполнения  рассылки  для\nконкретного клиента и понять причины той или иной реакции бота.\nВ  случае  SMS-рассылок  страница  выглядит  несколько  иначе  (см.  Рисунок  195).  На  ней\nотображается  только  общая  информация  о  рассылке, клиенте  и  ее  запусках  для  этого\n148\nклиента.  Нижней  части  с  информацией  о  ходе  выполнения  рассылки  нет,  т. к.  SMS-\nрассылки не подразумевают реакцию клиента.\nРисунок 195 — Ход выполнения SMS-рассылки",
    "tags": [
      "отправка сообщений",
      "подразумевают реакцию",
      "реакцию клиента",
      "выполнения рассылки",
      "начало рассылки",
      "общая информация",
      "запуске sms",
      "хода выполнения",
      "выполнения рассылок",
      "изучив ответ",
      "ход выполнения"
    ]
  },
  {
    "section_id": "110_работа_со_статистикой",
    "section_title": "Работа со статистикой",
    "level": 0,
    "page_start": 149,
    "page_end": 158,
    "text": "Работа со статистикой\nСтатистика делится на три раздела:\n•  Статистика по всем рассылкам за заданный период;\n•  Статистика по всем рассылкам за сутки;\n•  Статистика по определенной рассылке за заданный период.\nНиже каждый из них описан подробно. Почти все графики позволяют получить детальную\nинформацию путем нажатия на выбранный счетчик.\nСтатистика по всем рассылкам за заданный период\nПерейти в раздел можно из основного меню Marketer (см. Рисунок 196).\nВ  этом  разделе  доступно  два  фильтра  –  по  датам  и  количество  наиболее  популярных\nрезультатов, которое будет выводиться на графиках с префиксом «TOP» (описаны ниже).\nВторой  фильтр  позволяет  задать,  сколько  наиболее  популярных  результатов  будет\nвыводиться на TOP-графиках.\n149\nРисунок 196 — Переход в раздел «Статистика»\nНапример,  если  на  графике  выводится  количество  отправленных  сообщений  с\nразбиением по рассылкам и в фильтре выбрано «3», то на графике за каждый день будет\nвыводиться  не  больше  трех13  рассылок,  которые  отправили  наибольшее  количество\nсообщений.\nТакже  при  наведении  на  любой  график  отображается  иконка\n,  при  нажатии  на\nкоторую  можно  скачать  соответствующие  результаты  в  текстовом  формате  (CSV,  XLSX\nили JSON, см. Рисунок 197).\nРисунок 197 — Переход к скачиванию результатов для выбранного графика\nНиже приведено описание каждого из графиков.\nMessages sent for the period. Grouped by mailing type  –  быстрая  оценка  динамики\nотправляемых  в  мессенджеры  сообщений  раздельно  для  информационной  и  целевых\nрассылок.  Данные  суммируются  для  возможности  оценить  общее  количество\nотправленных сообщений по дням.\nTOP: Messages sent for the period. Grouped by mailing name  –  оценка  наиболее\nпопулярных (TOP'а) рассылок, отправляющих максимальное число сообщений за сутки.\nПозволяет оценить динамику за выбранный период.\n13 Результатов может быть больше, чем задано в фильтре. Например, если в фильтре задано «3» и одна\nрассылка  отправила  100  сообщений,  вторая  80,  а  третья  и  четвертая  по  50,  то  будут  выведены  все  4\nрассылки, т.к. у двух из них одинаковое количество отправленных сообщений, и выбрать между ними одну\nнельзя.\n150\nРисунок 198 — Просмотр графиков\nMessages sent for the period. Grouped by messenger type  –  отражает  количество\nсообщений,  отправленный  в  каждый  из  мессенджеров.  Дает  возможность  сравнить\nдинамику по дням. Название мессенджера выводится при наведении указателя мыши на\nграфик.\nAudience growth. Grouped by messenger type – оценка прироста аудитории за выбранный\nпериод. Дает возможность понять, какой мессенджер растет быстрее. Перехода к другим\nграфикам и детализации информации нет.\nAudience. Grouped by messenger type  –  динамика  изменения  аудитории  показывает\nобщее  количество  клиентов  каждого  из  мессенджеров.  Позволяет  оценить  динамику\nизменения  за  выбранный  период.  Группировка  по  мессенджерам.  Перехода  к  другим\nграфикам и детализации информации нет.\nРисунок 199 — Просмотр графиков\nSMS sent for the period. Grouped by send_status – график отражает динамику отправки\nSMS за период с учетом статуса (успеха) отправки.\nTOP: SMS sent for the period. Grouped by mailing name  –  график  показывает  рассылки,\nотправляющие  наибольшее  количество  SMS  за  сутки.  Дает  возможность  сравнить  эту\nдинамику за период.\n151\nРисунок 200 — Просмотр графиков\nEvents generated for the period. Grouped by status_code – график показывает количество\nгенерируемых событий за период. Группировка по статус-коду (200, 409, 404 и т.д.).\nTOP: Events generated for the period. Grouped by event name  –  график  показывает\nсобытия,  сгенерированные  наибольшее число  раз  за  сутки.  Есть  возможность сравнить\nэту динамику за период.\nРисунок 201 — Просмотр графиков\nEvents for the period have timed out. Grouped for a reason  –  показывает  количество\nотложенных событий, у которых истекло TTL (время ожидания) за период.\nTOP: Events for the period have timed out. Grouped for event name  –  показывает  TOP\nсобытий, истекших наибольшее количество раз за каждые сутки. Данные сгруппированы\nпо имени события.\n152\nРисунок 202 — Просмотр графиков\nSuccessful mailing launches. Grouped by mailing type  –  график  показывает  количество\nуспешных стартов (начальный событий) рассылок. Сгруппированы по типу рассылки.\nTOP: Delayed events. Grouped for a reason  –  график  показывает  TOP  отложенных  и\nактуальных (не просроченных) на текущий момент событий.  События сгруппированы по\n(«ожидает  подтверждение  номера  телефона»  или  «ожидает\nкритерию  ожидания\nподписки на бота в мессенджере»).\nРисунок 203 — Просмотр графиков\nTOP: Successful info mailing launches. Grouped by mailing name – график показывает TOP\nсобытий,  стартующих  информационные  рассылки.  События  сгруппированы  по  имени\nрассылки.\nTOP: Successful target mailing launches. Grouped by mailing name – график показывает TOP\nсобытий, стартующих целевые рассылки. События сгруппированы по имени рассылки.\n153\nРисунок 204 — Просмотр графиков\nSuccessful change of state in target mailings – график показывает количество успешных\nпереходов между блоками в целевых рассылках.\nTOP: Successful change of state in target mailings. Grouped by mailing name  –  график\nпоказывает рассылки с наибольшим количеством переходов между блоков. Группировка\nпо имени рассылки.\nРисунок 205 — Просмотр графиков\nСтатистика за сутки\nПерейти в этот раздел можно по нажатию на некоторые графики статистики за заданный\nпериод,  например,  «Messages  sent  for  the  period.  Grouped  by  mailing  type».  Ниже\nприведено описание каждого из графиков данной группы.\n154\nРисунок 206 — Просмотр графиков\nSMS sent per day - количество успешно отправленных SMS с разбивкой по рассылкам.\nMessages sent by info mailings per day. Grouped by name  -  количество  успешно\nотправленных сообщений информационными рассылками с разбивкой по рассылкам.\nMessages sent by targeted mailings per day. Grouped by name  -  количество  успешно\nотправленных сообщений целевыми рассылками с разбивкой по рассылкам.\nРисунок 207 — Просмотр графиков\n*\nMessages sent by per day. Grouped by messenger  -  количество  успешно  отправленных\nрассылками сообщений по мессенджерам и по типу рассылки.\nSMS excluded per day. Grouped by name – количество неуспешно отправленных SMS из-\nза ошибки при валидации макросов с разбивкой по рассылкам.\n155\nРисунок 208 — Просмотр графиков\nSMS send_failed per day. Grouped by name  - количество  неуспешно  отправленных SMS\nиз-за ошибки от SMS-провайдера с разбивкой по рассылкам.\nSMS rest_failed per day. Grouped by name - количество неуспешно отправленных SMS из-\nза ошибки при вызове внешней системы в SMS-блоке с разбивкой по рассылкам.\nСтатистика  по  определенной  рассылке  за  заданный\nпериод\nДоступ  к  статистике  определенной  рассылки  можно  получить  из  журнала  рассылок\n(раздел «Журнал») – справа от названия рассылки необходимо нажать на иконку\nРисунок 209).\n(см.\nРисунок 209 — Переход к статистике по рассылке при помощи журнала\nТакже перейти в этот раздел можно по нажатию на некоторые графики, например, «TOP:\nMessages sent for the period. Grouped by mailing name» в статистике за заданный период.\nАналогично  статистику  по  рассылке  можно  посмотреть  из  списка  рассылок,  нажав  на\nиконку\nи выбрав пункт «Посмотреть статистику» см. Рисунок 210.\n156\nРисунок 210 — Просмотр статистики из списка рассылок\nТакже  статистику  по  рассылке  можно  посмотреть  из  редактора  рассылок,  нажав  на\nиконку\n. После нажатия статистика открывается в новом окне (см. Рисунок 211).\nРисунок 211 — Кнопка для перехода на статистику по рассылке\nВ этом разделе помимо фильтра по дате добавлена возможность отбросить из некоторых\nграфиков  наиболее  популярные,  превалирующие  результаты,  чтобы  масштаб  графика\nпозволил  изучить  менее  популярные  результаты.  Для  этого  нужно  выбрать  какое\nколичество  наиболее  популярных  результатов  будет  исключено.  По  умолчанию  0\n(прочерк в фильтре), т.е. никакие результаты не исключаются.\nНиже приведено описание каждого из графиков данной группы.\nРисунок 212 — Просмотр графиков\n157\nРисунок 213 — Просмотр графиков\nMessages sent by mailing for the period  –  показывает  динамику  отправки  сообщений  в\nразные мессенджеры за период.\nРисунок 214 — Просмотр графиков\nLaunches by mailing for the period – показывает динамику стартов рассылки для клиентов.\nИными словами, показывает сколько новых запусков рассылки началось в каждый день\nвыбранного интервала.\n158\nРисунок 215 — Просмотр графиков\nSuccessful change of state in mailing for the period  –  показывает  динамику  переходов\nклиентов между блоками рассылок.",
    "tags": [
      "целевые рассылки",
      "списка рассылок",
      "рассылок также",
      "типу рассылки",
      "внешней системы",
      "рассылки необходимо",
      "максимальное число",
      "ссылки необходимо",
      "время ожидания",
      "отправленных сообщений",
      "одна рассылка",
      "иными словами",
      "заданный период",
      "отправки sms",
      "новых запусков",
      "запусков рассылки",
      "ожидания подписки",
      "отложенных событий",
      "вызове внешней",
      "ниже приведено",
      "приведено описание",
      "целевых рассылок",
      "всем рассылкам",
      "определенной рассылке",
      "ниже каждый",
      "описан подробно",
      "наиболее популярных",
      "популярных результатов",
      "количество отправленных",
      "каждый день",
      "наибольшее количество",
      "количество сообщений",
      "описание каждого",
      "графиков messages",
      "messages sent",
      "sent for",
      "for the",
      "the period",
      "mailing type",
      "mailing name",
      "позволяет оценить",
      "оценить динамику",
      "выбранный период",
      "messenger type",
      "дает возможность",
      "возможность сравнить",
      "сравнить динамику",
      "другим графикам",
      "детализации информации",
      "графиков sms",
      "sms sent",
      "динамику отправки",
      "график показывает",
      "показывает рассылки",
      "графиков events",
      "events generated",
      "generated for",
      "показывает количество",
      "event name",
      "events for",
      "period have",
      "have timed",
      "timed out",
      "grouped for",
      "показывает top",
      "top событий",
      "графиков successful",
      "mailing launches",
      "количество успешных",
      "события сгруппированы",
      "имени рассылки",
      "successful change",
      "target mailings",
      "некоторые графики",
      "графиков данной",
      "данной группы",
      "sent per",
      "per day",
      "количество успешно",
      "успешно отправленных",
      "отправленных sms",
      "mailings per",
      "количество неуспешно",
      "неуспешно отправленных",
      "sms send_failed",
      "send_failed per",
      "sms rest_failed",
      "rest_failed per",
      "период доступ",
      "названия рассылки",
      "помощи журнала",
      "журнала также",
      "также перейти",
      "выбрав пункт",
      "mailing for",
      "показывает динамику"
    ]
  },
  {
    "section_id": "111_статистика_по_всем_рассылкам_за_заданный_период",
    "section_title": "Статистика по всем рассылкам за заданный период",
    "level": 1,
    "page_start": 149,
    "page_end": 153,
    "text": "Статистика по всем рассылкам за заданный период;\n•  Статистика по всем рассылкам за сутки;\n•  Статистика по определенной рассылке за заданный период.\nНиже каждый из них описан подробно. Почти все графики позволяют получить детальную\nинформацию путем нажатия на выбранный счетчик.\nСтатистика по всем рассылкам за заданный период\nПерейти в раздел можно из основного меню Marketer (см. Рисунок 196).\nВ  этом  разделе  доступно  два  фильтра  –  по  датам  и  количество  наиболее  популярных\nрезультатов, которое будет выводиться на графиках с префиксом «TOP» (описаны ниже).\nВторой  фильтр  позволяет  задать,  сколько  наиболее  популярных  результатов  будет\nвыводиться на TOP-графиках.\n149\nРисунок 196 — Переход в раздел «Статистика»\nНапример,  если  на  графике  выводится  количество  отправленных  сообщений  с\nразбиением по рассылкам и в фильтре выбрано «3», то на графике за каждый день будет\nвыводиться  не  больше  трех13  рассылок,  которые  отправили  наибольшее  количество\nсообщений.\nТакже  при  наведении  на  любой  график  отображается  иконка\n,  при  нажатии  на\nкоторую  можно  скачать  соответствующие  результаты  в  текстовом  формате  (CSV,  XLSX\nили JSON, см. Рисунок 197).\nРисунок 197 — Переход к скачиванию результатов для выбранного графика\nНиже приведено описание каждого из графиков.\nMessages sent for the period. Grouped by mailing type  –  быстрая  оценка  динамики\nотправляемых  в  мессенджеры  сообщений  раздельно  для  информационной  и  целевых\nрассылок.  Данные  суммируются  для  возможности  оценить  общее  количество\nотправленных сообщений по дням.\nTOP: Messages sent for the period. Grouped by mailing name  –  оценка  наиболее\nпопулярных (TOP'а) рассылок, отправляющих максимальное число сообщений за сутки.\nПозволяет оценить динамику за выбранный период.\n13 Результатов может быть больше, чем задано в фильтре. Например, если в фильтре задано «3» и одна\nрассылка  отправила  100  сообщений,  вторая  80,  а  третья  и  четвертая  по  50,  то  будут  выведены  все  4\nрассылки, т.к. у двух из них одинаковое количество отправленных сообщений, и выбрать между ними одну\nнельзя.\n150\nРисунок 198 — Просмотр графиков\nMessages sent for the period. Grouped by messenger type  –  отражает  количество\nсообщений,  отправленный  в  каждый  из  мессенджеров.  Дает  возможность  сравнить\nдинамику по дням. Название мессенджера выводится при наведении указателя мыши на\nграфик.\nAudience growth. Grouped by messenger type – оценка прироста аудитории за выбранный\nпериод. Дает возможность понять, какой мессенджер растет быстрее. Перехода к другим\nграфикам и детализации информации нет.\nAudience. Grouped by messenger type  –  динамика  изменения  аудитории  показывает\nобщее  количество  клиентов  каждого  из  мессенджеров.  Позволяет  оценить  динамику\nизменения  за  выбранный  период.  Группировка  по  мессенджерам.  Перехода  к  другим\nграфикам и детализации информации нет.\nРисунок 199 — Просмотр графиков\nSMS sent for the period. Grouped by send_status – график отражает динамику отправки\nSMS за период с учетом статуса (успеха) отправки.\nTOP: SMS sent for the period. Grouped by mailing name  –  график  показывает  рассылки,\nотправляющие  наибольшее  количество  SMS  за  сутки.  Дает  возможность  сравнить  эту\nдинамику за период.\n151\nРисунок 200 — Просмотр графиков\nEvents generated for the period. Grouped by status_code – график показывает количество\nгенерируемых событий за период. Группировка по статус-коду (200, 409, 404 и т.д.).\nTOP: Events generated for the period. Grouped by event name  –  график  показывает\nсобытия,  сгенерированные  наибольшее число  раз  за  сутки.  Есть  возможность сравнить\nэту динамику за период.\nРисунок 201 — Просмотр графиков\nEvents for the period have timed out. Grouped for a reason  –  показывает  количество\nотложенных событий, у которых истекло TTL (время ожидания) за период.\nTOP: Events for the period have timed out. Grouped for event name  –  показывает  TOP\nсобытий, истекших наибольшее количество раз за каждые сутки. Данные сгруппированы\nпо имени события.\n152\nРисунок 202 — Просмотр графиков\nSuccessful mailing launches. Grouped by mailing type  –  график  показывает  количество\nуспешных стартов (начальный событий) рассылок. Сгруппированы по типу рассылки.\nTOP: Delayed events. Grouped for a reason  –  график  показывает  TOP  отложенных  и\nактуальных (не просроченных) на текущий момент событий.  События сгруппированы по\n(«ожидает  подтверждение  номера  телефона»  или  «ожидает\nкритерию  ожидания\nподписки на бота в мессенджере»).\nРисунок 203 — Просмотр графиков\nTOP: Successful info mailing launches. Grouped by mailing name – график показывает TOP\nсобытий,  стартующих  информационные  рассылки.  События  сгруппированы  по  имени\nрассылки.\nTOP: Successful target mailing launches. Grouped by mailing name – график показывает TOP\nсобытий, стартующих целевые рассылки. События сгруппированы по имени рассылки.\n153\nРисунок 204 — Просмотр графиков\nSuccessful change of state in target mailings – график показывает количество успешных\nпереходов между блоками в целевых рассылках.\nTOP: Successful change of state in target mailings. Grouped by mailing name  –  график\nпоказывает рассылки с наибольшим количеством переходов между блоков. Группировка\nпо имени рассылки.\nРисунок 205 — Просмотр графиков",
    "tags": [
      "целевые рассылки",
      "типу рассылки",
      "максимальное число",
      "время ожидания",
      "отправленных сообщений",
      "одна рассылка",
      "заданный период",
      "отправки sms",
      "ожидания подписки",
      "отложенных событий",
      "ниже приведено",
      "приведено описание",
      "целевых рассылок",
      "всем рассылкам",
      "определенной рассылке",
      "ниже каждый",
      "описан подробно",
      "наиболее популярных",
      "популярных результатов",
      "количество отправленных",
      "каждый день",
      "наибольшее количество",
      "количество сообщений",
      "описание каждого",
      "графиков messages",
      "messages sent",
      "sent for",
      "for the",
      "the period",
      "mailing type",
      "mailing name",
      "позволяет оценить",
      "оценить динамику",
      "выбранный период",
      "messenger type",
      "дает возможность",
      "возможность сравнить",
      "сравнить динамику",
      "другим графикам",
      "детализации информации",
      "графиков sms",
      "sms sent",
      "динамику отправки",
      "график показывает",
      "показывает рассылки",
      "графиков events",
      "events generated",
      "generated for",
      "показывает количество",
      "event name",
      "events for",
      "period have",
      "have timed",
      "timed out",
      "grouped for",
      "показывает top",
      "top событий",
      "графиков successful",
      "mailing launches",
      "количество успешных",
      "события сгруппированы",
      "имени рассылки",
      "successful change",
      "target mailings"
    ]
  },
  {
    "section_id": "112_статистика_за_сутки",
    "section_title": "Статистика за сутки",
    "level": 1,
    "page_start": 154,
    "page_end": 156,
    "text": "Статистика за сутки\nПерейти в этот раздел можно по нажатию на некоторые графики статистики за заданный\nпериод,  например,  «Messages  sent  for  the  period.  Grouped  by  mailing  type».  Ниже\nприведено описание каждого из графиков данной группы.\n154\nРисунок 206 — Просмотр графиков\nSMS sent per day - количество успешно отправленных SMS с разбивкой по рассылкам.\nMessages sent by info mailings per day. Grouped by name  -  количество  успешно\nотправленных сообщений информационными рассылками с разбивкой по рассылкам.\nMessages sent by targeted mailings per day. Grouped by name  -  количество  успешно\nотправленных сообщений целевыми рассылками с разбивкой по рассылкам.\nРисунок 207 — Просмотр графиков\n*\nMessages sent by per day. Grouped by messenger  -  количество  успешно  отправленных\nрассылками сообщений по мессенджерам и по типу рассылки.\nSMS excluded per day. Grouped by name – количество неуспешно отправленных SMS из-\nза ошибки при валидации макросов с разбивкой по рассылкам.\n155\nРисунок 208 — Просмотр графиков\nSMS send_failed per day. Grouped by name  - количество  неуспешно  отправленных SMS\nиз-за ошибки от SMS-провайдера с разбивкой по рассылкам.\nSMS rest_failed per day. Grouped by name - количество неуспешно отправленных SMS из-\nза ошибки при вызове внешней системы в SMS-блоке с разбивкой по рассылкам.\nСтатистика  по  определенной  рассылке  за  заданный\nпериод\nДоступ  к  статистике  определенной  рассылки  можно  получить  из  журнала  рассылок\n(раздел «Журнал») – справа от названия рассылки необходимо нажать на иконку\nРисунок 209).\n(см.\nРисунок 209 — Переход к статистике по рассылке при помощи журнала\nТакже перейти в этот раздел можно по нажатию на некоторые графики, например, «TOP:\nMessages sent for the period. Grouped by mailing name» в статистике за заданный период.\nАналогично  статистику  по  рассылке  можно  посмотреть  из  списка  рассылок,  нажав  на\nиконку\nи выбрав пункт «Посмотреть статистику» см. Рисунок 210.\n156",
    "tags": [
      "типу рассылки",
      "внешней системы",
      "рассылки необходимо",
      "ссылки необходимо",
      "отправленных сообщений",
      "заданный период",
      "вызове внешней",
      "ниже приведено",
      "приведено описание",
      "описание каждого",
      "messages sent",
      "sent for",
      "for the",
      "the period",
      "mailing name",
      "графиков sms",
      "sms sent",
      "некоторые графики",
      "графиков данной",
      "данной группы",
      "sent per",
      "per day",
      "количество успешно",
      "успешно отправленных",
      "отправленных sms",
      "mailings per",
      "количество неуспешно",
      "неуспешно отправленных",
      "sms send_failed",
      "send_failed per",
      "sms rest_failed",
      "rest_failed per",
      "период доступ",
      "названия рассылки",
      "помощи журнала",
      "журнала также",
      "также перейти",
      "выбрав пункт"
    ]
  },
  {
    "section_id": "113_статистика_по_определенной_рассылке_за_заданный_период",
    "section_title": "Статистика по определенной рассылке за заданный период",
    "level": 1,
    "page_start": 156,
    "page_end": 158,
    "text": "Рисунок 208 — Просмотр графиков\nSMS send_failed per day. Grouped by name  - количество  неуспешно  отправленных SMS\nиз-за ошибки от SMS-провайдера с разбивкой по рассылкам.\nSMS rest_failed per day. Grouped by name - количество неуспешно отправленных SMS из-\nза ошибки при вызове внешней системы в SMS-блоке с разбивкой по рассылкам.\nСтатистика  по  определенной  рассылке  за  заданный\nпериод\nДоступ  к  статистике  определенной  рассылки  можно  получить  из  журнала  рассылок\n(раздел «Журнал») – справа от названия рассылки необходимо нажать на иконку\nРисунок 209).\n(см.\nРисунок 209 — Переход к статистике по рассылке при помощи журнала\nТакже перейти в этот раздел можно по нажатию на некоторые графики, например, «TOP:\nMessages sent for the period. Grouped by mailing name» в статистике за заданный период.\nАналогично  статистику  по  рассылке  можно  посмотреть  из  списка  рассылок,  нажав  на\nиконку\nи выбрав пункт «Посмотреть статистику» см. Рисунок 210.\n156\nРисунок 210 — Просмотр статистики из списка рассылок\nТакже  статистику  по  рассылке  можно  посмотреть  из  редактора  рассылок,  нажав  на\nиконку\n. После нажатия статистика открывается в новом окне (см. Рисунок 211).\nРисунок 211 — Кнопка для перехода на статистику по рассылке\nВ этом разделе помимо фильтра по дате добавлена возможность отбросить из некоторых\nграфиков  наиболее  популярные,  превалирующие  результаты,  чтобы  масштаб  графика\nпозволил  изучить  менее  популярные  результаты.  Для  этого  нужно  выбрать  какое\nколичество  наиболее  популярных  результатов  будет  исключено.  По  умолчанию  0\n(прочерк в фильтре), т.е. никакие результаты не исключаются.\nНиже приведено описание каждого из графиков данной группы.\nРисунок 212 — Просмотр графиков\n157\nРисунок 213 — Просмотр графиков\nMessages sent by mailing for the period  –  показывает  динамику  отправки  сообщений  в\nразные мессенджеры за период.\nРисунок 214 — Просмотр графиков\nLaunches by mailing for the period – показывает динамику стартов рассылки для клиентов.\nИными словами, показывает сколько новых запусков рассылки началось в каждый день\nвыбранного интервала.\n158\nРисунок 215 — Просмотр графиков\nSuccessful change of state in mailing for the period  –  показывает  динамику  переходов\nклиентов между блоками рассылок.",
    "tags": [
      "списка рассылок",
      "рассылок также",
      "внешней системы",
      "рассылки необходимо",
      "ссылки необходимо",
      "иными словами",
      "заданный период",
      "новых запусков",
      "запусков рассылки",
      "вызове внешней",
      "ниже приведено",
      "приведено описание",
      "каждый день",
      "описание каждого",
      "графиков messages",
      "messages sent",
      "sent for",
      "for the",
      "the period",
      "mailing name",
      "графиков sms",
      "графиков successful",
      "successful change",
      "некоторые графики",
      "графиков данной",
      "данной группы",
      "per day",
      "успешно отправленных",
      "отправленных sms",
      "количество неуспешно",
      "неуспешно отправленных",
      "sms send_failed",
      "send_failed per",
      "sms rest_failed",
      "rest_failed per",
      "период доступ",
      "названия рассылки",
      "помощи журнала",
      "журнала также",
      "также перейти",
      "выбрав пункт",
      "mailing for",
      "показывает динамику"
    ]
  },
  {
    "section_id": "114_api_консоли_маркетолога",
    "section_title": "API консоли маркетолога",
    "level": 0,
    "page_start": 159,
    "page_end": 166,
    "text": "API консоли маркетолога\nПорядок  выполнения  запросов  к  API  консоли  маркетолога,  а  также  особенности\nобработки возможных ошибок описаны здесь. Перечень возможных запросов к API и их\nназначение  перечислены  в  таблице  12.  По  ссылкам  в  столбце  «Назначение»  можно\nпосмотреть примеры API-запросов и соответствующие им ответы.\nДополнительные  примеры  использования  API  консоли  маркетолога  можно  посмотреть\nздесь.\nТаблица 12 — Запросы к API консоли маркетолога\n№  Запрос\nГенерация событий\n1.    POST /v1/event\n2.    POST /v1/event_by_phone\nНазначение\nГенерация события по\nидентификатору клиента\nГенерация события по номеру\nтелефона\n3.    POST /v1/event/on_create_launch/\n<string:maxbot_name>\nГенерация события для рассылок с\nфиксированной аудиторией\nПроверка статуса событий\n1.    GET /v1/state/customer/launch/\n<int:launch_customer_id>\nПолучение статуса запуска\nрассылки\n2.    GET /v1/state/customer/delayed/launch/\n<int:delayed_launch_customer_id>\nПолучение статуса события,\nотложенного до подтверждения\nномера телефона\n159\n№  Запрос\nНазначение\n3.    GET\n/v1/state/customer/unsubscribed/launch/\n<int:unsubscribed_launch_customer_id>\nПолучение статуса события,\nотложенного до подписки клиента в\nмессенджере\nКлиенты\n1.    GET /v1/customers/export/bot\n/<string:maxbot_name>\n2.    GET /v1/customers/tags/bot/\n<string:maxbot_name>\n3.    POST /v1/customers/tags/bot/\n<string:maxbot_name>\n4.    GET /v1/customers/subscribe/\n<int:customer_messenger_id>\nСтатистика\nПолучение списка всех клиентов\nПолучение тегов клиентов\nИзменение тегов клиентов\nПодписка клиента на рассылки\n1.\nPOST /v1/mailing/stat/flow/export/bot/\n<string:maxbot_name>\nСтатистика выполнения рассылок\n(без агрегации)\nЗапрос получения настроек рассылки\nGET /v1/mailing/<int:mailing_id>/settings\nЗапрос позволяет получить все настройки рассылки в формате JSON.\nПараметры запроса\nНазвание\nmailing_id\nТип\nОписание\nint\nИдентификатор  рассылки,  настройки  которой\nнеобходимо получить.\nАвторизация  возможна  как  по  cookie,  так  и  по  Bearer-токену,  см.  «Ключ  доступа  к  API\nконсоли маркетолога» в настройках консоли маркетолога в Studio.\nПараметры ответа\nНазвание\nmain\nТип\nОписание\nobject  Словарь,  описывающий  основные  настройки\nрассылки.\nlaunch_settings\nobject  Словарь,\nописывающий\nусловия\nначала\nmacros\nрассылки для клиентов.\nobject  Список  макросов,  использованных  в  рассылке.\nЗадается  только  для  рассылок  со  статической\nаудиторией.\nevent_arguments\nobject  Список  аргументов  события,  начинающего\nрассылку для клиента. Опциональный параметр,\n160\nзадан  только  если  рассылка  начинается  по\nсобытию.\nНиже каждый из этих параметров описан подробно.\nПоля объекта main\nНазвание\nid\nТип\nint\nОписание\nИдентификатор рассылки.\nmaxbot_name\nstring\nНазвание максбота.\ntype\ntitle\nstate\nenum of string:\ninfo\ntarget\n•\n•\nТип рассылки:\n•  информационная\n•  целевая.\nstring\nНазвание рассылки.\nenum of string:\ninit\n•\n•  active\n•  passive\n•  disabled\nСостояние рассылки:\n•  Не запущена\n•  Включена, активный режим\n•  Включена, пассивный режим\n•  Отключена\naudience_formation  enum of string:\nТип аудитории рассылки.\nсразу\non_create  –  статическая  аудитория\nзапуска\n(\"Начать\nрассылки\"  или  \"Начать  в  заданное\nвремя\",\nпараметр\nwhen_start).\nзадан\nпосле\nесли\nпри\nrealtime  –  динамическая  аудитория\nвозникновении\n(\"Начинать\nпри\nсобытия\"\nвыставлении  тега\",  в  зависимости  от\nзначения параметра trigger_by).\n\"Начинать\nили\nстатическая\non_create_launch  –\nаудитория,  начало  по  событию\n(«Начинать\nвозникновении\nпри\nсобытия для заданной аудитории.»).\non_create_planned  –  статическая\nаудитория,  равномерная  рассылка\nи\n(\"Начать\nотправлять равномерно\").\nзаданное\nвремя\nв\nkeyword  –  динамическая  аудитория,\nсловам\nначала\n(\"Начинать  при  получении  ключевых\nслов\").\nключевым\nпо\n•  on_create\nrealtime\n•\n•  on_create_launch\n•  on_create_planned\n•  keyword\n•  on_create_planned\n_by_url\n161\nwhen_start\nstring\nwhen_stop\nstring\nmailing_catalog_id\nint\nsms_provider_id\nint\nunsubscribable\nboolean\nskip_launched_custo\nmers\nboolean\n–\non_create_planned_by_url\nаудитория,\nдинамическая\nравномерная  рассылка  (\"Начать  в\nзаданное\nотправлять\nравномерно  (аудитория  из  внешней\nсистемы)\").\nвремя\nи\nт.е.\nрассылки,\nДата  и  время,  когда  рассылка\nначнется согласно настройкам. Надо\nотличать  это  время  от  времени\nкогда\nзапуска\nпереводит\nвручную\nмаркетолог\nрассылку  во  включенное  состояние\n(state  =  active).    Маркетолог  может\nзапустить  рассылку  в  понедельник  и\nзадать  в  ее  настройках  начать\nрассылку\nто  есть\nотложенное начало рассылки. В этом\nслучае в параметре when_start будет\nзадан вторник.\nвторник,\nво\nначать\nрассылку\nДата  и  время,  когда  прекратятся\nпопытки\nдля\nклиентов согласно настройкам. Надо\nотличать  это  время  от  времени\nостановки  рассылки  маркетологом\nвручную (state = disabled или passive).\nЭтот  параметр  ограничивает  время,\nкогда  рассылка  может  начинаться\nдля клиентов, даже если она остается\nв  активном  состоянии.  См.  раздел\n«Время, после которого рассылка не\nначнется для клиентов».\nИдентификатор  каталога,  в  котором\nнаходится рассылка.\nSMS-провайдера,\nИдентификатор\nкоторый  используется  для  отправки\nSMS в рамках этой рассылки.\nли\nФлаг,  определяющий\nрассылка  отправляться  клиентам,\nкоторые отписались от рассылок.\nбудет\nФлаг,  определяющий  может  ли\nрассылка  повторно  отправляться\nклиенту, который ее уже получал.\n162\ntrigger_by\nenum of string:\ntag\n•\n•  event\ntrigger_event_id\nint\nexclude_weekdays\nenum of int: [0, … 6]\nexclude_hours\nenum of int: [0, …, 23]\naudience_count\nint\ndraft\nboolean\nfacebook_tag\nenum of string:\n•  CONFIRMED_EVENT\n_UPDATE\n•  POST_PURCHASE_\nUPDATE\n•  ACCOUNT_UPDATE\nsend_date\nstring\ntags\nobject\n163\nусловия\nначала\nОпределяет\nс\nрассылки\naudience_formation = realtime. По тегу\nили по событию.\nрассылок\nдля\nсобытия,\nпри\nИдентификатор\nвозникновении  которого  рассылка\nначнется  для  клиента  (только  для\nрассылок по событию).\nДни  недели,  в  которые  рассылка  не\nбудет  отправляться  клиенту.  0  –\nпонедельник, 1 – вторник и т.д..\nЧасы,  в  которые  рассылка  не  будет\nотправляться клиенту.\nКоличество  клиентов  в  аудитории\nрассылки.\nФлаг,  определяющий  есть  ли  в\nконструкторе  рассылки  изменения,\nкоторые  не  добавлены  в  сценарий\nэтой  рассылки\nв  боте.  Иными\nсловами,  есть  ли  разница  между  тем\nчто задано в конструкторе рассылки\nи тем, что в действительности делает\nбот.\nТеги, добавляемые к сообщениям для\nклиентов Facebook*.\nПодробнее\n«Расширенные настройки».\nсм.\nв\nразделе\nДата  и  время  первого  запуска\nрассылки.\nСписок  тегов,  приводящих  к  началу\n(action  =\nрассылки  для  клиента\nостановке\nstart_on_add)\n(action  =\nрассылки  для  клиента\nstop_on_add\n=\nstop_on_remove).\naction\nили\nили\nПоля объекта launch_settings\nНазвание\non_create\nТип\nОписание\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начать сразу после запуска рассылки».\non_create_at_time\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начать в заданное время».\non_create_planned\nobject  Словарь, описывающий условия начала рассылки, если\nзадано  «Начать  в  заданное  время  и  отправлять\nравномерно».\non_create_planned_\nby_url\nobject  Словарь, описывающий условия начала рассылки, если\nзадано  «Начать  в  заданное  время  и  отправлять\nравномерно (аудитория из внешней системы)».\nkeyword\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начинать при получении ключевых слов».\nrealtime_tag\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начинать при выставлении тега».\nrealtime_event\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начинать при возникновении события».\non_create_launch\nobject  Словарь, описывающий условия начала рассылки, если\nзадано  «Начинать  при  возникновении  события  для\nзаданной аудитории».\nПоля объекта macros\nНазвание\n[].id\nТип\nint\nОписание\nИдентификатор макроса.\n[].name\nstring\nНазвание макроса.\n[].type\nТип макроса.\nenum of string:\n•  string\n•  decimal\n•  boolean\n•  date\n•  categorical\n[].mailing_id\nint\n[].count\nint\nИдентификатор  рассылки,  в  которой  использован\nмакрос.\nКоличество  вхождений  макроса  в  тексты  и\nнастройки  рассылки.  Иными  словами, сколько раз\nмакрос использован в рассылке.\n164\nПоля объекта event_arguments\nНазвание\n[].id\nТип\nint\n[].name\nstring\nОписание\nИдентификатор аргумента события.\n(совпадает  с\nНазвание  аргумента  события\nназванием макроса, использованного в рассылке,\nнепосредственно используется в рассылке).\n[].title\n[].type\nstring\nПонятное человеку название аргумента события.\nТип макроса.\nenum of string:\n•  string\n•  decimal\n•  boolean\n•  date\n•  categorical\nПример выполнения запроса.\ncurl -X GET -H \"Authorization: Bearer Contoso:eyJoщfDsaJkKrsGFH...\"\n\"https://mailing-factory.midvix.ai/v1/mailing/12345/settings\"\nПример ответа:\n{\n\"event_arguments\": [\n{\n\"id\": 735,\n\"name\": \"arg_1\",\n\"title\": \"Аргумент 1\",\n\"type\": \"string\"\n},\n{\n\"id\": 736,\n\"name\": \"arg_2\",\n\"title\": \"Аргумент 2\",\n\"type\": \"decimal\"\n}\n],\n\"launch_settings\": {\n\"realtime_event\": {\n\"exclude_hours\": [\n0,\n1,\n2,\n3,\n4,\n5,\n165\n6,\n7,\n8,\n22,\n23\n],\n\"exclude_weekdays\": [\n5,\n6\n],\n\"trigger_event_id\": 497,\n\"trigger_event_name\": \"event_abc\"\n}\n},\n\"main\": {\n\"audience_formation\": \"realtime\",\n\"draft\": true,\n\"exclude_hours\": [\n0,\n1,\n2,\n3,\n4,\n5,\n6,\n7,\n8,\n22,\n23\n],\n\"exclude_weekdays\": [\n5,\n6\n],\n\"id\": 3616,\n\"mailing_catalog_id\": 51,\n\"maxbot_name\": \"maxbot_contoso\",\n\"skip_launched_customers\": true,\n\"sms_provider_id\": 33,\n\"state\": \"init\",\n\"title\": \"Mailing name\",\n\"trigger_by\": \"event\",\n\"trigger_event_id\": 497,\n\"type\": \"target\",\n\"unsubscribable\": true\n}\n}\n166",
    "tags": [
      "консоли маркетолога",
      "условия начала",
      "начала рассылки",
      "аудитории рассылки",
      "название рассылки",
      "настройки рассылки",
      "запуска рассылки",
      "фиксированной аудиторией",
      "тип рассылки",
      "состояние рассылки",
      "заданное время",
      "внешней системы",
      "генерация события",
      "конструкторе рассылки",
      "тип макрос",
      "параметры запроса",
      "выполнения запроса",
      "начинать возникновении",
      "возникновении события",
      "формате json",
      "подтверждения номера",
      "номера телефона",
      "настроек рассылки",
      "которого рассылка",
      "рассылка начнется",
      "расширенные настройки",
      "начать сразу",
      "пассивный режим",
      "отправлять равномерно",
      "иными словами",
      "начать рассылку",
      "type string",
      "начало рассылки",
      "ключевых слов",
      "выставлении тега",
      "заданной аудитории",
      "тип аудитории",
      "заданное отправлять",
      "активный режим",
      "отправки sms",
      "название макроса",
      "type тип",
      "тип макроса",
      "номеру телефона",
      "name string",
      "статической аудиторией",
      "api консоли",
      "получении ключевых",
      "подписки клиента",
      "изменение тегов",
      "тегов клиентов",
      "генерация событий",
      "запрос генерация",
      "мессенджере клиенты",
      "идентификатору клиента",
      "получение статуса",
      "статуса запуска",
      "необходимо получить",
      "аргумента события",
      "подписка клиента",
      "которые отписались",
      "идентификатор рассылки",
      "запроса название",
      "выполнения рассылок",
      "описание идентификатор",
      "ниже каждый",
      "описан подробно",
      "mailing name",
      "рассылки get",
      "тип описание",
      "int идентификатор",
      "описание object",
      "описывающий условия",
      "поля объекта",
      "тип int",
      "int описание",
      "string название",
      "статическая аудитория",
      "согласно настройкам",
      "определяющий рассылка",
      "отправляться клиенту",
      "event trigger_event_id",
      "название аргумента"
    ]
  },
  {
    "section_id": "115_запрос_получения_настроек_рассылки",
    "section_title": "Запрос получения настроек рассылки",
    "level": 1,
    "page_start": 160,
    "page_end": 166,
    "text": "Запрос получения настроек рассылки\nGET /v1/mailing/<int:mailing_id>/settings\nЗапрос позволяет получить все настройки рассылки в формате JSON.\nПараметры запроса\nНазвание\nmailing_id\nТип\nОписание\nint\nИдентификатор  рассылки,  настройки  которой\nнеобходимо получить.\nАвторизация  возможна  как  по  cookie,  так  и  по  Bearer-токену,  см.  «Ключ  доступа  к  API\nконсоли маркетолога» в настройках консоли маркетолога в Studio.\nПараметры ответа\nНазвание\nmain\nТип\nОписание\nobject  Словарь,  описывающий  основные  настройки\nрассылки.\nlaunch_settings\nobject  Словарь,\nописывающий\nусловия\nначала\nmacros\nрассылки для клиентов.\nobject  Список  макросов,  использованных  в  рассылке.\nЗадается  только  для  рассылок  со  статической\nаудиторией.\nevent_arguments\nobject  Список  аргументов  события,  начинающего\nрассылку для клиента. Опциональный параметр,\n160\nзадан  только  если  рассылка  начинается  по\nсобытию.\nНиже каждый из этих параметров описан подробно.\nПоля объекта main\nНазвание\nid\nТип\nint\nОписание\nИдентификатор рассылки.\nmaxbot_name\nstring\nНазвание максбота.\ntype\ntitle\nstate\nenum of string:\ninfo\ntarget\n•\n•\nТип рассылки:\n•  информационная\n•  целевая.\nstring\nНазвание рассылки.\nenum of string:\ninit\n•\n•  active\n•  passive\n•  disabled\nСостояние рассылки:\n•  Не запущена\n•  Включена, активный режим\n•  Включена, пассивный режим\n•  Отключена\naudience_formation  enum of string:\nТип аудитории рассылки.\nсразу\non_create  –  статическая  аудитория\nзапуска\n(\"Начать\nрассылки\"  или  \"Начать  в  заданное\nвремя\",\nпараметр\nwhen_start).\nзадан\nпосле\nесли\nпри\nrealtime  –  динамическая  аудитория\nвозникновении\n(\"Начинать\nпри\nсобытия\"\nвыставлении  тега\",  в  зависимости  от\nзначения параметра trigger_by).\n\"Начинать\nили\nстатическая\non_create_launch  –\nаудитория,  начало  по  событию\n(«Начинать\nвозникновении\nпри\nсобытия для заданной аудитории.»).\non_create_planned  –  статическая\nаудитория,  равномерная  рассылка\nи\n(\"Начать\nотправлять равномерно\").\nзаданное\nвремя\nв\nkeyword  –  динамическая  аудитория,\nсловам\nначала\n(\"Начинать  при  получении  ключевых\nслов\").\nключевым\nпо\n•  on_create\nrealtime\n•\n•  on_create_launch\n•  on_create_planned\n•  keyword\n•  on_create_planned\n_by_url\n161\nwhen_start\nstring\nwhen_stop\nstring\nmailing_catalog_id\nint\nsms_provider_id\nint\nunsubscribable\nboolean\nskip_launched_custo\nmers\nboolean\n–\non_create_planned_by_url\nаудитория,\nдинамическая\nравномерная  рассылка  (\"Начать  в\nзаданное\nотправлять\nравномерно  (аудитория  из  внешней\nсистемы)\").\nвремя\nи\nт.е.\nрассылки,\nДата  и  время,  когда  рассылка\nначнется согласно настройкам. Надо\nотличать  это  время  от  времени\nкогда\nзапуска\nпереводит\nвручную\nмаркетолог\nрассылку  во  включенное  состояние\n(state  =  active).    Маркетолог  может\nзапустить  рассылку  в  понедельник  и\nзадать  в  ее  настройках  начать\nрассылку\nто  есть\nотложенное начало рассылки. В этом\nслучае в параметре when_start будет\nзадан вторник.\nвторник,\nво\nначать\nрассылку\nДата  и  время,  когда  прекратятся\nпопытки\nдля\nклиентов согласно настройкам. Надо\nотличать  это  время  от  времени\nостановки  рассылки  маркетологом\nвручную (state = disabled или passive).\nЭтот  параметр  ограничивает  время,\nкогда  рассылка  может  начинаться\nдля клиентов, даже если она остается\nв  активном  состоянии.  См.  раздел\n«Время, после которого рассылка не\nначнется для клиентов».\nИдентификатор  каталога,  в  котором\nнаходится рассылка.\nSMS-провайдера,\nИдентификатор\nкоторый  используется  для  отправки\nSMS в рамках этой рассылки.\nли\nФлаг,  определяющий\nрассылка  отправляться  клиентам,\nкоторые отписались от рассылок.\nбудет\nФлаг,  определяющий  может  ли\nрассылка  повторно  отправляться\nклиенту, который ее уже получал.\n162\ntrigger_by\nenum of string:\ntag\n•\n•  event\ntrigger_event_id\nint\nexclude_weekdays\nenum of int: [0, … 6]\nexclude_hours\nenum of int: [0, …, 23]\naudience_count\nint\ndraft\nboolean\nfacebook_tag\nenum of string:\n•  CONFIRMED_EVENT\n_UPDATE\n•  POST_PURCHASE_\nUPDATE\n•  ACCOUNT_UPDATE\nsend_date\nstring\ntags\nobject\n163\nусловия\nначала\nОпределяет\nс\nрассылки\naudience_formation = realtime. По тегу\nили по событию.\nрассылок\nдля\nсобытия,\nпри\nИдентификатор\nвозникновении  которого  рассылка\nначнется  для  клиента  (только  для\nрассылок по событию).\nДни  недели,  в  которые  рассылка  не\nбудет  отправляться  клиенту.  0  –\nпонедельник, 1 – вторник и т.д..\nЧасы,  в  которые  рассылка  не  будет\nотправляться клиенту.\nКоличество  клиентов  в  аудитории\nрассылки.\nФлаг,  определяющий  есть  ли  в\nконструкторе  рассылки  изменения,\nкоторые  не  добавлены  в  сценарий\nэтой  рассылки\nв  боте.  Иными\nсловами,  есть  ли  разница  между  тем\nчто задано в конструкторе рассылки\nи тем, что в действительности делает\nбот.\nТеги, добавляемые к сообщениям для\nклиентов Facebook*.\nПодробнее\n«Расширенные настройки».\nсм.\nв\nразделе\nДата  и  время  первого  запуска\nрассылки.\nСписок  тегов,  приводящих  к  началу\n(action  =\nрассылки  для  клиента\nостановке\nstart_on_add)\n(action  =\nрассылки  для  клиента\nstop_on_add\n=\nstop_on_remove).\naction\nили\nили\nПоля объекта launch_settings\nНазвание\non_create\nТип\nОписание\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начать сразу после запуска рассылки».\non_create_at_time\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начать в заданное время».\non_create_planned\nobject  Словарь, описывающий условия начала рассылки, если\nзадано  «Начать  в  заданное  время  и  отправлять\nравномерно».\non_create_planned_\nby_url\nobject  Словарь, описывающий условия начала рассылки, если\nзадано  «Начать  в  заданное  время  и  отправлять\nравномерно (аудитория из внешней системы)».\nkeyword\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начинать при получении ключевых слов».\nrealtime_tag\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начинать при выставлении тега».\nrealtime_event\nobject  Словарь, описывающий условия начала рассылки, если\nзадано «Начинать при возникновении события».\non_create_launch\nobject  Словарь, описывающий условия начала рассылки, если\nзадано  «Начинать  при  возникновении  события  для\nзаданной аудитории».\nПоля объекта macros\nНазвание\n[].id\nТип\nint\nОписание\nИдентификатор макроса.\n[].name\nstring\nНазвание макроса.\n[].type\nТип макроса.\nenum of string:\n•  string\n•  decimal\n•  boolean\n•  date\n•  categorical\n[].mailing_id\nint\n[].count\nint\nИдентификатор  рассылки,  в  которой  использован\nмакрос.\nКоличество  вхождений  макроса  в  тексты  и\nнастройки  рассылки.  Иными  словами, сколько раз\nмакрос использован в рассылке.\n164\nПоля объекта event_arguments\nНазвание\n[].id\nТип\nint\n[].name\nstring\nОписание\nИдентификатор аргумента события.\n(совпадает  с\nНазвание  аргумента  события\nназванием макроса, использованного в рассылке,\nнепосредственно используется в рассылке).\n[].title\n[].type\nstring\nПонятное человеку название аргумента события.\nТип макроса.\nenum of string:\n•  string\n•  decimal\n•  boolean\n•  date\n•  categorical\nПример выполнения запроса.\ncurl -X GET -H \"Authorization: Bearer Contoso:eyJoщfDsaJkKrsGFH...\"\n\"https://mailing-factory.midvix.ai/v1/mailing/12345/settings\"\nПример ответа:\n{\n\"event_arguments\": [\n{\n\"id\": 735,\n\"name\": \"arg_1\",\n\"title\": \"Аргумент 1\",\n\"type\": \"string\"\n},\n{\n\"id\": 736,\n\"name\": \"arg_2\",\n\"title\": \"Аргумент 2\",\n\"type\": \"decimal\"\n}\n],\n\"launch_settings\": {\n\"realtime_event\": {\n\"exclude_hours\": [\n0,\n1,\n2,\n3,\n4,\n5,\n165\n6,\n7,\n8,\n22,\n23\n],\n\"exclude_weekdays\": [\n5,\n6\n],\n\"trigger_event_id\": 497,\n\"trigger_event_name\": \"event_abc\"\n}\n},\n\"main\": {\n\"audience_formation\": \"realtime\",\n\"draft\": true,\n\"exclude_hours\": [\n0,\n1,\n2,\n3,\n4,\n5,\n6,\n7,\n8,\n22,\n23\n],\n\"exclude_weekdays\": [\n5,\n6\n],\n\"id\": 3616,\n\"mailing_catalog_id\": 51,\n\"maxbot_name\": \"maxbot_contoso\",\n\"skip_launched_customers\": true,\n\"sms_provider_id\": 33,\n\"state\": \"init\",\n\"title\": \"Mailing name\",\n\"trigger_by\": \"event\",\n\"trigger_event_id\": 497,\n\"type\": \"target\",\n\"unsubscribable\": true\n}\n}\n166",
    "tags": [
      "консоли маркетолога",
      "условия начала",
      "начала рассылки",
      "аудитории рассылки",
      "название рассылки",
      "настройки рассылки",
      "запуска рассылки",
      "тип рассылки",
      "состояние рассылки",
      "заданное время",
      "внешней системы",
      "конструкторе рассылки",
      "тип макрос",
      "параметры запроса",
      "выполнения запроса",
      "начинать возникновении",
      "возникновении события",
      "формате json",
      "настроек рассылки",
      "которого рассылка",
      "рассылка начнется",
      "расширенные настройки",
      "начать сразу",
      "пассивный режим",
      "отправлять равномерно",
      "иными словами",
      "начать рассылку",
      "type string",
      "начало рассылки",
      "ключевых слов",
      "выставлении тега",
      "заданной аудитории",
      "тип аудитории",
      "заданное отправлять",
      "активный режим",
      "отправки sms",
      "название макроса",
      "type тип",
      "тип макроса",
      "name string",
      "статической аудиторией",
      "api консоли",
      "получении ключевых",
      "необходимо получить",
      "аргумента события",
      "которые отписались",
      "идентификатор рассылки",
      "запроса название",
      "описание идентификатор",
      "ниже каждый",
      "описан подробно",
      "mailing name",
      "рассылки get",
      "тип описание",
      "int идентификатор",
      "описание object",
      "описывающий условия",
      "поля объекта",
      "тип int",
      "int описание",
      "string название",
      "статическая аудитория",
      "согласно настройкам",
      "определяющий рассылка",
      "отправляться клиенту",
      "event trigger_event_id",
      "название аргумента"
    ]
  },
  {
    "section_id": "116_термины_и_определения",
    "section_title": "Термины и определения",
    "level": 0,
    "page_start": 167,
    "page_end": 169,
    "text": "Термины и определения\nАудитория\nрассылки\nДиалог\nДиплинк\nЗапуск\nрассылки\n(launch)\n–  множество клиентов, для которых бот выполняет сценарий\nрассылки. В некоторых случаях клиенты могут не получить\nрассылку, например, если они отписались от рассылок или от\nбота в своем мессенджере.\n–  Совокупность сообщений между компанией (ее операторами и\nботами) и клиентом, относящаяся к решению проблемы по его\nобращению.\n–  Специальным образом сформированная ссылка, позволяющая\nпередавать от клиента боту произвольный набор параметров.\n–  Сущность в консоли маркетолога, создаваемая в момент запуска\nрассылки. Каждая рассылка может быть выполнена\nпроизвольное количество раз и с различными настройками; для\nкаждого случая будет создан отдельный запуск (launch).\nКанал\n–  контейнер для обработки обращений клиентов и рассылок по\nопределенной теме или иным характеристикам.\nКлиент\n–  заказчик, покупатель или приобретатель услуг, обратившийся в\nкомпанию при помощи одного из мессенджеров.\nКомпания\n–  организация, зарегистрированная в Maxbot и использующая\nбота для коммуникации с клиентами.\nМессенджер\n–  одна из возможных платформ коммуникации с клиентом:\n•  Viber;\n•  Telegram;\n•  ВКонтакте;\n•  Facebook*;\nInstagram*.\n•\nКонсоль\nуправления\n(Studio)\n–  интерфейс Maxbot, предназначенный для настройки перечня\nботов и их навыков, каналов, операторов и маркетологов.\nРассылка\n–  совокупность сценария, аудитории и условий начала рассылки.\nСценарий\nрассылки\nУсловия\nначала\nрассылки\njinja-\nвыражение\nSMS-\nпровайдер\n–  набор действий, выполняемых при проведении рассылки для\nкаждого клиента. Например, отправка ему сообщений и\nизображений через заданный промежуток времени.\n–  условия, при которых сценарий рассылки запускается для\nкаждого из клиентов в аудитории рассылки. Например,\nнаступление определенного времени, установка тега для\nклиента или возникновение внешнего события (клиент посетил\nсайт, оплатил заказ).\n–  регулярное выражение шаблонизатора для языка\nпрограммирования Python.\n–  организация, обеспечивающая отправку коротких сообщений\n(SMS). Она предоставляет доступ к SMS-шлюзу, при помощи\n167\nкоторого Maxbot отправляет SMS в центр отправки сообщений\nмобильного оператора.\n168\nПриложение  А.  Перечень  значений  часовых\nпоясов\nВ  подразделах  и  связанных  с  ними  таблицах  приведены  возможные  значения  часовых\nпоясов. Актуальный перечень часовых поясов содержится в таблице pg_timezone_names\nбазы данных Maxbot.\nEurope\nEurope/Amsterdam\nEurope/Andorra\nEurope/Astrakhan\nEurope/Athens\nEurope/Belfast\nEurope/Belgrade\nEurope/Berlin\nEurope/Bratislava\nEurope/Brussels\nEurope/Bucharest\nEurope/Budapest\nEurope/Busingen\nEurope/Chisinau\nEurope/Copenhagen\nEurope/Dublin\nEurope/Gibraltar\nEurope/Guernsey\nEurope/Helsinki\nEurope/Isle_of_Man\nEurope/Istanbul\nEurope/Jersey\nEurope/Kaliningrad\nEurope/Kiev\nEurope/Kirov\nEurope/Lisbon\nEurope/Ljubljana\nEurope/London\nEurope/Luxembourg\nEurope/Madrid\nEurope/Malta\nEurope/Mariehamn\nEurope/Minsk\nEurope/Monaco\nEurope/Moscow\nEurope/Nicosia\nEurope/Paris\nEurope/Podgorica\nEurope/Prague\nEurope/Oslo\nEurope/Riga\nEurope/Rome\nEurope/Samara\nEurope/San_Marino\nEurope/Sarajevo\nEurope/Saratov\nEurope/Simferopol\nEurope/Skopje\nEurope/Sofia\nEurope/Stockholm\nEurope/Tallinn\nEurope/Tirane\nEurope/Ulyanovsk\nEurope/Uzhgorod\nEurope/Vaduz\nEurope/Tiraspol\nEurope/Vatican\nEurope/Vienna\nEurope/Vilnius\nEurope/Volgograd\nEurope/Warsaw\nEurope/Zagreb\nEurope/Zaporozhye\nEurope/Zurich\nAsia\nAsia/Aden\nAsia/Aqtau\nAsia/Atyrau\nAsia/Almaty\nAsia/Aqtobe\nAsia/Amman\nAsia/Anadyr\nAsia/Ashgabat\nAsia/Ashkhabad\nAsia/Baghdad\nAsia/Bahrain\nAsia/Bangkok\nAsia/Barnaul\nAsia/Brunei\nAsia/Calcutta\nAsia/Beirut\nAsia/Chita\nAsia/Chongqing\nAsia/Chungking\nAsia/Colombo\nAsia/Damascus\nAsia/Dhaka\nAsia/Dili\nAsia/Dushanbe\nAsia/Famagusta\nAsia/Gaza\nAsia/Baku\nAsia/Bishkek\nAsia/Choibalsan\nAsia/Dacca\nAsia/Dubai\nAsia/Harbin\nAsia/Hebron\nAsia/Irkutsk\nAsia/Ho_Chi_Minh\nAsia/Hong_Kong\nAsia/Hovd\nAsia/Istanbul\nAsia/Jakarta\nAsia/Jayapura\nAsia/Jerusalem\nAsia/Kabul\nAsia/Kamchatka\nAsia/Karachi\n169",
    "tags": [
      "консоли маркетолога",
      "каждая рассылка",
      "сценарий рассылки",
      "набор действий",
      "каждого клиента",
      "заданный промежуток",
      "промежуток времени",
      "аудитория рассылки",
      "множество клиентов",
      "которых бот",
      "некоторых случаях",
      "случаях клиенты",
      "клиенты могут",
      "получить рассылку",
      "своем мессенджере",
      "условия начала",
      "начала рассылки",
      "которых сценарий",
      "рассылки запускается",
      "аудитории рассылки",
      "наступление определенного",
      "определенного времени",
      "установка тега",
      "возникновение внешнего",
      "внешнего события",
      "клиент посетил",
      "посетил сайт",
      "оплатил заказ",
      "рассылки условия",
      "запуска рассылки",
      "условий начала",
      "определенной теме",
      "произвольное количество",
      "рассылки запуска",
      "обработки обращений",
      "момент запуска",
      "запуск рассылки",
      "обеспечивающая отправку",
      "коротких сообщений",
      "предоставляет доступ",
      "которого maxbot",
      "maxbot отправляет",
      "отправляет sms",
      "центр отправки",
      "отправки сообщений",
      "сообщений мобильного",
      "мобильного оператора",
      "бот выполняет",
      "клиента бот",
      "клиента боту",
      "часовых поясов",
      "europe europe",
      "amsterdam europe",
      "andorra europe",
      "astrakhan europe",
      "athens europe",
      "belfast europe",
      "belgrade europe",
      "berlin europe",
      "bratislava europe",
      "brussels europe",
      "bucharest europe",
      "budapest europe",
      "busingen europe",
      "chisinau europe",
      "copenhagen europe",
      "dublin europe",
      "gibraltar europe",
      "guernsey europe",
      "helsinki europe",
      "isle_of_man europe",
      "istanbul europe",
      "jersey europe",
      "kaliningrad europe",
      "kiev europe",
      "kirov europe",
      "lisbon europe",
      "ljubljana europe",
      "london europe",
      "luxembourg europe",
      "madrid europe",
      "malta europe",
      "mariehamn europe",
      "minsk europe",
      "monaco europe",
      "moscow europe",
      "nicosia europe",
      "paris europe",
      "podgorica europe",
      "prague europe",
      "oslo europe",
      "riga europe",
      "rome europe",
      "samara europe",
      "san_marino europe",
      "sarajevo europe",
      "saratov europe",
      "simferopol europe",
      "skopje europe",
      "sofia europe",
      "stockholm europe",
      "tallinn europe",
      "tirane europe",
      "ulyanovsk europe",
      "uzhgorod europe",
      "vaduz europe",
      "tiraspol europe",
      "vatican europe",
      "vienna europe",
      "vilnius europe",
      "volgograd europe",
      "warsaw europe",
      "zagreb europe",
      "zaporozhye europe",
      "asia asia",
      "aden asia",
      "aqtau asia",
      "atyrau asia",
      "almaty asia",
      "aqtobe asia",
      "amman asia",
      "anadyr asia",
      "ashgabat asia",
      "ashkhabad asia",
      "baghdad asia",
      "bahrain asia",
      "bangkok asia",
      "barnaul asia",
      "brunei asia",
      "calcutta asia",
      "beirut asia",
      "chita asia",
      "chongqing asia",
      "chungking asia",
      "colombo asia",
      "damascus asia",
      "dhaka asia",
      "dili asia",
      "dushanbe asia",
      "famagusta asia",
      "gaza asia",
      "baku asia",
      "bishkek asia",
      "choibalsan asia",
      "dacca asia",
      "dubai asia",
      "harbin asia",
      "hebron asia",
      "irkutsk asia",
      "ho_chi_minh asia",
      "hong_kong asia",
      "hovd asia",
      "istanbul asia",
      "jakarta asia",
      "jayapura asia",
      "jerusalem asia",
      "kabul asia",
      "kamchatka asia",
      "karachi 169"
    ]
  },
  {
    "section_id": "117_приложение_а_перечень_значений_часовых_поясов",
    "section_title": "Приложение А. Перечень значений часовых поясов",
    "level": 0,
    "page_start": 169,
    "page_end": 173,
    "text": "Приложение  А.  Перечень  значений  часовых\nпоясов\nВ  подразделах  и  связанных  с  ними  таблицах  приведены  возможные  значения  часовых\nпоясов. Актуальный перечень часовых поясов содержится в таблице pg_timezone_names\nбазы данных Maxbot.\nEurope\nEurope/Amsterdam\nEurope/Andorra\nEurope/Astrakhan\nEurope/Athens\nEurope/Belfast\nEurope/Belgrade\nEurope/Berlin\nEurope/Bratislava\nEurope/Brussels\nEurope/Bucharest\nEurope/Budapest\nEurope/Busingen\nEurope/Chisinau\nEurope/Copenhagen\nEurope/Dublin\nEurope/Gibraltar\nEurope/Guernsey\nEurope/Helsinki\nEurope/Isle_of_Man\nEurope/Istanbul\nEurope/Jersey\nEurope/Kaliningrad\nEurope/Kiev\nEurope/Kirov\nEurope/Lisbon\nEurope/Ljubljana\nEurope/London\nEurope/Luxembourg\nEurope/Madrid\nEurope/Malta\nEurope/Mariehamn\nEurope/Minsk\nEurope/Monaco\nEurope/Moscow\nEurope/Nicosia\nEurope/Paris\nEurope/Podgorica\nEurope/Prague\nEurope/Oslo\nEurope/Riga\nEurope/Rome\nEurope/Samara\nEurope/San_Marino\nEurope/Sarajevo\nEurope/Saratov\nEurope/Simferopol\nEurope/Skopje\nEurope/Sofia\nEurope/Stockholm\nEurope/Tallinn\nEurope/Tirane\nEurope/Ulyanovsk\nEurope/Uzhgorod\nEurope/Vaduz\nEurope/Tiraspol\nEurope/Vatican\nEurope/Vienna\nEurope/Vilnius\nEurope/Volgograd\nEurope/Warsaw\nEurope/Zagreb\nEurope/Zaporozhye\nEurope/Zurich\nAsia\nAsia/Aden\nAsia/Aqtau\nAsia/Atyrau\nAsia/Almaty\nAsia/Aqtobe\nAsia/Amman\nAsia/Anadyr\nAsia/Ashgabat\nAsia/Ashkhabad\nAsia/Baghdad\nAsia/Bahrain\nAsia/Bangkok\nAsia/Barnaul\nAsia/Brunei\nAsia/Calcutta\nAsia/Beirut\nAsia/Chita\nAsia/Chongqing\nAsia/Chungking\nAsia/Colombo\nAsia/Damascus\nAsia/Dhaka\nAsia/Dili\nAsia/Dushanbe\nAsia/Famagusta\nAsia/Gaza\nAsia/Baku\nAsia/Bishkek\nAsia/Choibalsan\nAsia/Dacca\nAsia/Dubai\nAsia/Harbin\nAsia/Hebron\nAsia/Irkutsk\nAsia/Ho_Chi_Minh\nAsia/Hong_Kong\nAsia/Hovd\nAsia/Istanbul\nAsia/Jakarta\nAsia/Jayapura\nAsia/Jerusalem\nAsia/Kabul\nAsia/Kamchatka\nAsia/Karachi\n169\nAsia/Kashgar\nAsia/Kathmandu\nAsia/Katmandu\nAsia/Khandyga\nAsia/Kolkata\nAsia/Kuwait\nAsia/Makassar\nAsia/Manila\nAsia/Macao\nAsia/Macau\nAsia/Muscat\nAsia/Krasnoyarsk\nAsia/Kuala_Lumpur\nAsia/Kuching\nAsia/Novokuznetsk\nAsia/Novosibirsk\nAsia/Omsk\nAsia/Phnom_Penh\nAsia/Pontianak\nAsia/Pyongyang\nAsia/Qostanay\nAsia/Qyzylorda\nAsia/Rangoon\nAsia/Magadan\nAsia/Nicosia\nAsia/Oral\nAsia/Qatar\nAsia/Riyadh\nAsia/Saigon\nAsia/Sakhalin\nAsia/Samarkand\nAsia/Seoul\nAsia/Shanghai\nAsia/Singapore\nAsia/Srednekolymsk\nAsia/Taipei\nAsia/Tashkent\nAsia/Tbilisi\nAsia/Thimbu\nAsia/Thimphu\nAsia/Tehran\nAsia/Tokyo\nAsia/Ujung_Pandang  Asia/Ulaanbaatar\nAsia/Ulan_Bator\nAsia/Tel_Aviv\nAsia/Tomsk\nAsia/Urumqi\nAsia/Ust-Nera\nAsia/Vientiane\nAsia/Vladivostok\nAsia/Yakutsk\nAsia/Yangon\nAsia/Yekaterinburg\nAsia/Yerevan\nAfrica\nAfrica/Abidjan\nAfrica/Accra\nAfrica/Addis_Ababa\nAfrica/Algiers\nAfrica/Asmara\nAfrica/Asmera\nAfrica/Bamako\nAfrica/Bangui\nAfrica/Banjul\nAfrica/Bissau\nAfrica/Blantyre\nAfrica/Brazzaville\nAfrica/Bujumbura\nAfrica/Cairo\nAfrica/Casablanca\nAfrica/Ceuta\nAfrica/Conakry\nAfrica/Dakar\nAfrica/Dar_es_Salaam\nAfrica/Djibouti\nAfrica/Douala\nAfrica/El_Aaiun\nAfrica/Freetown\nAfrica/Gaborone\nAfrica/Harare\nAfrica/Johannesburg  Africa/Juba\nAfrica/Kampala\nAfrica/Khartoum\nAfrica/Kigali\nAfrica/Kinshasa\nAfrica/Lagos\nAfrica/Libreville\nAfrica/Lome\nAfrica/Luanda\nAfrica/Lubumbashi\nAfrica/Lusaka\nAfrica/Malabo\nAfrica/Maputo\nAfrica/Maseru\nAfrica/Mbabane\nAfrica/Mogadishu\nAfrica/Monrovia\nAfrica/Nairobi\nAfrica/Ndjamena\nAfrica/Niamey\nAfrica/Nouakchott\nAfrica/Ouagadougou\nAfrica/Porto-Novo\nAfrica/Sao_Tome\nAfrica/Timbuktu\nAfrica/Tripoli\nAfrica/Tunis\nAfrica/Windhoek\nAmerica\nAmerica/Adak\nAmerica/Anchorage\nAmerica/Anguilla\nAmerica/Antigua\nAmerica/Araguaina\nAmerica/Argentina/\nBuenos_Aires\nAmerica/Argentina/\nCatamarca\nAmerica/Argentina/\nComodRivadavia\n170\nAmerica/Argentina/\nCordoba\nAmerica/Argentina/\nJujuy\nAmerica/Argentina/\nLa_Rioja\nAmerica/Argentina/\nMendoza\nAmerica/Argentina/\nRio_Gallegos\nAmerica/Argentina/\nSalta\nAmerica/Argentina/\nSan_Luis\nAmerica/Argentina/\nTucuman\nAmerica/Argentina/\nSan_Juan\nAmerica/Argentina/\nUshuaia\nAmerica/Aruba\nAmerica/Asuncion\nAmerica/Atikokan\nAmerica/Atka\nAmerica/Bahia\nAmerica/Barbados\nAmerica/Belem\nAmerica/Belize\nAmerica/Boa_Vista\nAmerica/Bogota\nAmerica/Boise\nAmerica/Bahia_\nBanderas\nAmerica/Blanc-\nSablon\nAmerica/Buenos_\nAires\nAmerica/Cambridge_\nBay\nAmerica/Campo_\nGrande\nAmerica/Cancun\nAmerica/Caracas\nAmerica/Catamarca\nAmerica/Cayenne\nAmerica/Cayman\nAmerica/Chicago\nAmerica/Chihuahua\nAmerica/Coral_\nHarbour\nAmerica/Cordoba\nAmerica/Costa_Rica\nAmerica/Creston\nAmerica/Cuiaba\nAmerica/Curacao\nAmerica/\nDanmarkshavn\nAmerica/Dawson\nAmerica/Dawson_\nCreek\nAmerica/Denver\nAmerica/Detroit\nAmerica/Dominica\nAmerica/Edmonton\nAmerica/Eirunepe\nAmerica/El_Salvador\nAmerica/Ensenada\nAmerica/Fort_Nelson  America/Fort_ Wayne\nAmerica/Fortaleza\nAmerica/Glace_Bay\nAmerica/Godthab\nAmerica/Goose_ Bay\nAmerica/Grand_Turk\nAmerica/Grenada\nAmerica/Guadeloupe  America/Guatemala\nAmerica/Guayaquil\nAmerica/Guyana\nAmerica/Halifax\nAmerica/Havana\nAmerica/Hermosillo\nAmerica/Indiana/\nIndianapolis\nAmerica/Indiana/\nTell_City\nAmerica/Indiana/Knox  America/Indiana/\nMarengo\nAmerica/Indiana/\nVevay\nAmerica/Indiana/\nVincennes\nAmerica/Indiana/\nPetersburg\nAmerica/Indiana/\nWinamac\nAmerica/Indianapolis  America/Inuvik\nAmerica/Iqaluit\nAmerica/Jamaica\nAmerica/Jujuy\nAmerica/Juneau\nAmerica/Kentucky/\nLouisville\nAmerica/Kentucky/M\nonticello\nAmerica/Knox_IN\nAmerica/Kralendijk\nAmerica/La_Paz\nAmerica/Lima\nAmerica/Los_Angeles  America/Louisville\nAmerica/Lower_Princes\nAmerica/Maceio\nAmerica/Managua\nAmerica/Manaus\nAmerica/Marigot\nAmerica/Martinique\nAmerica/Matamoros\nAmerica/Mazatlan\nAmerica/Mendoza\nAmerica/ Menominee\nAmerica/Merida\nAmerica/Metlakatla\nAmerica/Mexico_City\nAmerica/Miquelon\nAmerica/Moncton\nAmerica/Monterrey\nAmerica/Montevideo\nAmerica/Montreal\nAmerica/Montserrat\nAmerica/Nassau\nAmerica/New_York\nAmerica/Nipigon\nAmerica/Nome\nAmerica/Noronha\nAmerica/North_Dakota/\nBeulah\nAmerica/North_\nDakota/Center\n171\nAmerica/North_\nDakota/New_Salem\nAmerica/Ojinaga\nAmerica/Panama\nAmerica/Pangnirtung\nAmerica/Paramaribo  America/Phoenix\nAmerica/Port-au-Prince  America/Port_of_\nAmerica/Porto_Acre\nAmerica/Porto_Velho  America/Puerto_Rico\nSpain\nAmerica/Punta_\nArenas\nAmerica/Rainy_River\nAmerica/Rankin_Inlet  America/Recife\nAmerica/Regina\nAmerica/Resolute\nAmerica/Rio_Branco\nAmerica/Rosario\nAmerica/Santarem\nAmerica/Santiago\nAmerica/Santo_\nDomingo\nAmerica/Scoresbysund  America/Shiprock\nAmerica/Sitka\nAmerica/Santa_\nIsabel\nAmerica/Sao_Paulo\nAmerica/St_\nBarthelemy\nAmerica/St_Johns\nAmerica/St_Kitts\nAmerica/St_Lucia\nAmerica/St_Thomas\nAmerica/St_Vincent\nAmerica/Swift_Current  America/Tegucigalpa\nAmerica/Thule\nAmerica/Thunder_Bay  America/Tijuana\nAmerica/Toronto\nAmerica/Tortola\nAmerica/Vancouver\nAmerica/Virgin\nAmerica/Whitehorse\nAmerica/Winnipeg\nAmerica/Yakutat\nAmerica/Yellowknife\nAustralia\nAustralia/ACT\nAustralia/Adelaide\nAustralia/Brisbane\nAustralia/Broken_Hill\nAustralia/Canberra\nAustralia/Currie\nAustralia/Darwin\nAustralia/Eucla\nAustralia/Hobart\nAustralia/LHI\nAustralia/Lindeman\nAustralia/Lord_Howe\nAustralia/Melbourne\nAustralia/NSW\nAustralia/North\nAustralia/Perth\nAustralia/Queensland  Australia/South\nAustralia/Sydney\nAustralia/Tasmania\nAustralia/Victoria\nAustralia/West\nAustralia/Yancowinna\nIndian\nIndian/Antananarivo\nIndian/Chagos\nIndian/Christmas\nIndian/Cocos\nIndian/Comoro\nIndian/Kerguelen\nIndian/Mahe\nIndian/Maldives\nIndian/Mauritius\nIndian/Mayotte\nIndian/Reunion\nMexico\nMexico/BajaNorte\nMexico/BajaSur\nMexico/General\nOther\nAntarctica/Casey\nAntarctica/Davis\nAntarctica/\nDumontDUrville\nAntarctica/\nMacquarie\n172\nAntarctica/Mawson\nAntarctica/McMurdo  Antarctica/Palmer\nAntarctica/Rothera\nAntarctica/South_Pole  Antarctica/Syowa\nAntarctica/Troll\nAntarctica/Vostok\nArctic/Longyearbyen\nAtlantic/Azores\nAtlantic/Bermuda\nAtlantic/Canary\nAtlantic/Cape_Verde\nAtlantic/Faeroe\nAtlantic/Faroe\nAtlantic/Jan_Mayen\nAtlantic/Madeira\nAtlantic/Reykjavik\nAtlantic/South_\nGeorgia\nAtlantic/St_Helena\nAtlantic/Stanley\nBrazil/Acre\nBrazil/DeNoronha\nBrazil/East\nBrazil/West\nCanada/Atlantic\nCanada/Centra\nCanada/Eastern\nCanada/Mountain\nCanada/Newfoundland  Canada/Pacific\nCanada/Saskatchewan  Canada/Yukon\nChile/Continental\nChile/EasterIsland\nCET\nEST\nGB\nGMT-0\nHongkong\nJamaica\nMET\nNZ-CHAT\nPoland\nSingapore\nUniversal\nCST6CDT\nEST5EDT\nGB-Eire\nGMT0\nIceland\nJapan\nMST\nNavajo\nPortugal\nTurkey\nW-SU\nCuba\nEgypt\nGMT\nGreenwich\nIran\nKwajalein\nMST7MDT\nPRC\nROC\nUCT\nWET\nEET\nEire\nGMT+0\nHST\nIsrael\nLibya\nNZ\nPST8PDT\nROK\nUTC\nZulu\n173",
    "tags": [
      "часовых поясов",
      "europe europe",
      "amsterdam europe",
      "andorra europe",
      "astrakhan europe",
      "athens europe",
      "belfast europe",
      "belgrade europe",
      "berlin europe",
      "bratislava europe",
      "brussels europe",
      "bucharest europe",
      "budapest europe",
      "busingen europe",
      "chisinau europe",
      "copenhagen europe",
      "dublin europe",
      "gibraltar europe",
      "guernsey europe",
      "helsinki europe",
      "isle_of_man europe",
      "istanbul europe",
      "jersey europe",
      "kaliningrad europe",
      "kiev europe",
      "kirov europe",
      "lisbon europe",
      "ljubljana europe",
      "london europe",
      "luxembourg europe",
      "madrid europe",
      "malta europe",
      "mariehamn europe",
      "minsk europe",
      "monaco europe",
      "moscow europe",
      "nicosia europe",
      "paris europe",
      "podgorica europe",
      "prague europe",
      "oslo europe",
      "riga europe",
      "rome europe",
      "samara europe",
      "san_marino europe",
      "sarajevo europe",
      "saratov europe",
      "simferopol europe",
      "skopje europe",
      "sofia europe",
      "stockholm europe",
      "tallinn europe",
      "tirane europe",
      "ulyanovsk europe",
      "uzhgorod europe",
      "vaduz europe",
      "tiraspol europe",
      "vatican europe",
      "vienna europe",
      "vilnius europe",
      "volgograd europe",
      "warsaw europe",
      "zagreb europe",
      "zaporozhye europe",
      "asia asia",
      "aden asia",
      "aqtau asia",
      "atyrau asia",
      "almaty asia",
      "aqtobe asia",
      "amman asia",
      "anadyr asia",
      "ashgabat asia",
      "ashkhabad asia",
      "baghdad asia",
      "bahrain asia",
      "bangkok asia",
      "barnaul asia",
      "brunei asia",
      "calcutta asia",
      "beirut asia",
      "chita asia",
      "chongqing asia",
      "chungking asia",
      "colombo asia",
      "damascus asia",
      "dhaka asia",
      "dili asia",
      "dushanbe asia",
      "famagusta asia",
      "gaza asia",
      "baku asia",
      "bishkek asia",
      "choibalsan asia",
      "dacca asia",
      "dubai asia",
      "harbin asia",
      "hebron asia",
      "irkutsk asia",
      "ho_chi_minh asia",
      "hong_kong asia",
      "hovd asia",
      "istanbul asia",
      "jakarta asia",
      "jayapura asia",
      "jerusalem asia",
      "kabul asia",
      "kamchatka asia",
      "karachi 169",
      "catamarca america",
      "cordoba america",
      "jujuy america",
      "mendoza america",
      "bay america",
      "indianapolis america",
      "louisville america",
      "north_ dakota"
    ]
  },
  {
    "section_id": "118_europe",
    "section_title": "Europe",
    "level": 1,
    "page_start": 169,
    "page_end": 169,
    "text": "Europe\nEurope/Amsterdam\nEurope/Andorra\nEurope/Astrakhan\nEurope/Athens\nEurope/Belfast\nEurope/Belgrade\nEurope/Berlin\nEurope/Bratislava\nEurope/Brussels\nEurope/Bucharest\nEurope/Budapest\nEurope/Busingen\nEurope/Chisinau\nEurope/Copenhagen\nEurope/Dublin\nEurope/Gibraltar\nEurope/Guernsey\nEurope/Helsinki\nEurope/Isle_of_Man\nEurope/Istanbul\nEurope/Jersey\nEurope/Kaliningrad\nEurope/Kiev\nEurope/Kirov\nEurope/Lisbon\nEurope/Ljubljana\nEurope/London\nEurope/Luxembourg\nEurope/Madrid\nEurope/Malta\nEurope/Mariehamn\nEurope/Minsk\nEurope/Monaco\nEurope/Moscow\nEurope/Nicosia\nEurope/Paris\nEurope/Podgorica\nEurope/Prague\nEurope/Oslo\nEurope/Riga\nEurope/Rome\nEurope/Samara\nEurope/San_Marino\nEurope/Sarajevo\nEurope/Saratov\nEurope/Simferopol\nEurope/Skopje\nEurope/Sofia\nEurope/Stockholm\nEurope/Tallinn\nEurope/Tirane\nEurope/Ulyanovsk\nEurope/Uzhgorod\nEurope/Vaduz\nEurope/Tiraspol\nEurope/Vatican\nEurope/Vienna\nEurope/Vilnius\nEurope/Volgograd\nEurope/Warsaw\nEurope/Zagreb\nEurope/Zaporozhye\nEurope/Zurich",
    "tags": [
      "europe europe",
      "amsterdam europe",
      "andorra europe",
      "astrakhan europe",
      "athens europe",
      "belfast europe",
      "belgrade europe",
      "berlin europe",
      "bratislava europe",
      "brussels europe",
      "bucharest europe",
      "budapest europe",
      "busingen europe",
      "chisinau europe",
      "copenhagen europe",
      "dublin europe",
      "gibraltar europe",
      "guernsey europe",
      "helsinki europe",
      "isle_of_man europe",
      "istanbul europe",
      "jersey europe",
      "kaliningrad europe",
      "kiev europe",
      "kirov europe",
      "lisbon europe",
      "ljubljana europe",
      "london europe",
      "luxembourg europe",
      "madrid europe",
      "malta europe",
      "mariehamn europe",
      "minsk europe",
      "monaco europe",
      "moscow europe",
      "nicosia europe",
      "paris europe",
      "podgorica europe",
      "prague europe",
      "oslo europe",
      "riga europe",
      "rome europe",
      "samara europe",
      "san_marino europe",
      "sarajevo europe",
      "saratov europe",
      "simferopol europe",
      "skopje europe",
      "sofia europe",
      "stockholm europe",
      "tallinn europe",
      "tirane europe",
      "ulyanovsk europe",
      "uzhgorod europe",
      "vaduz europe",
      "tiraspol europe",
      "vatican europe",
      "vienna europe",
      "vilnius europe",
      "volgograd europe",
      "warsaw europe",
      "zagreb europe",
      "zaporozhye europe"
    ]
  },
  {
    "section_id": "119_asia",
    "section_title": "Asia",
    "level": 1,
    "page_start": 169,
    "page_end": 169,
    "text": "Asia\nAsia/Aden\nAsia/Aqtau\nAsia/Atyrau\nAsia/Almaty\nAsia/Aqtobe\nAsia/Amman\nAsia/Anadyr\nAsia/Ashgabat\nAsia/Ashkhabad\nAsia/Baghdad\nAsia/Bahrain\nAsia/Bangkok\nAsia/Barnaul\nAsia/Brunei\nAsia/Calcutta\nAsia/Beirut\nAsia/Chita\nAsia/Chongqing\nAsia/Chungking\nAsia/Colombo\nAsia/Damascus\nAsia/Dhaka\nAsia/Dili\nAsia/Dushanbe\nAsia/Famagusta\nAsia/Gaza\nAsia/Baku\nAsia/Bishkek\nAsia/Choibalsan\nAsia/Dacca\nAsia/Dubai\nAsia/Harbin\nAsia/Hebron\nAsia/Irkutsk\nAsia/Ho_Chi_Minh\nAsia/Hong_Kong\nAsia/Hovd\nAsia/Istanbul\nAsia/Jakarta\nAsia/Jayapura\nAsia/Jerusalem\nAsia/Kabul\nAsia/Kamchatka\nAsia/Karachi\n169\nAsia/Kashgar\nAsia/Kathmandu\nAsia/Katmandu\nAsia/Khandyga\nAsia/Kolkata\nAsia/Kuwait\nAsia/Makassar\nAsia/Manila\nAsia/Macao\nAsia/Macau\nAsia/Muscat\nAsia/Krasnoyarsk\nAsia/Kuala_Lumpur\nAsia/Kuching\nAsia/Novokuznetsk\nAsia/Novosibirsk\nAsia/Omsk\nAsia/Phnom_Penh\nAsia/Pontianak\nAsia/Pyongyang\nAsia/Qostanay\nAsia/Qyzylorda\nAsia/Rangoon\nAsia/Magadan\nAsia/Nicosia\nAsia/Oral\nAsia/Qatar\nAsia/Riyadh\nAsia/Saigon\nAsia/Sakhalin\nAsia/Samarkand\nAsia/Seoul\nAsia/Shanghai\nAsia/Singapore\nAsia/Srednekolymsk\nAsia/Taipei\nAsia/Tashkent\nAsia/Tbilisi\nAsia/Thimbu\nAsia/Thimphu\nAsia/Tehran\nAsia/Tokyo\nAsia/Ujung_Pandang  Asia/Ulaanbaatar\nAsia/Ulan_Bator\nAsia/Tel_Aviv\nAsia/Tomsk\nAsia/Urumqi\nAsia/Ust-Nera\nAsia/Vientiane\nAsia/Vladivostok\nAsia/Yakutsk\nAsia/Yangon\nAsia/Yekaterinburg\nAsia/Yerevan",
    "tags": [
      "asia asia",
      "aden asia",
      "aqtau asia",
      "atyrau asia",
      "almaty asia",
      "aqtobe asia",
      "amman asia",
      "anadyr asia",
      "ashgabat asia",
      "ashkhabad asia",
      "baghdad asia",
      "bahrain asia",
      "bangkok asia",
      "barnaul asia",
      "brunei asia",
      "calcutta asia",
      "beirut asia",
      "chita asia",
      "chongqing asia",
      "chungking asia",
      "colombo asia",
      "damascus asia",
      "dhaka asia",
      "dili asia",
      "dushanbe asia",
      "famagusta asia",
      "gaza asia",
      "baku asia",
      "bishkek asia",
      "choibalsan asia",
      "dacca asia",
      "dubai asia",
      "harbin asia",
      "hebron asia",
      "irkutsk asia",
      "ho_chi_minh asia",
      "hong_kong asia",
      "hovd asia",
      "istanbul asia",
      "jakarta asia",
      "jayapura asia",
      "jerusalem asia",
      "kabul asia",
      "kamchatka asia",
      "karachi 169"
    ]
  },
  {
    "section_id": "120_africa",
    "section_title": "Africa",
    "level": 1,
    "page_start": 170,
    "page_end": 170,
    "text": "Africa\nAfrica/Abidjan\nAfrica/Accra\nAfrica/Addis_Ababa\nAfrica/Algiers\nAfrica/Asmara\nAfrica/Asmera\nAfrica/Bamako\nAfrica/Bangui\nAfrica/Banjul\nAfrica/Bissau\nAfrica/Blantyre\nAfrica/Brazzaville\nAfrica/Bujumbura\nAfrica/Cairo\nAfrica/Casablanca\nAfrica/Ceuta\nAfrica/Conakry\nAfrica/Dakar\nAfrica/Dar_es_Salaam\nAfrica/Djibouti\nAfrica/Douala\nAfrica/El_Aaiun\nAfrica/Freetown\nAfrica/Gaborone\nAfrica/Harare\nAfrica/Johannesburg  Africa/Juba\nAfrica/Kampala\nAfrica/Khartoum\nAfrica/Kigali\nAfrica/Kinshasa\nAfrica/Lagos\nAfrica/Libreville\nAfrica/Lome\nAfrica/Luanda\nAfrica/Lubumbashi\nAfrica/Lusaka\nAfrica/Malabo\nAfrica/Maputo\nAfrica/Maseru\nAfrica/Mbabane\nAfrica/Mogadishu\nAfrica/Monrovia\nAfrica/Nairobi\nAfrica/Ndjamena\nAfrica/Niamey\nAfrica/Nouakchott\nAfrica/Ouagadougou\nAfrica/Porto-Novo\nAfrica/Sao_Tome\nAfrica/Timbuktu\nAfrica/Tripoli\nAfrica/Tunis\nAfrica/Windhoek",
    "tags": []
  },
  {
    "section_id": "121_america",
    "section_title": "America",
    "level": 1,
    "page_start": 170,
    "page_end": 171,
    "text": "America\nAmerica/Adak\nAmerica/Anchorage\nAmerica/Anguilla\nAmerica/Antigua\nAmerica/Araguaina\nAmerica/Argentina/\nBuenos_Aires\nAmerica/Argentina/\nCatamarca\nAmerica/Argentina/\nComodRivadavia\n170\nAmerica/Argentina/\nCordoba\nAmerica/Argentina/\nJujuy\nAmerica/Argentina/\nLa_Rioja\nAmerica/Argentina/\nMendoza\nAmerica/Argentina/\nRio_Gallegos\nAmerica/Argentina/\nSalta\nAmerica/Argentina/\nSan_Luis\nAmerica/Argentina/\nTucuman\nAmerica/Argentina/\nSan_Juan\nAmerica/Argentina/\nUshuaia\nAmerica/Aruba\nAmerica/Asuncion\nAmerica/Atikokan\nAmerica/Atka\nAmerica/Bahia\nAmerica/Barbados\nAmerica/Belem\nAmerica/Belize\nAmerica/Boa_Vista\nAmerica/Bogota\nAmerica/Boise\nAmerica/Bahia_\nBanderas\nAmerica/Blanc-\nSablon\nAmerica/Buenos_\nAires\nAmerica/Cambridge_\nBay\nAmerica/Campo_\nGrande\nAmerica/Cancun\nAmerica/Caracas\nAmerica/Catamarca\nAmerica/Cayenne\nAmerica/Cayman\nAmerica/Chicago\nAmerica/Chihuahua\nAmerica/Coral_\nHarbour\nAmerica/Cordoba\nAmerica/Costa_Rica\nAmerica/Creston\nAmerica/Cuiaba\nAmerica/Curacao\nAmerica/\nDanmarkshavn\nAmerica/Dawson\nAmerica/Dawson_\nCreek\nAmerica/Denver\nAmerica/Detroit\nAmerica/Dominica\nAmerica/Edmonton\nAmerica/Eirunepe\nAmerica/El_Salvador\nAmerica/Ensenada\nAmerica/Fort_Nelson  America/Fort_ Wayne\nAmerica/Fortaleza\nAmerica/Glace_Bay\nAmerica/Godthab\nAmerica/Goose_ Bay\nAmerica/Grand_Turk\nAmerica/Grenada\nAmerica/Guadeloupe  America/Guatemala\nAmerica/Guayaquil\nAmerica/Guyana\nAmerica/Halifax\nAmerica/Havana\nAmerica/Hermosillo\nAmerica/Indiana/\nIndianapolis\nAmerica/Indiana/\nTell_City\nAmerica/Indiana/Knox  America/Indiana/\nMarengo\nAmerica/Indiana/\nVevay\nAmerica/Indiana/\nVincennes\nAmerica/Indiana/\nPetersburg\nAmerica/Indiana/\nWinamac\nAmerica/Indianapolis  America/Inuvik\nAmerica/Iqaluit\nAmerica/Jamaica\nAmerica/Jujuy\nAmerica/Juneau\nAmerica/Kentucky/\nLouisville\nAmerica/Kentucky/M\nonticello\nAmerica/Knox_IN\nAmerica/Kralendijk\nAmerica/La_Paz\nAmerica/Lima\nAmerica/Los_Angeles  America/Louisville\nAmerica/Lower_Princes\nAmerica/Maceio\nAmerica/Managua\nAmerica/Manaus\nAmerica/Marigot\nAmerica/Martinique\nAmerica/Matamoros\nAmerica/Mazatlan\nAmerica/Mendoza\nAmerica/ Menominee\nAmerica/Merida\nAmerica/Metlakatla\nAmerica/Mexico_City\nAmerica/Miquelon\nAmerica/Moncton\nAmerica/Monterrey\nAmerica/Montevideo\nAmerica/Montreal\nAmerica/Montserrat\nAmerica/Nassau\nAmerica/New_York\nAmerica/Nipigon\nAmerica/Nome\nAmerica/Noronha\nAmerica/North_Dakota/\nBeulah\nAmerica/North_\nDakota/Center\n171\nAmerica/North_\nDakota/New_Salem\nAmerica/Ojinaga\nAmerica/Panama\nAmerica/Pangnirtung\nAmerica/Paramaribo  America/Phoenix\nAmerica/Port-au-Prince  America/Port_of_\nAmerica/Porto_Acre\nAmerica/Porto_Velho  America/Puerto_Rico\nSpain\nAmerica/Punta_\nArenas\nAmerica/Rainy_River\nAmerica/Rankin_Inlet  America/Recife\nAmerica/Regina\nAmerica/Resolute\nAmerica/Rio_Branco\nAmerica/Rosario\nAmerica/Santarem\nAmerica/Santiago\nAmerica/Santo_\nDomingo\nAmerica/Scoresbysund  America/Shiprock\nAmerica/Sitka\nAmerica/Santa_\nIsabel\nAmerica/Sao_Paulo\nAmerica/St_\nBarthelemy\nAmerica/St_Johns\nAmerica/St_Kitts\nAmerica/St_Lucia\nAmerica/St_Thomas\nAmerica/St_Vincent\nAmerica/Swift_Current  America/Tegucigalpa\nAmerica/Thule\nAmerica/Thunder_Bay  America/Tijuana\nAmerica/Toronto\nAmerica/Tortola\nAmerica/Vancouver\nAmerica/Virgin\nAmerica/Whitehorse\nAmerica/Winnipeg\nAmerica/Yakutat\nAmerica/Yellowknife",
    "tags": [
      "catamarca america",
      "cordoba america",
      "jujuy america",
      "mendoza america",
      "bay america",
      "indianapolis america",
      "louisville america",
      "north_ dakota"
    ]
  },
  {
    "section_id": "122_australia",
    "section_title": "Australia",
    "level": 1,
    "page_start": 172,
    "page_end": 172,
    "text": "Australia\nAustralia/ACT\nAustralia/Adelaide\nAustralia/Brisbane\nAustralia/Broken_Hill\nAustralia/Canberra\nAustralia/Currie\nAustralia/Darwin\nAustralia/Eucla\nAustralia/Hobart\nAustralia/LHI\nAustralia/Lindeman\nAustralia/Lord_Howe\nAustralia/Melbourne\nAustralia/NSW\nAustralia/North\nAustralia/Perth\nAustralia/Queensland  Australia/South\nAustralia/Sydney\nAustralia/Tasmania\nAustralia/Victoria\nAustralia/West\nAustralia/Yancowinna",
    "tags": []
  },
  {
    "section_id": "123_indian",
    "section_title": "Indian",
    "level": 1,
    "page_start": 172,
    "page_end": 172,
    "text": "Indian\nIndian/Antananarivo\nIndian/Chagos\nIndian/Christmas\nIndian/Cocos\nIndian/Comoro\nIndian/Kerguelen\nIndian/Mahe\nIndian/Maldives\nIndian/Mauritius\nIndian/Mayotte\nIndian/Reunion",
    "tags": []
  },
  {
    "section_id": "124_mexico",
    "section_title": "Mexico",
    "level": 1,
    "page_start": 172,
    "page_end": 172,
    "text": "Mexico\nMexico/BajaNorte\nMexico/BajaSur\nMexico/General",
    "tags": []
  },
  {
    "section_id": "125_other",
    "section_title": "Other",
    "level": 1,
    "page_start": 172,
    "page_end": 173,
    "text": "Other\nAntarctica/Casey\nAntarctica/Davis\nAntarctica/\nDumontDUrville\nAntarctica/\nMacquarie\n172\nAntarctica/Mawson\nAntarctica/McMurdo  Antarctica/Palmer\nAntarctica/Rothera\nAntarctica/South_Pole  Antarctica/Syowa\nAntarctica/Troll\nAntarctica/Vostok\nArctic/Longyearbyen\nAtlantic/Azores\nAtlantic/Bermuda\nAtlantic/Canary\nAtlantic/Cape_Verde\nAtlantic/Faeroe\nAtlantic/Faroe\nAtlantic/Jan_Mayen\nAtlantic/Madeira\nAtlantic/Reykjavik\nAtlantic/South_\nGeorgia\nAtlantic/St_Helena\nAtlantic/Stanley\nBrazil/Acre\nBrazil/DeNoronha\nBrazil/East\nBrazil/West\nCanada/Atlantic\nCanada/Centra\nCanada/Eastern\nCanada/Mountain\nCanada/Newfoundland  Canada/Pacific\nCanada/Saskatchewan  Canada/Yukon\nChile/Continental\nChile/EasterIsland\nCET\nEST\nGB\nGMT-0\nHongkong\nJamaica\nMET\nNZ-CHAT\nPoland\nSingapore\nUniversal\nCST6CDT\nEST5EDT\nGB-Eire\nGMT0\nIceland\nJapan\nMST\nNavajo\nPortugal\nTurkey\nW-SU\nCuba\nEgypt\nGMT\nGreenwich\nIran\nKwajalein\nMST7MDT\nPRC\nROC\nUCT\nWET\nEET\nEire\nGMT+0\nHST\nIsrael\nLibya\nNZ\nPST8PDT\nROK\nUTC\nZulu\n173",
    "tags": []
  },
  {
    "section_id": "126_приложение_б_типы_макросов",
    "section_title": "Приложение Б. Типы макросов",
    "level": 0,
    "page_start": 174,
    "page_end": 175,
    "text": "Приложение Б. Типы макросов\nМакросы могут иметь следующие типы:\n•\n•\n•\n•\n•\n“date” — дата и время (используется формат ISO 8601);\n“decimal“ — число, в т. ч. вещественное;\n“categorical“ — фиксированное число возможных значений;\n“boolean“ — логическое значение;\n“string“ — строка.\nДля  отправки  клиентам  в  макросах  рассылки  персонализированных  многострочных\nтекстов можно использовать символ разделения строк — \\n (в макросах типа «string»). Эта\nвозможность  доступна  только  для  API-вызовов,  при  вызове  события  из  интерфейса\n(тестовый вызов события из консоли маркетолога) клиент получит \\n в тексте рассылки.\n174\nПриложение  В.  Настройка  SMS-провайдера\n«СМС услуги»\nСайт сервиса — https://sms-uslugi.ru/, личный кабинет — https://lcab.sms-uslugi.ru/.\nПри работе с провайдером «СМС услуги» есть ряд особенностей:\n1.  При  создании  SMS-провайдера  в  поле  «Логин»  указывается  произвольная\nпоследовательность символов, например, «12345» (см. Рисунок 216).\nРисунок 216 — Ввод параметров для SMS-провайдера «СМС услуги»\n2.  В  поле  «Пароль»  необходимо  указать  токен,  который  создается  в  личном  кабинете\nсервиса (раздел «API» - «Рассылка сообщений», см. Рисунок 217):\n175",
    "tags": [
      "консоли маркетолога",
      "клиент получит",
      "ввод параметров",
      "использовать символ",
      "тестовый вызов",
      "ряд особенностей",
      "последовательность символов",
      "вызов события",
      "сайт сервиса",
      "личный кабинет",
      "рассылка сообщений"
    ]
  },
  {
    "section_id": "127_приложение_в_настройка_sms_провайдера_смс_услуги",
    "section_title": "Приложение В. Настройка SMS-провайдера «СМС услуги»",
    "level": 0,
    "page_start": 175,
    "page_end": 178,
    "text": "Приложение  В.  Настройка  SMS-провайдера\n«СМС услуги»\nСайт сервиса — https://sms-uslugi.ru/, личный кабинет — https://lcab.sms-uslugi.ru/.\nПри работе с провайдером «СМС услуги» есть ряд особенностей:\n1.  При  создании  SMS-провайдера  в  поле  «Логин»  указывается  произвольная\nпоследовательность символов, например, «12345» (см. Рисунок 216).\nРисунок 216 — Ввод параметров для SMS-провайдера «СМС услуги»\n2.  В  поле  «Пароль»  необходимо  указать  токен,  который  создается  в  личном  кабинете\nсервиса (раздел «API» - «Рассылка сообщений», см. Рисунок 217):\n175\nРисунок 217 — Раздел «API» личного кабинета на сервисе «СМС услуги»\nЗначение для пароля берется из столбца Token (см. Рисунок 218):\nРисунок 218 — Подраздел «Рассылка сообщений», в котором генерируется токен\n3.  В  поле  «Отправитель»  указывается  отправитель,  добавленный  в  разделе «Рассылка\nСМС» - «Имена отправителя» (см. Рисунок 219):\n176\nРисунок 219 — Настройка имени отправителя\nПримечание:\nДля целей тестирования можно использовать сообщения «test» и «тест».\n177\nПриложение  Г.  Настройка  SMS-провайдера\n«SMS.ru»\nСайт сервиса — https://sms.ru/, личный кабинет — https://sms.ru/?panel=my.\nПри работе с провайдером «SMS.ru» есть ряд особенностей:\n1.  При\nсоздании\nуказывается\nв\nзарегистрированный  в  SMS.ru  отправитель  или  номер  телефона,  на  который\nзарегистрирован аккаунт (если отправитель не зарегистрирован).\nSMS-провайдера\n«Отправитель»\nполе\n2.  В  поле  «Пароль»  указывается  «api_id»,  который  можно  получить  в  разделе\n«Программистам» - «Ваш api_id» личного кабинета SMS.ru (см. Рисунок 220).\nРисунок 220 — api-токен в личном кабинете SMS.ru\nПримечания\n* Meta (соцсети Facebook и Instagram) признана в России экстремистской организацией,\nее деятельность на территории страны запрещена.\n178",
    "tags": [
      "ввод параметров",
      "ряд особенностей",
      "последовательность символов",
      "сайт сервиса",
      "личный кабинет",
      "личном кабинете",
      "рассылка сообщений",
      "личного кабинета"
    ]
  },
  {
    "section_id": "128_приложение_г_настройка_sms_провайдера_sms_ru",
    "section_title": "Приложение Г. Настройка SMS-провайдера «SMS.ru»",
    "level": 0,
    "page_start": 178,
    "page_end": 178,
    "text": "Приложение  Г.  Настройка  SMS-провайдера\n«SMS.ru»\nСайт сервиса — https://sms.ru/, личный кабинет — https://sms.ru/?panel=my.\nПри работе с провайдером «SMS.ru» есть ряд особенностей:\n1.  При\nсоздании\nуказывается\nв\nзарегистрированный  в  SMS.ru  отправитель  или  номер  телефона,  на  который\nзарегистрирован аккаунт (если отправитель не зарегистрирован).\nSMS-провайдера\n«Отправитель»\nполе\n2.  В  поле  «Пароль»  указывается  «api_id»,  который  можно  получить  в  разделе\n«Программистам» - «Ваш api_id» личного кабинета SMS.ru (см. Рисунок 220).\nРисунок 220 — api-токен в личном кабинете SMS.ru",
    "tags": [
      "ряд особенностей",
      "сайт сервиса",
      "личный кабинет",
      "личном кабинете",
      "личного кабинета"
    ]
  },
  {
    "section_id": "129_примечания",
    "section_title": "Примечания",
    "level": 0,
    "page_start": 178,
    "page_end": 178,
    "text": "Примечания\n* Meta (соцсети Facebook и Instagram) признана в России экстремистской организацией,\nее деятельность на территории страны запрещена.\n178",
    "tags": []
  }
]